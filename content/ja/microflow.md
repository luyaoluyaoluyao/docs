---
title: "マイクロフローのプロパティ"
parent: "マイクロフロー"
tags:
  - "マイクロフロー"
  - "エンティティアクセス"
---

{{% alert type="info" %}}
<img src="attachments/chinese-translation/china.png" style="display: inline-block; margin: 0" /> 簡体字中国語の翻訳については、 [<unk> <unk> <unk>](https://cdn.mendix.tencent-cloud.com/documentation/refguide8/microflow.pdf) をクリックしてください。
{{% /alert %}}

## 1つの紹介

このドキュメントでは、マイクロフローの特性について説明します。 どのマイクロフローがどのような要素を含んでいるかを確認したい場合は、 [Microflow](microflows) を確認できます。

## 2つのプロパティ

以下の図に、マイクロフローのプロパティの例を示します。

{{% image_container width="250" %}}![マイクロフローのプロパティ](attachments/microflows-and-nanoflows/microflow-properties.png)
{{% /image_container %}}

マイクロフローのプロパティは、次のセクションで構成されています。

* [一般的な](#common)
* [同時実行](#concurrent)
* [出力](#output)
* [セキュリティ](#security)
* [使用法](#usage)

### 2.1 共通セクション {#common}

#### 2.1.1 名前

**名前** はマイクロフローの内部名です。 アプリでマイクロフローを参照する場合は、この名前を使用します。 モジュール内で一意である必要がありますが、異なるモジュール内で同じ名前を持つ2つのマイクロフローを持つことができます。 マイクロフローを参照する場合 通常はモジュールの名前を付けて一意性を確保し、他のモジュールでマイクロフローを使用することができます。

#### 2.1.2 ドキュメント

**ドキュメント** では、マイクロフローを簡単に記述することで、ユーザーがマイクロフローを簡単に使用したり変更したりできます。

### 2.2 同時実行セクション {#concurrent}

#### 2.2.1 許可

**Disallow** プロパティでは、マイクロフローを同時に複数回実行できるかどうかを指定できます。 これは、1つのユーザーセッション内だけでなく、アプリを使用しているすべてのエンドユーザーに適用されます。

マイクロフローの同時実行を禁止することは、マイクロフローが別の実行中のインスタンスに干渉する場合に便利です(例えば、マイクロフローが別の実行中のインスタンスに干渉する場合)。 地球規模のリソースにアクセスすることができます

| Option      | 説明                                                        |
| ----------- | --------------------------------------------------------- |
| *なし（デフォルト）* | マイクロフローを複数回同時に実行することが可能です。                                |
| はい          | 同時にマイクロフローを実行することはできません。ユーザーはメッセージを受信するか、別のマイクロフローを実行します。 |

#### 2.2.2 エラーメッセージ

**エラーメッセージ** は、同時実行が許可されていないときにユーザーが取得するメッセージを定義し、既に実行中にユーザーがマイクロフローを開始しようとします。 **Error microflow** が定義されている場合、これは表示されません。

#### 2.2.3 エラーマイクロフロー

**Error microflow** は、並列実行が許可されていない場合に実行する別のマイクロフローを定義し、ユーザーが既に実行中にマイクロフローを開始しようとします。 設定されている場合、ユーザーに表示されるメッセージは表示されません。

### 2.3 出力セクション {#output}

#### 2.3.1 戻り値の種類

戻り値の型は、マイクロフローが返す情報を定義します。 マイクロフローの呼び出し元はこのタイプの結果を取得します。 返り値の型については、 [Data Types](data-types) を参照してください。

{{% alert type="info" %}}
オブジェクトをコミットすべきかどうかを示すには、ブール値をマイクロフローの戻り値の型として使用できます。
{{% /alert %}}

### 2.4 セキュリティセクション {#security}

#### 2.4.1 エンティティアクセスの適用

**エンティティアクセスの適用** は、オブジェクトに対する操作を実行する際に、現在のユーザーに基づくエンティティアクセスが適用されるかどうかを示します。 これを「はい」に設定すると、 [retrieve action](retrieve) によって取得されたオブジェクトは、現在のユーザーが表示できるオブジェクトのみに制限されます。 同様に、属性や関連付けを読み書きする際には、現在のユーザーのエンティティアクセスが適用されます。 逆に、エンティティアクセスが適用されない場合、すべての操作が許可され、すべてのオブジェクトが取得されます。

| Option      | 説明                                                  |
| ----------- | --------------------------------------------------- |
| はい          | エンティティアクセスは、オブジェクトの取得と操作に適用されます。 現在のユーザーの権利は考慮されます。 |
| *なし（デフォルト）* | エンティティアクセスが適用されていません。                               |

{{% alert type="info" %}}
デフォルトではエンティティアクセスは適用されていません。 現在のユーザーのアクセス権を尊重するいくつかのアクションを実行したい場合は、 **** に **はい** を適用します。
{{% /alert %}}

{{% alert type="info" %}}
エンティティアクセスを適用するマイクロフローには、エディタに **エンティティアクセス** タグがあります。
{{% /alert %}}

#### 2.4.2 許可されたロール

**Allowed roles** defines which [module role](module-security#module-role) the user must have to be able to execute the microflow.

{{% alert type="warning" %}}
これらのロールは、マイクロフローがクライアントから実行された場合にのみチェックされます。 マイクロフローは常に別のマイクロフローを呼び出すことができますが、これらのロールはチェックされません。
{{% /alert %}}

詳細については、 [モジュールセキュリティ](module-security) を参照してください。

### 2.5 使用セクション {#usage}

#### 2.5.1 使用済みにする

You can search for unused items (<kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>F</kbd>, then select **Unused items** in the **Search for** drop-down menu) in Studio Pro. Studio Pro は、Java ソースコード内を参照することができないため、Java コードからのみ呼び出されるマイクロフローは、使用されていないと表示されます。

プロパティ **使用済みとして** を **はい**に設定する マイクロフローが使用されていることを明示的に指定し、使用されていない項目を検索するときに Studio Pro がその項目を一覧表示しなくなります。

デフォルト: *いいえ*

## 3 マイクロフローアクションとして公開

マイクロフロー内で右クリックし、 **プロパティ** を選択することによってアクセス可能な他のプロパティがあります。

![マイクロフローアクチンとして公開する](attachments/microflows-and-nanoflows/microflow-expose.png)

****  オプションを選択すると、マイクロフローをマイクロフローアクションとして公開することができます。 マイクロフローを公開すると、選択したカテゴリのマイクロフローを編集しているときに、 **Toolbox** に表示されます。 このアクションがマイクロフローで使用されると、提供されたキャプションとアイコンが表示されます。

マイクロフローアクションのキャプションとカテゴリが必要ですが、アイコンはオプションです。 アイコンが選択されていない場合、既定のマイクロフロー呼び出しアクションアイコンが使用されます。 アイコンの推奨サイズは16x16ピクセルです。
