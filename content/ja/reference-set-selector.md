---
title: "参照セットセレクター"
parent: "input-widgets"
menu_order: 80
tags:
  - "studio pro"
---

{{% alert type="info" %}}
<img src="attachments/chinese-translation/china.png" style="display: inline-block; margin: 0" /> 簡体字中国語の翻訳については、 [<unk> <unk> <unk>](https://cdn.mendix.tencent-cloud.com/documentation/refguide8/reference-set-selector.pdf) をクリックしてください。
{{% /alert %}}

{{% alert type="warning" %}}The **reference set selector** ウィジェットはネイティブのモバイルページではサポートされていません。{{% /alert %}}

## 1つの紹介

**リファレンスセットセレクタ** は、関連するオブジェクトを選択することによって、エンドユーザーが多対多の(参照セット) [アソシエーション](associations) の値を表示または選択できるようにするために使用される。

参照セットセレクタは、 [データ ウィジェット](data-widgets) に配置する必要があります。

たとえば、顧客をグループにグループ化でき、各顧客は複数のグループに属することができます。 各グループには多くの顧客がいます。 エンティティ **顧客** と **グループ** は多対多の関係を持っている (参照セット) 。 参照セットセレクタを使用して、顧客が属するグループを選択できます。

参照セットセレクタで何ができるかは、アソシエーションの **所有者** に依存します。 以下のドメインモデルの例 **所有者** は **デフォルト** に設定されています (関連プロパティ **'顧客' オブジェクトは 'グループ' オブジェクト** を参照します)。

![オーナーが「デフォルト」の顧客（親）とグループ間の参照セットセレクタのドメインモデル 顧客はグループを参照しています)](attachments/reference-set-selector/domain-model-owner-default.png)

顧客データビューに参照セットセレクタを入れると、ユーザが顧客に属するグループを選択できるようになります。 ただし、お客様が協会の所有者であるため、 グループ内の顧客を選択するには、参照セットセレクタをグループデータビューに置くことはできません。

顧客にグループを追加し、顧客をグループに追加できるようにする。 あなたは、関連付けの所有権を **** に設定する必要があります。

![オーナーが「両方」である顧客（親）とグループ間の参照セットセレクタのドメインモデル 顧客とグループが互いを参照します)](attachments/reference-set-selector/domain-model-owner-both.png)

リファレンスセットセレクターでは、 データビューのエンティティに接続するために使用される関連エンティティと関連付けは、参照セットセレクタの上部に表示されます。 そして、関連するオブジェクトの属性名が参照セットセレクタ内に表示されます。 各属性は [グリッド列](columns)に表示されます。 関連付けと関連するエンティティと属性は角括弧と青色の間で表示されます。

たとえば、上記のドメインモデルを使用します。 次の参照セットセレクタは、関連付け **Customer_Group**を設定することによって、エンドユーザーが1つ以上のグループと顧客を関連付けることを可能にします。 これは、現在の **顧客**に関連付けられている **グループ**の **名**を選択することによって行われます。

![](attachments/reference-set-selector/reference-set-selector.png)

リファレンスセットセレクタは、 [データ グリッド](data-grid) のように見えるため、多くのプロパティを共有します。 主な違いは、参照セットセレクタに検索バーがなく、 **** を追加し、 **** ボタンを **New** と **Delete** があることです。 これは、彼らが若干異なる機能を実行するためです:

*   **追加** ボタンは、既存のオブジェクトに関連付けを追加します。 新しい関連付けを追加するときに開くページを指定する必要があります。 詳細については、 [ボタンを追加](control-bar#add-button) を参照してください。
*   **Remove** ボタンはオブジェクトへの関連付けを削除しますが、オブジェクト自体は変更または削除しません。

{{% alert type="info" %}}
関連付けの変更を保存するには、参照セットセレクタを含むデータビューでオブジェクトを明示的にコミットする必要があります。 例えば、これを実行できます。 データビュー内のオブジェクトの **保存** ボタンを持つことにより、（上の図の *顧客* エンティティに表示されている）。
{{% /alert %}}

## 2つのプロパティ

以下の画像では、参照集合セレクタープロパティの例を示しています。

{{% image_container width="250" %}}![](attachments/reference-set-selector/reference-set-selector-properties.png)
{{% /image_container %}}

参照集合セレクタープロパティは以下のセクションで構成されています:

* [一般的な](#common)
* [データソース](#data-source)
* [デザインプロパティ](#design-properties)
* [イベント](#events)
* [全般](#general)
* [選択可能なオブジェクト](#selectable-objects)
* [公開範囲](#visibility)

参照セットセレクタウィジェットのプロパティには表示されないプロパティは3つ追加されます。

1. コントロールバーには、関連付けの検索、追加、削除に必要なボタンが含まれています。 詳細については、 [コントロール バー](control-bar) を参照してください。

2. 参照集合セレクターの行は、ソートバーのプロパティを使用してソートできます。 ソートバーの使用方法の詳細については、 [Sort Bar](sort-bar) を参照してください。

    ![](attachments/reference-set-selector/sort-bar.png)

3. 各属性は列に表示されます。 これらの列のプロパティについては、 [グリッド列](columns) を参照してください。

### 2.1 共通セクション{#common}

{{% snippet file="refguide8/comon-section-link.md" %}}

### 2.2 データソースセクション {#data-source}

{{% snippet file="refguide8/data-source-section-link.md" %}}

属性パスは、関連するエンティティのどの属性を参照セットセレクタに表示するかを指定します。 パスは、データビューのエンティティから始まるタイプ参照セットの関連付けに従う必要があります。

{{% alert type="warning" %}}
現在、参照セットセレクターで非永続エンティティを使用することはできません。
{{% /alert %}}

### 2.3 デザインプロパティセクション {#design-properties}

{{% snippet file="refguide8/design-section-link.md" %}}

### 2.4 イベントセクション {#events}

on-change プロパティは、ウィジェットを離れたときに実行されるアクションを指定します。 <kbd>Tab</kbd> キーを使用するか、値が変更された後に別のウィジェットをクリックします。

{{% snippet file="refguide8/events-section-link.md" %}}

### 2.5 一般セクション {#general}

#### 2.5.1 Width Unit {#width-unit}

参照セットセレクタで列の幅を定義する方法を決定できます。 使用可能な値は次のとおりです。

* ピクセル - 幅をピクセルで定義します
* Percentage – 参照セットセレクターウィジェットの幅の割合を指定します

#### 2.5.2 列の幅 {#column-widths}

列幅はパーセンテージまたはピクセルとして定義されます。 列の値はセミコロンで区切られます。 例えば、狭い列と幅の列は `20;80`として定義できます。 幅がパーセンテージで定義されている場合、最大100を足す必要があります。

列の幅がパーセンテージとして定義されている場合は、列間の行をドラッグして列の幅を変更することもできます。

#### 2.5.3 行数 {#number-of-rows}

このプロパティを使用すると、1ページに表示される行数を変更できます。 プロパティ「空の行を表示」も参照してください。

デフォルト: *5*

#### 2.5.4 空の行を表示 {#show-empty-rows}

空の行を表示する場合、ページに表示するオブジェクトが少なくても、同じ行数を表示するグリッドが常に存在します ('行数' を参照)。

デフォルト: *False*

#### 2.5.5 ツールチップページ {#tooltip-page}

ツールチップページは、行の上にマウスをポイントしたときに表示されるページです。 ツールチップページには、データ グリッドと同じエンティティにデータ ビューが含まれている必要があります。

ツールチップは指定した列にのみ表示されます。 各列のデフォルトは、ツールチップが _ではなく_ が表示されることです。 詳細は [グリッド列](columns) を参照してください。

#### 2.5.6 コントロールバーを表示 {#show-control-bar}

このプロパティは、エンドユーザーインターフェイスでコントロール バーが表示されるかどうかを示します。 コントロールバーにはページングボタンも含まれています。 詳細は [コントロール バー](control-bar) を参照してください。

{{% alert type="warning" %}}
コントロールバーが非表示の場合でも、行をクリックすることによってトリガーされる既定のボタンが残っている場合があります。 詳細については、プロパティ 'Default button trigger' と [control bar](control-bar) を参照してください。
{{% /alert %}}

デフォルト: *True*

#### 2.5.7 ページングボタンを表示 {#show-paging-buttons}

{{% alert type="warning" %}}
このプロパティは Mendix 8.13 以降では使用できません。 代わりに [ページングバー](#show-paging-bar) を表示するプロパティを使用します。
{{% /alert %}}

このプロパティは、グリッド内の情報をページに移動するボタンが表示されているかどうかを示します。 グリッドの行数より多くのオブジェクトが存在しないことを確認している場合にのみ、これらのボタンを非表示にします。 コントロールバーを非表示にすると、ページングボタンも非表示になります。

デフォルト: *True*

#### 2.5.8 ページングバーを表示 {#show-paging-bar}

{{% alert type="info" %}}
このプロパティは Mendix 8.13 で導入されました。 [ページングボタン](#show-paging-buttons) プロパティを置き換えます。
{{% /alert %}}

このプロパティを使用すると、ページングバーの表示方法を変更できます。

| 値          | 説明                                                                    |
| ---------- | --------------------------------------------------------------------- |
| はい (合計数)   | ページングバーが表示され、 **最後のページ** ボタンとオブジェクトの合計数が含まれます。                        |
| はい (合計数なし) | ページングバーが表示されます( **** ボタンを除く)。 また、ページ番号が代わりに表示されるため、オブジェクトの総数は表示されません。 |
| いいえ        | ページングボタンは表示されません。                                                     |

デフォルト: *はい (合計)*

{{% alert type="warning" %}}
コントロールバーを非表示にすると、ページングボタンも非表示になります。 詳細については、 [コントロール バー](#show-control-bar) を参照してください。
{{% /alert %}}

#### 2.5.9 選択モード {#selection-mode}

選択モードは、ユーザが参照セットセレクタで項目を選択できるかどうかと方法を決定します。

| 値               | 説明                                                                                                                                                |
| --------------- | ------------------------------------------------------------------------------------------------------------------------------------------------- |
| 選択されていません       | ユーザーはアイテムを選択できません。 このうち、参照セットセレクターに **削除** ボタンを設定することはできません。                                                                                      |
| 単一選択  *(デフォルト)* | ユーザーはそれをクリックして単一の項目を選択することができます。 別の項目をクリックすると、その項目が選択されます。 選択したアイテムをクリックすると選択解除されます。                                                              |
| 単一選択と維持         | ユーザーはそれをクリックして単一の項目を選択することができます。 最初の項目は常にデフォルトで選択されます。 別の項目をクリックすると、その項目が選択されます。 選択したアイテムをクリックすると選択解除されません。                                       |
| 複数選択            | ユーザーは、最初の項目をクリックし、 <kbd>Ctrl</kbd> キーを押しながら他の項目をクリックすることで、複数の項目を選択できます。 <kbd>Ctrl</kbd> キーを持たないアイテムをクリックすると、選択されたアイテムの選択が解除され、クリックされたアイテムが選択されます。 |
| 単純な複数選択         | ユーザーは順番にそれらをクリックすることによって複数の項目を選択することができます。                                                                                                        |

#### 2.5.10 最初に選択 {#select-first}

参照セットセレクタが最初に表示されるときに、最初の項目をデフォルトで選択するかどうかを指定します。

可能な値:

* *なし（デフォルト）*
* はい

#### 2.5.11 デフォルトのボタントリガー {#default-button-trigger}

既定のボタンは、1行またはダブルクリックでトリガーできます。

| 値                 | 説明                                                            |
| ----------------- | ------------------------------------------------------------- |
| シングルクリック          | ワンクリックで既定のボタンがトリガーされます。 これはユーザーが行を選択できるようにするために組み合わせて使用できません。 |
| *をダブルクリック（デフォルト）* | ダブルクリックするとデフォルトのボタンがトリガーされます。                                 |

### 2.6 選択可能なオブジェクトセクション {#selectable-objects}

format@@0 セクションのプロパティによって、エンドユーザーが選択できるオブジェクトが決定されます。

**ソース** プロパティは、選択可能なオブジェクトを定義する方法を設定します。

* データベース *(デフォルト)*
* XPath

詳細については、 [参照セレクター](reference-selector#selectable-objects) の *選択可能なオブジェクトセクション* を参照してください。

{{% alert type="info" %}}
参照セットセレクタで選択可能なオブジェクトを定義するためにマイクロフローを使用することはできません。
{{% /alert %}}

### 2.7 表示セクション {#visibility}

{{% snippet file="refguide8/visibility-section-link.md" %}}

## 3 続きを読む

* [データビュー](data-view)
* [エンティティ](エンティティ)
* [関連](関連)
* [コントロール バー](control-bar)
