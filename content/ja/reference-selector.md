---
title: "参照セレクター"
parent: "input-widgets"
menu_order: 70
tags:
  - "studio pro"
---

## 1つの紹介

A **reference selector** is used to display and, optionally, allow the end-user to select the value of a one-to-one or one-to-many [association](associations) by selecting the associated object.

参照セレクタは [データ ウィジェット](data-widgets) に配置する必要があります。 このデータ ウィジェットによって取得されたオブジェクトは、1対多のアソシエーションの *多数の* 末尾になければなりません。 あるいは一対一の協会のどちらかの端にいます

たとえば、従業員がいる場合、彼らは1つの会社で働くでしょう。 会社は多くの従業員を持つことができます。 The entities **Employee** and **Company** have a one-to-many association, **Employee_Company**, which you can select by choosing a Company from the Employee through the reference selector.

![](attachments/reference-selector/reference-selector-domain-model.png)

参照セレクターでは、表示される関連するオブジェクトの属性名が参照セレクター内に表示されます。 角括弧と青の色を変えています

例えば、以下の参照はエンドユーザーが見ること、そして設定することを可能にします。 関連 **Employee_Company** は、現在の **Employee** の **CompanyName** を選択します。

![](attachments/reference-selector/reference-selector.png)

{{% alert type="info" %}}
_情報だけを_ 表示したい場合は、 [テキスト ボックス](text-box) を使用することもできます。 これには、いくつかの関連付けステップでリンクされているオブジェクトから属性を選択できるという追加の利点があります。
{{% /alert %}}

## 2つのプロパティ

参照セレクタのプロパティの例は以下の画像で示されています。

{{% image_container width="400" %}}![](attachments/reference-selector/reference-selector-properties.png)
{{% /image_container %}}

参照セレクターのプロパティは以下のセクションで構成されています:

* [一般的な](#common)
* [データソース](#data-source)
* [デザインプロパティ](#design-properties)
* [編集可能](#editability)
* [イベント](#events)
* [書式設定](#formatting)
* [全般](#general)
* [ラベル](#label)
* [選択可能なオブジェクト](#selectable-objects)
* [検証](#validation)
* [公開範囲](#visibility)

### 2.1 共通セクション{#common}

{{% snippet file="refguide/common-section-link.md" %}}

### 2.2 データソースセクション{#data-source}

{{% snippet file="refguide/data-source-section-link.md" %}}

属性パスは、関連するエンティティのどの属性を参照セレクタに表示するかを指定します。 パスは、データビューのエンティティから始まるタイプ参照の関連付けに従う必要があります。

### 2.3 デザインプロパティセクション{#design-properties}

{{% snippet file="refguide/design-section-link.md" %}}

### 2.4 編集可能セクション{#editability}

{{% snippet file="refguide/editability-section-link.md" %}}

### 2.5 イベントセクション{#events}

on-change プロパティは、ウィジェットを離れたときに実行されるアクションを指定します。 <kbd>Tab</kbd> キーを使用するか、値が変更された後に別のウィジェットをクリックします。

{{% snippet file="refguide/events-section-link.md" %}}

### 2.6 書式設定セクション{#formatting}

書式設定セクションは、数値属性の表示方法にのみ適用されます。 以下は以下のデータ型の属性です:

* 小数点以下桁数
* 整数
* 長い順

{{% snippet file="refguide/numeric-formatting-link.md" %}}

### 2.7 一般セクション{#general}

#### 2.7.1{#select-using} を使用して選択

{{% alert type="warning" %}}The **Select using** property is not showed for native mobile pages. ネイティブのモバイルページでは、 **Drop-down** メソッドの選択{{% /alert %}} しかサポートされていません。

参照セレクタにより、エンドユーザーはドロップダウンメニューまたはポップアップページを使用してオブジェクトを選択できます。 ページの使用を選択した場合。 ドロップダウン機能は、ページ選択ポップアップウィンドウを開くウィジェットの右側のボタンに置き換えられます。

| 値                     | 説明                        |
| --------------------- | ------------------------- |
| **ドロップダウン** *(デフォルト)* | ドロップダウンメニューを使用して参照を選択します。 |
| **ページ**               | ポップアップページを使用して参照を選択します。   |

* [ドロップダウン](#drop-down) を使用して選択する利点は、非常に効率的であることです - エンドユーザーは、より少ないキーストロークで選択を行うことができます。 全ての情報が同じページにあるので
* [ページ](#page) を使用して選択する利点は、エンドユーザーがオブジェクトを検索できることです。 そして、各オブジェクトに関する詳細情報を表示することができます – 選択するオブジェクトがたくさんある場合(例えば、 20以上)、ページを使用して選択することをお勧めします。

{{% alert type="warning" %}}
**ドロップダウン** リファレンスセレクタと **ページ** リファレンスセレクタの機能には、小さな違いがあります。 2 番目のドロップダウン メニューまたはページにもリンクされたリストがある参照セレクター項目を変更する場合。 **ページ** のリファレンスセレクタは **ドロップダウン** のリファレンスセレクタであるためクリアされません。
{{% /alert %}}

#### 2.7.1.1 ドロップダウン {#drop-down}

ドロップダウンの参照セレクタは、列挙のための [ドロップダウン](drop-down) と似ています。 ただし、現在のオブジェクトに関連付けられるオブジェクトのリストから選択することができます。 列挙型の値のリストではなく

参照セレクターには、関連付けを介して現在のエンティティにリンクできるオブジェクトの属性が表示されます。 選択された属性は、関連付けられる各オブジェクトに対して一意である必要があります。そうでなければ、エンドユーザーは正しい属性を選択することが困難になります。 例えば、 会社 _の名前_ (うまくいけばユニークな名前) を表示する必要があります。会社の _地域_ (おそらく会社に固有のものではないでしょう) ではありません。

#### 2.7.1.2 ページ {#page}

ページを使用して選択し、ウィジェットの右側にあるボタンをポップアップページでリンクし、選択を行うために使用します。 [ページの選択](#select-page) プロパティを使用して表示するページを選択する必要があります。

#### 2.7.2 空のオプションの図表番号

{{% alert type="info" %}}
[](#select-using) を **ドロップダウン**に設定した場合にのみ表示されます。
{{% /alert %}}

このプロパティは、エンド・ユーザーに表示されるドロップダウン・リファレンス・セレクタの空のオプションのキャプションを指定します。 これは [翻訳可能なテキスト](translatable-texts) です。

空のオプションにキャプションを記入すると、アプリケーションのユーザーエクスペリエンスが向上します。 また、スクリーンリーダーを使用するエンドユーザーがアプリケーションを簡単に操作できるようにします。

#### 2.7.3 ページ{#select-page} を選択

{{% alert type="info" %}}
[Select using](#select-using) is set to **Page**. そのため、Select ページはネイティブモバイルページではサポートされていません。
{{% /alert %}}

format@@0 プロパティにより、ページの選択ボタンが使用されたときに開かれるページが決定されます。

このページは、可能なすべてのオブジェクトのリストから関連するオブジェクトを選択するために使用できます。 このページには、入力参照セットセレクタと同じエンティティに接続されたデータグリッド、テンプレートグリッド、またはリストビューが含まれている必要があります。

ウィジェットを右クリックし、 **選択ページを生成…** を選択して表示する新しいページを生成することをお勧めします。 必要に応じて、結果のページを編集できます。

![ウィジェットを右クリックして選択ページを生成します](attachments/reference-selector/generate-select-page.png)

[Show a Page](on-click-event#show-page) section of *On Click Event & Events Section* を参照してください。 選択ページには [ポップアップ レイアウト](layout#layout-type) が必要です。

**ページタイトル**

{{% alert type="info" %}}
**ページ タイトル** は **プロパティ** ダイアログボックスでのみ使用でき、 **プロパティ** ペインでは使用できません。
{{% /alert %}}

開いたページのタイトルを上書きすることができます。たとえば、開いたページのタイトルを上書きすることができます。

これは、 **ページタイトル** のチェックボックスをオンにすることで有効になります。

#### 2.7.4 ページへ移動

{{% alert type="warning" %}}Go-to page is not supported on native mobile pages.{{% /alert %}}

go-toページでは、エンドユーザーは現在選択されているオブジェクトの詳細な概要にすばやくアクセスできます。

このプロパティは、ユーザーに表示するページを決定します。 このページには、データ ソース **タイプ** コンテキスト **と同じ** **エンティティ (パス)** を参照セレクタで選択されたデータビューが含まれている必要があります。

ウィジェットを右クリックして **Go to page…** を選択することで、新しいgo-toページを生成することをお勧めします。 必要に応じて、結果のページを編集できます。

**ページタイトル**

{{% alert type="info" %}}
**ページ タイトル** は **プロパティ** ダイアログボックスでのみ使用でき、 **プロパティ** ペインでは使用できません。
{{% /alert %}}

開いたページのタイトルを上書きすることができます。たとえば、開いたページのタイトルを上書きすることができます。

これは、 **ページタイトル** のチェックボックスをオンにすることで有効になります。

### 2.8 ラベルセクション{#label}

{{% snippet file="refguide/label-section-link.md" %}}

### 2.9 選択可能なオブジェクトセクション{#selectable-objects}

format@@0 セクションのプロパティによって、エンドユーザーが選択できるオブジェクトが決定されます。

**ソース** プロパティは、選択可能なオブジェクトを定義する3つの方法のうちどちらを使用するかを設定します:

* データベース *(デフォルト)*
* XPath
* マイクロフロー

#### 2.9.1 データベース

データベースは、選択可能なオブジェクトのデフォルトのソースです。 デフォルトでは、正しいエンティティタイプのすべてのデータベースオブジェクトが選択可能になります。

**制約**

制約を追加することで、エンドユーザーに表示されるオブジェクトを制限できます。 **制約の編集** ダイアログボックスで制約の作成方法を説明します:

![拘束ダイアログボックスを編集](attachments/reference-selector/database-constraints.png)

詳細については、 [データベース ソース](database-source#constraints) の *制約* セクションを参照してください。

**並び順**

ソート順は、参照セレクター内のアイテムが表示される順序を指定します。 複数の属性を並べ替えることができます (昇順と降順)。 **(デフォルト)** ソート順が指定されている場合、参照セレクタは表示属性をソートします。

#### 2.9.2 XPath{#xpath-constraints}

ソースが XPath の場合、オブジェクトのリストもデータベースから取得されます。 しかし、表示されるオブジェクトは XPath 制約により選択されます。

**XPath 制約**

XPath 制約により、選択することのできるオブジェクトのリストが制限されます。

例えば、 商品の参照セレクタ上の XPath 制約 `[InStock = true()]` は、在庫にある商品のみが選択可能であることを保証します。

XPath 制約の詳細については、 [XPath 制約](xpath-constraints) を参照してください。

**制約を受けた人**

参照セレクタは、1 つまたは複数のパスで制約することができます。 これは通常、ある参照セレクタを別のセレクタに依存させるために使用されます。 これを説明する最善の方法は、例を通してです。

例えば、食品や飲料製品など、商品がカテゴリに分類される注文システムがあるとします。 注文行を編集できるページでは、商品セレクターはカテゴリセレクターで制約されます。 カテゴリ (*フード*など) を選択した後、 製品セレクタはこのカテゴリに制約され、カテゴリ内の製品のみを表示します。

_ドメインモデルの例_ ![](attachments/reference-selector/orderline-domain-model.png)

ドメインモデルでは、注文ラインはカテゴリと製品の両方に関連付けられています。 これらの関連付けは、参照セレクタを使用して編集できます。 製品からカテゴリーまでの第三の関連付けは、それらの2つのエンティティ間の関係を説明します。つまり、すべての製品には関連するカテゴリーがあります。

{{% alert type="info" %}}
このような三角形の領域モデルの一部は、 **を** に制約させるものです。
{{% /alert %}}

フォームには、 **カテゴリ** 用と **製品** 用の2つの参照セレクタがあります。

![](attachments/reference-selector/orderline-reference-selectors.png)

制約がなければ、参照セットセレクターはすべての製品を提供します:

![すべての商品、食べ物、飲み物の一覧](attachments/reference-selector/orderline-no-constraint.png)

しかし、ドメインモデルの構造のために。 制約を追加することができます。つまり、以前選択したカテゴリの製品のみが選択されます。 これは、 **プロパティによって制約された** によって設定されます。

![](attachments/reference-selector/orderline-constrained-by.png)

これで、エンドユーザーは選択したカテゴリ内の商品のみが表示されます：

![ドリンクカテゴリ内の商品一覧](attachments/reference-selector/orderline-with-constraint.png)

**並び順**

ソート順は、参照セレクター内のアイテムが表示される順序を指定します。 複数の属性を並べ替えることができます (昇順と降順)。 **(デフォルト)** ソート順が指定されている場合、参照セレクタは表示属性をソートします。

#### 2.9.3 Microflow

{{% alert type="warning" %}}
マイクロフローは、ドロップダウンを使用して選択を行う場合にのみ使用できます。
{{% /alert %}}

ソース microflow が選択されている場合、マイクロフローが呼び出され、参照セレクタが表示するオブジェクトのリストを返します。

**マイクロフロー**

Microflow は、オブジェクトのリストを返すために実行されるマイクロフローを指定します。

**マイクロフローの設定**

マイクロフローの設定では、マイクロフロー自体で指定されたパラメーターに応じて、マイクロフローに渡すパラメーターを指定できます。

### 2.10 検証セクション{#validation}

{{% snippet file="refguide/widget-validation-link.md" %}}

### 2.11 可視性セクション{#visibility}

{{% snippet file="refguide/visibility-section-link.md" %}}

## 3 続きを読む

*   [データビュー](data-view)
*   [エンティティ](エンティティ)
*   [関連](関連)
