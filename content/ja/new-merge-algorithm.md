---
title: "微細な競合解像度を持つ新しいマージアルゴリズム"
category: "バージョン管理"
menu_order: 30
tags:
  - "マージ"
  - "アルゴリズム"
  - "コンフリクト"
  - "解像度"
---

## 1つの紹介

アプリを更新したり、変更内の変更をマージしたりするときに、詳細な競合解決を持つ新しいマージアルゴリズムが使用されます。 新しいマージアルゴリズムには、次の機能があります。

* **詳細な葛藤解決** – 文書に矛盾する変更がある場合。 文書全体の中から選択する必要はありません自分の変更やその変更を使って紛争を解決することです 代わりに、ウィジェット、図形、属性、マイクロフローアクションなど、個々の要素のレベルで競合を解決できます。 また、双方からの非競合の変更はすべて自動的に受け入れられます。
* **ウィジェットのリストに並列変更がない場合** – 2人の開発者が同じ文書内のウィジェットに変更を加えた場合、矛盾はありません。 変更が結合されます しかし、変更がドキュメント内の同じ場所に近すぎる場合。 **リスト注文の競合** が報告され、リスト内のウィジェットの最終的な順序を決定する変更をマージしている開発者に通知されます。

## 2 微細な競合解決による新しいアルゴリズムの有効化

{{% alert type="info" %}}
リポジトリがクリーンな状態になっていることを確認してください。すべてがコミットされており、顕著な変更や競合はありません。
{{% /alert %}}

新しいアルゴリズムは、Studio Pro 9 でデフォルトで有効になります。 問題が発生した場合は、以下の手順で古いアルゴリズムに戻すことができます。

1. Studio Proのトップバーで、 **Edit** > **Preferences** > **New features**.
2. **New features** セクションで、 **New merge algorithm with fine grained conflation resolution** オプションを無効にします。
3. Restart Studio Pro.

詳細については、 [環境設定](preferences-dialog) を参照してください。

## 3 競合の例を解決する

アプリ内のページ文書は以下のようにデザインされています:

![元のページ](attachments/new-merge-algorithm/new-merge-algorithm-base-page.png)

同僚がメイン行で次の変更を行います。

* *ホーム* が *ようこそ!* に変更されました。
* テキストの上にMendixのロゴが追加されました *ようこそ!*
* サブタイトル *新しいアプリへようこそ* が削除されました
* テキスト *ここにテキストを書く* が底部レイアウトグリッドに追加されます

同僚の新しいドキュメントレイアウトは以下のとおりです。

![メインラインページ](attachments/new-merge-algorithm/new-merge-algorithm-main-page.png)

ブランチラインで次の変更を行います:

* テキスト *ホーム* を *私のホームページ*に変更します
* 下部のレイアウト グリッド内にデータ グリッドを追加します

次のようにページがレイアウトされました：

![支線ページ](attachments/new-merge-algorithm/new-merge-algorithm-branch-page.png)

## 4つの競合の解決

変更をマージすると、新しいアルゴリズムは次の競合を表示します。

1. 両側が変化したテキスト。
2.  **リスト注文の不一致**。 両方とも下部のレイアウト グリッドにウィジェットを追加しました。 マージアルゴリズムは、2 つの新しいウィジェットの正しい注文を推測することができず、リスト注文の競合を報告します。 これは、最終的なレイアウトを確認し、注文を確認することをあなた(マージを行っている開発者)に通知します。

    ![新しいアルゴリズムの重複](attachments/new-merge-algorithm/new-merge-algorithm-conflicts.png)

解像度プロセスを開始するには、 **Merge** ボタンをクリックします。 ページは、上部にオレンジ色のバーがある特別モードで開きます。

![オレンジ色のバー付きドキュメント](attachments/new-merge-algorithm/new-merge-algorithm-orange-tab.png)

以下の競合しない変更は既にページに適用されています:

* テキストの上にMendixのロゴが追加されました *ホーム* (メインライン)
* 字幕が削除されます (メイン行)
* テキストウィジェットが下部のレイアウト グリッド (メイン ライン) に追加されます
* データ グリッドが下部レイアウト グリッド (ブランチ ライン) に追加されます。

### 4.1 最初の競合の解決

最初の競合では、変更を確認し、適用するバージョンを決定することができます。 競合を表す3つの行のいずれかを選択し、 **鉱山** を使用して解決するか、 **Theirs**を使用して解決するを選択します。

![競合解決モード](attachments/new-merge-algorithm/new-merge-algorithm-resolve-mode.png)

ボタンをクリックすると、ドキュメントの更新がすぐに表示されます。 選択に満足していない場合は、undo を使用して戻って別のオプションを試すことができます。

{{% alert type="info" %}}
キーボードショートカットを使用するには、 <kbd>Ctrl</kbd>+<kbd>Z</kbd> と <kbd>Ctrl</kbd>+<kbd>Y</kbd> を選択を取り消します。 ドキュメントをクリックしてフォーカスします。
{{% /alert %}}

競合に対処する3つ目のオプションがあります: **解決済みとしてマーク**。 これは、競合を解決するためにどの側面も選択しないことを意味し、彼らが元のように物事を維持します。 新しいテキストの変更は適用されません。

競合を解決するための3つのオプションのいずれかを選択したら、. 緑のチェックマークはこの衝突が処理されたことを示しています

### 4.2 第二の紛争の解決

２つ目はリストオーダーの競合です これは、レイアウト グリッド内のウィジェットの順序を確認するためのリマインダーです。 ページエディターで目的の順序でウィジェットを配置し、リスト注文の競合のために **解決済みとしてマーク** を選択することができます。

ウィジェットのいずれかを削除するか、新しいウィジェットを追加することもできます。 この文書は、競合を解決しながら完全に編集可能です。

2番目の競合を解決した後、上部のバーは緑色に変わり、すべての競合が解決されたことを示します:

![すべての競合が解決されました](attachments/new-merge-algorithm/new-merge-algorithm-all-conflicts-resolved.PNG)

いくつかの変更により、 **の** または **の** を使用して競合を解決することは不可能になります。 たとえば、最初の競合を解決しておらず、 *Home* テキストウィジェットを削除した場合などです。 ウィジェットが存在しないため、最初の競合を解決することはできません。 この時点では、競合を解決済みとしてのみマークできます:

![競合は解決できません](attachments/new-merge-algorithm/new-merge-algorithm-cannot-resolve.PNG)

### 4.3 競合解決の終了

すべての競合が解決されたら、 **Accept and Exit** ボタンをクリックして結果を確定します。 ドキュメントはマージされたフォームに保存され、そのドキュメントとの競合は消えます。 その結果、両側からの変更と、おそらくいくつかの手動編集が含まれるドキュメントになります。

**キャンセル** ボタンをクリックすることで、いつでも競合の解決を中断することもできます。 競合は残り、後で解決できます。
