---
title: "拡張現実ウィジェット"
category: "モバイル"
menu_order: 55
tags:
  - "モバイル"
  - "拡張された現実"
  - "studio pro"
  - "AR"
  - "VR"
---

## 1つの紹介

このリファレンスガイドでは、拡張現実(AR)ウィジェットをコンテキストに配置します。 AR体験を作成するために、それらをどのように使用することができるかを説明するだけでなく 。 以下の用語が頻繁に使用されます。

* 拡張現実(AR):携帯電話のカメラビューを介して仮想オブジェクトを現実の世界に追加する
* AR シーン: すべてのオブジェクトを配置する場所
* ビルボード: オブジェクトの回転の挙動を記述します。オブジェクトは常にカメラに直面します。
* 原点: 開始位置、特に (0,0,0)

## 2 ARウィジェットの概要

ARウィジェットは合計9種類あります。 コンテナウィジェットもありますが、ビジュアルウィジェットもあります。

コンテナウィジェット:

1.  **コンテナ (AR)**
2.  **画像トラッカー (AR)**
3.  **平面選択 (AR)**
4.  **Node (AR)**

ビジュアルウィジェット:

5.  **3D オブジェクト (AR)**
6.  **テキスト (AR)**
7.  **Cube (AR)**
8.  **Sphere (AR)**
9.  **Square (AR)**

## 3つのコンテナウィジェット

これは他のウィジェットを含むことができる AR ウィジェットです：

* **コンテナ (AR)**
* **画像トラッカー (AR)**
* **平面選択 (AR)**
* **Node (AR)**

これらのウィジェットは、必ずしもビジュアルをARシーンに追加するわけではありません。 代わりに、機能を提供したり、他のウィジェットをグループ化したりできます。 コンテナウィジェットは、埋め込まれたウィジェットの新しい開始点として機能します。 ARアプリを起動すると、携帯電話の場所が原点となります。

### 3.1 コンテナ (AR)

AR カメラ ビューを開始し、その他すべての AR ウィジェットが含まれます。 このウィジェットはすべてのARアプリの開始です。

### 3.2 画像トラッカー (AR)

**ImageTracker (AR)** takes an image to track, when this image is found in the camera view it becomes the new origin of every AR widget that is embedded in it. For example, if you use a **ImageTracker (AR)** to recognize an image, and put a **Cube (AR)** in it, the cube will start in the exact middle of your image:

{{% image_container width="300" %}}![Cube](../howto/mobile/attachments/how-to-ar-simple-cube/scale-one.jpg){{% /image_container %}}

### 3.3 平面選択 (AR)

**Plane Selector (AR)** は、指定したサイズに合うサーフェスを検出します。 ユーザーは、スキャン中に最初に携帯電話で部屋を歩き回って自分の部屋をスキャンします。 この間、すべてのサーフェスが見つかり、サイズがチェックされます。 十分な大きさの面では、 **Square (AR)** に似たオブジェクトが表示され、クリックして選択することができます。 これが埋め込まれたウィジェットの出発点になります。

### 3.4 Node (AR)

**ノード (AR)** は他のウィジェットのグループ化に役立ちます。 **ノード (AR)** に埋め込まれているものはすべて、各ノードからの固定距離と回転で配置できます。 **ノード (AR)** には、カメラに 'ビルボード' を作ることができる機能もあります。 これは要素のような UI に役立ちます。 この例を見るには、 **AR-Examples** > **Car Color Picker** をチェックし、車の上の球体に注意してください。

## 4つのビジュアルウィジェット

ビジュアルウィジェットは、仮想オブジェクトをシーンに追加するウィジェットです。

### 4.1 Cube (AR)

![Cube](attachments/ar-widgets/Cube.gif)

### 4.2 Sphere (AR)

![Sphere](attachments/ar-widgets/Sphere.gif)

### 4.3 Square (AR)

![正方形（正方形）](attachments/ar-widgets/Square.gif)

### 4.4 3D オブジェクト (AR)

![3DObject](attachments/ar-widgets/3DObject.gif)

シンプルな3Dオブジェクト以外にも、シーンに複雑でカスタムオブジェクトを追加する方法もあります。 3D オブジェクト ウィジェットは、URL または FileDocument のいずれかを取ります (後でモデルをアップロードする必要があります)。 現在サポートされている 3 つのタイプがあります: *.obj*, *.gltf*, および *.glb*. それぞれの利点を持つ。 シンプルなビジュアルウィジェットのようなカスタムマテリアルを使用することは、 *.obj* フォーマットでのみサポートされます。

### 4.5 テキスト (AR)

![テキスト](attachments/ar-widgets/Text.gif)

**テキスト (AR)** は、空間に浮かんでいる 3D テキストまたは 2D テキストを使用できます。 この方法でシーンにテキストの数行だけを追加することをお勧めします。 より大きな段落は、アプリ内の別の場所にある 2D テキストフィールドを介してより良い通信を行います。

## 5つの一般的なプロパティ

すべての AR ウィジェットはこれらのプロパティを共有します。

* 位置
* 回転
* 拡大縮小
* 材料
* 相互作用

### 5.1 位置

**位置** は、オブジェクトがどこにあるべきかを記述する。 ARでは、位置は少し混乱する可能性があります。 これが、ほとんどの位置決めが親ノードに対して相対的である理由です。

This means that the origin of (0,0,0) is in the middle of either the **ImageTracker (AR)**, or (0,0,0) is exactly where the user tapped on the **PlaneSelector (AR)**.

**コンテナ (AR)**に直接ウィジェットを追加することで、相対的でない視覚的なウィジェット上の位置を設定することができます。 0,0,0 の位置は、カメラがシーンの始まりから始まる場所になります。 シーンが開始された後、位置はカメラと一緒に移動しません。

### 5.2 回転

**回転** を使用して、3つの異なる軸上のオブジェクトを回転させることができます。 カスタム3Dオブジェクトに回転を使用すると、3Dファイルのピボットポイントが回転します — オブジェクトの中心は自動的に選択されません。

### 5.3 スケール

**スケール** はオブジェクトのサイズの設定に使用されます。 Widgets that have a set object (**Cube (AR)**, **Sphere (AR)**, or **Square (AR)**) will have a size of 1 or 2 meters. [3D オブジェクト] ウィジェットで追加されたオブジェクトは、1 単位 = 1 メータースケールで正しくエクスポートされない限り、その標準に適合しない可能性があります。 この標準スケールがなければ、3D オブジェクト ウィジェットに追加されたオブジェクトは、スケールが設定されているオブジェクトよりもはるかに大きいか小さくなる可能性があります。

### 5.4 材料

**Material** タブでは、色やレンダリングが必要なオブジェクトのリアリズムを設定します。 例えば、 レンダリングモードをPBRに設定すると、物理ベースのレンダリングが有効になります(HDRイメージを **コンテナ (AR)**でリフレクションマップとして設定することを忘れないでください)。

**マテリアル** の構成は、実際にカメラビューで 3D 要素をレンダリングします。 **Cube (AR)**, **Sphere (AR)**, および **Square (AR)** それぞれ単純な3Dオブジェクトをレンダリングする。 **Square (AR)** ウィジェットのみが片側から見えない場合があります。 シンプルなビジュアルウィジェットには、スケールやマテリアルを通じてカスタマイズする方法が付属しています。 3Dオブジェクトのための材料は、それがどのように見えるべきかを説明します — スタイリングのように考えてください。 テクスチャ(画像)、色、照明、または3Dオブジェクトで再生するビデオを追加することができます。 これらのオブジェクトの唯一の違いは外観にあります — 構成は各ウィジェットで同じです。

### 5.5 相互作用

インタラクションは、3Dオブジェクトが環境やユーザーと対話できるすべてのアクションに使用されます。

#### 5.5.1 物理学

物理学では、衝突イベントを使用して、重力や他のオブジェクトを使用して、3Dオブジェクトが世界に反応することができます。 重力が有効になっている場合、現実世界の環境では3Dオブジェクトが自動的に落下することはありません。 これらのオブジェクトを自分で追加する必要があります。 以下は、異なる物理タイプです。

* **キネマティック** — この物理タイプを持つオブジェクトは、ユーザー入力によってのみ移動でき、シーン内の他のオブジェクトでは移動できません。
* **Dynamic** — ダイナミックオブジェクトは、ユーザー入力とシーン内の他のオブジェクトの両方で移動できます。 例えば、重力 を持つ別のオブジェクトがこのオブジェクトに落ちると、そのオブジェクトは動きます。
* **Static** — 静的オブジェクトは動かず、物理相互作用を通じて動くことはできません。 静的オブジェクトは、それらの位置を具体的に変更する場合でも移動できます。

#### 5.5.2 ドラッグ

ドラッグを有効にすることで、ユーザーはこのオブジェクトをスペース内で移動できます。 ドラッグタイプを使用すると、ユーザーは オブジェクトをドラッグしているときと同じ距離にすることができます。 効果的には、 が動かしている間、オブジェクトが携帯電話に「動かない」ことを意味します。 型をワールドに固定することで、オブジェクトは床と壁に固定され、 ユーザーはそれをドラッグします。

#### 5.5.3 ピンチ中

ピンチを有効にし、ピンチを選択してスケールを拡大することで、ユーザーはピンチジェスチャーを使用してオブジェクトをスケールすることができます。
