---
title: "従業員のオンボーディングプロセスのスタジオでワークフローを構成する"
description: "Mendix Studio でワークフローを構成する方法を説明します。"
menu_order: 5
tags:
  - "スタジオ"
  - "ワークフロー"
  - "どうやって?"
  - タスク", "オンボーディング"
---

## 1つの紹介

ワークフローは、Mendix StudioとMendix Studio Proの新しい視覚言語であり、拡張可能なプロセスを構築することができます。 これは、マイクロフローエディタやページエディタなどの他の視覚言語と完全に統合されています。

この方法では、ワークフローエディタを使用して従業員のオンボーディングプロセスを構築する方法を説明します。 Studio Proで同様のプロセスをビルドする方法の詳細については、こちらをご覧ください。 を参照してください [従業員のオンボーディングプロセスの Studio Pro でワークフローを構成する方法](/howto/logic-business-rules/workflow-how-to-configure)。

**以下の方法を教えてくれます。**

* ワークフローの有効化と作成
* ワークフローエンティティの設定
* ページからワークフローをトリガーする
* さまざまなユーザーロールのユーザータスクを作成する
* ユーザータスク用のページの設定
* 関連するユーザーロールへのページアクセスを制限する
* 決定を作成する
* Configuring navigation
* さまざまなユーザーの視点からワークフローをテストする

以下のユースケースについて説明します。

従業員のオンボーディングプロセスを作成します。 最初は、人事担当者が新規従業員のオンボーディングプロセスを開始する必要があります。 従業員のマネージャーが次にステップインします 従業員のデバイスを選択し、新しい雇用者がオフィスまたは家庭から働いているかどうかを指定します。 その後、施設部門はワークスペースを準備する必要があります。 新しい雇い人(オフィスまたは家庭)の場所によって異なります 施設部門は、机を用意するか、機器を従業員の住所に発送します。

## 2 つの前提条件

この方法を開始する前に、以下の必要条件を完了していることを確認してください:

* ワークフローの用語に慣れましょう。 詳細については、 [ワークフロー](/refguide/workflows) を参照してください。
* Mendix バージョン9を使用していることを確認してください
* アプリが空白のアプリテンプレートに基づいていることを確認してください

## 3 ワークフローの有効化 {#enable-workflows}

まず、アプリのワークフローを有効にする必要があります。 次の操作を行います:

1. 左のメニューバーにあるワークフローアイコンをクリックします。

2. ワークフローを有効にする前に、まずセキュリティを有効にする必要があります。 **セキュリティを有効にする** をクリックしてください。

    {{% image_container width="250" %}}![セキュリティを有効にする](attachments/workflow-how-to-configure/enable-security.png)
    {{% /image_container %}}

3. セキュリティが有効になったら、 **ワークフローを有効にする** をクリックします。

4. **ワークフロー有効** ポップアップメニューで、 **ワークフロー作成** をクリックします。

    {{% image_container width="300" %}}![ワークフローを作成](attachments/workflow-how-to-configure/create-workflow.png)
    {{% /image_container %}}

5. In the **Create new workflow** dialog box, set the **Title** to **Employee_Onboarding**, and then click the **Workflow Entity** field to create a new workflow entity.

6. **ワークフローエンティティを選択** ダイアログボックスで、 **ワークフローエンティティを作成** をクリックします。

7. **新規ワークフローエンティティの作成** ダイアログボックスで、 **名前** を **EmployeeOnboarding** に設定し、 **作成** をクリックします。

8. **Create** をクリックして、もう一度選択を確認してください。

よくできました！ ワークフローおよびワークフロー固有のエンティティを作成していること。 ワークフローエンティティの詳細については、 [ドメインモデル](/studio/domain-models#entity-types) の *エンティティとそのタイプ* セクションを参照してください。

## 4 ドメインモデルの設定

1. [ドメイン モデル](/studio/domain-models) を開きます。
2.  作成した **EmployeeOnboarding** エンティティは、従業員に関する情報を船上に保持します。 新しい従業員が必要とするラップトップモデルなど、ワークフローの実行中に追加された情報をキャプチャするだけでなく。 Add the following attributes to the **EmployeeOnboarding** entity (for more information on how to create attributes, see [Adding New Attributes](/studio/domain-models#adding-new-attributes) section in the *Domain Model*):
    1. **FullName** 属性を追加し、型を文字列に設定します。
    2. **FirstDay** 属性を追加し、日付と時刻にそのタイプを設定します。
    3. **WFH** (自宅から作業) 属性を追加し、その型を Boolean に設定します。
    4. iPhone、iPhone_Pro、Samsungのような、 **PhoneModel** 列挙を追加します。 列挙型の詳細と作成方法については、 [列挙型](/studio/domain-models-enumeration#create-new-enumeration) の *列挙型の作成* セクションを参照してください。
    5. Lenovo, Mac, Dell の列挙項目で **LaptopModel** 列挙項目を追加します。 列挙型の詳細と作成方法については、 [列挙型](/studio/domain-models-enumeration#create-new-enumeration) の *列挙型の作成* セクションを参照してください。

**EmployeeOnboarding** エンティティを設定しました: ![ドメインモデル](attachments/workflow-how-to-configure/domain-model.png)

## 5 セキュリティの設定

[ワークフローを有効にする](#enable-workflows) セクションで、アプリのセキュリティを有効にし、いくつかのロールと権限が自動的に追加されました。 ただし、アプリにHR、マネージャ、および施設の役割を追加する必要があります。 以下の手順に従ってください。

1. **アプリ設定** > **ロールと権限** を開きます。
2. 右側の **Add Role** をクリックします。
3. ロールの名前を **HR** に設定し、 **作成** をクリックします。
4. 手順 2 と 3 を繰り返して、 **マネージャー** と **施設** の役割を作成します。

これで、必要なすべてのロールがアプリケーション用に作成されます。 セキュリティの詳細については、 [セキュリティ、ロール & 権限](/studio/settings-security) を参照してください。

## 6 ページからワークフローをトリガーする

ワークフローを開始するには、それをトリガーする必要があります。 この使用例では、ワークフローは新しい雇用者の名前を入力する必要があります人事専門家によって開始されます。 最初の日に、ワークフローをトリガーする **オンボーディングを開始** ボタンをクリックします。 次の操作を行います:

1. データ ソースとして **EmployeeOnboard** エンティティを含むリスト ビューを含む **EmployeeOnboard** ページを作成します。 (ページを作成し、ウィジェットを追加する方法の詳細については、 [ページ](/studio/page-editor#page-editor-basic-functions) の *基本機能* のセクションを参照してください。

    {{% image_container width="500" %}}![オンボード一覧への従業員数](attachments/workflow-how-to-configure/employees-to-onboard-list.png)
     {{% /image_container %}}

2. ワークフローをリストビューに開始するボタンを追加します。 以下の手順に従ってください。

    1. **Toolbox** を開き、 **Workflow** ボタンを検索します。

    2. ボタンをリストビュー内にドラッグ&ドロップします。

        ![初期登録ボタンを開始する](attachments/workflow-how-to-configure/start-onboarding-button.png)

    3. ボタンのプロパティを開き、 **ワークフロー** プロパティを **Employee_Onboarding** に設定します。

    4. ボタンの **キャプション** を **初期化を開始**に設定します。

3. 人事の専門家はまた新しい雇い人の詳細を記入できるページを必要とする。 **Create Object** ボタンをページ上部に追加します (リストビュー外)。

    {{% image_container width="500" %}}![従業員からオンボードページ](attachments/workflow-how-to-configure/employees-to-onboard-page.png)
    {{% /image_container %}}

4. **エンティティ** を **EmployeeOnboarding** に設定する :

    ![](attachments/workflow-how-to-configure/create-object-button.png)

5. **ページ** プロパティをクリックします。

6. **ページの選択** ダイアログボックスで、プラスアイコンをクリックします。

7. **新規ページの作成** ダイアログボックスで、フォームのテンプレートを確認できます。 次の操作を行います:

    1. **タイトル** を **Employee_Details** に設定します。

    2. **レイアウト** を **PopupLayout** に設定します。

    3. **フォーム 列** テンプレートを選択します。

    4. **Create** をクリックします。

        ![従業員詳細ページを作成](attachments/workflow-how-to-configure/create-employee-details-page.png)

8. 新しいページが開きます。 デフォルトでは、すべての属性がフォームに追加されます。 ただし、HRスペシャリストは、名前と新しい採用の最初の日だけを指定する必要があります。 関連するウィジェットを残し、フォームから他のすべてのウィジェットを削除します。

    ![従業員詳細フォーム](attachments/workflow-how-to-configure/employee-details-form.png)

よくできました！ これで、HRスペシャリストがワークフローを開始できるページが表示されます。

## 7 新採用の詳細の指定 {#specify-details}

新しい従業員のマネージャーは、新しい雇いのデバイスを指定するタスクを取得します。 マネージャーはまた、新しい雇用者が自宅で働いているかどうかを示す必要があります(WFH)。 この機能を使用するには、ワークフローにアクティビティを追加する必要があります。 以下の手順に従ってください。

1. **Employee_Onboarding** ワークフローを開きます。

2. **Toolbox** タブで、 **User Task** アクティビティを見つけて、それをワークフローエディタにドラッグ&ドロップします。

3. ユーザー タスク プロパティを開きます。

4. **図表番号** プロパティを **マネージャーに設定します: 従業員の詳細を指定** すると、このタスクが誰に割り当てられるかを簡単に確認できます:

    ![図表番号](attachments/workflow-how-to-configure/user-task-caption.png)

5. 必要な詳細を指定するページを作成するには、 **ページ** プロパティをクリックします。

6. **ページの選択** ダイアログボックスで、プラスアイコンをクリックします。

7. **新規ページの作成** ダイアログボックスで、ワークフローページのテンプレートを確認できます。 次の操作を行います:

    1. **タイトル** を **SpecifyDetails** に設定します。

    2. **レイアウト** が **Atlas_Default** に設定されていることを確認します。

    3. **UserTask Extended** テンプレートを選択します。

    4. **Create** をクリックします。

        ![新しいページを作成](attachments/workflow-how-to-configure/create-new-page.png)

8. ここで、関連情報のみが **SpecifyDetails** ページに表示されていることを確認する必要があります。 デフォルトでは、すべての属性が従業員の詳細と共にデータビューに追加され、編集できます。 タスクに関連する属性のみを残す必要があります。 また、マネージャーがフォーム内の特定のフィールドのみを変更できることを確認する必要があります。 たとえば、人事部門によって従業員の名前が入力されています。 マネージャーはそれを変更する必要はなく、読み取り専用としてこのフィールドを持つ必要があります。

    次の操作を行います:

    1. **Full name** というラベルの付いたテキストボックスを選択し、そのプロパティに移動します。

    2. **Editability** プロパティを *読み取り専用* に設定します。

    3. このタスクには関連性がないため、 **最初の日** の日付ピッカーを削除します。

    4. **WFH**, **電話モデル**, および **ラップトップモデル** フィールドを残します:

        ![詳細フォームを指定](attachments/workflow-how-to-configure/specify-details-form.png)

9. Managerロールのみが **SpecifyDevice** ページにアクセスできます。 ページ プロパティ > **許可されたロール** に移動し、 **マネージャー** を除くすべてのロールの選択を解除します。

10. ワークフローに戻り、ユーザー タスク プロパティを開き、ユーザー タスクの構成を完了します。

11. マネージャーだけが新しい従業員の詳細を指定する必要があります。 ユーザー タスクが Manager ロールのユーザーにのみ割り当てられていることを確認する必要があります。 次の操作を行います:

    1. **タスクの割り当て** プロパティが **フィルター** に設定されていることを確認します。

    2. **フィルター** プロパティをクリックします。

    3. **** にタスクを割り当てるダイアログボックスで、 **Where** 条件が **User Role** にデフォルトで設定されます。 条件の他の部分を **Manager** に設定し、 **Add** をクリックします:

        ![タスクをマネージャーに割り当てる](attachments/workflow-how-to-configure/assign-task-to-manager.png)

12. **Allowed Roles** プロパティで、 **Manager** 以外のすべてのロールの選択を解除して、このユーザー タスクへのアクセスを関連するロールのみに制限します。

よくできました！ マネージャーの役割のユーザー タスクを作成しました:

![設定されたユーザー タスク](attachments/workflow-how-to-configure/user-task-configured.png)

## 8の場所の異なるパスをたどっている

新しい採用者がオフィスで働いているか自宅で働いているかどうかによって異なります この採用には2つのプロセスがありますオフィスに机を用意するか ノートパソコンと電話を自宅の住所に送ります オンボーディングプロセスのこのステップは、施設部門が行う必要があります。

次の操作を行います:

1. ワークフローエディタを開きます > **Toolbox** **Decision** activity after the **Manager: Location** user taskを指定します。

    ![決定を追加する](attachments/workflow-how-to-configure/decision.png)

2. Decision とは、ワークフローパスが決定の条件に応じて、いずれかの結果を分割およびフォローできることを意味します。 詳細については、 [一般活動](/studio/workflows-general-activities#decision) の *決定* セクションを参照してください。 デシジョン プロパティを開き、次の操作を行います。

    1. **キャプション** を **WFHに設定しますか？**。

    2. **条件** プロパティをクリックします。

    3. In the **Configure condition** dialog box, type in the expression that will split one flow into two depending on the **WFH** attribute: `$workflowData/WFH`.

        {{% image_container width="500" %}}![Decision Properties](attachments/workflow-how-to-configure/decision-properties.png){{% /image_container %}}

    4. **保存** をクリックします。

3. WFH 属性は Boolean であるため、 それは真実(新しい雇い人が自宅で働くとき)と偽(彼らがオフィスで働くとき)の結果を持っています。 これらの結果はワークフローに自動的に追加されます。

    ![意思決定結果](attachments/workflow-how-to-configure/decision-outcomes.png)

4. 今、あなたは両方のシナリオで何が起こるかを設定する必要があります: 新しい雇い人が自宅から動作する場合 (true)、新しい雇い人がオフィスから動作する場合 (false)。 **Toolbox**を開き、 **User Task** アクティビティを **false** パスにドラッグ&ドロップします。

    1. キャプションを **に設定します施設:準備デスク**。

    2. 施設部門のみが新入社員用の机を用意してください。 ユーザータスクが施設の役割を持つユーザーにのみ割り当てられていることを確認する必要があります。 ユーザータスクを施設の役割に割り当てるには、 [の](#specify-details) セクションの手順11a-11cを参照してください。

    3. **** プロパティで、 **施設** 以外のすべてのロールの選択を解除します。

    4. **ページ** プロパティの **準備デスク** と呼ばれる新しいページを作成し、 [New Hire](#specify-details) セクションのステップ7a-7dを参照します。

    5. **PrepareDesk** ページには、関連情報のみが表示されていることを確認する必要があります。 デフォルトでは、すべての属性が従業員詳細フォームに追加されます。 あなたは施設部門がフィールドを表示することができるが、それらを変更しないことを確認する必要があります。 次の操作を行います:

    6. 従業員の詳細を含むデータビューを選択し、そのプロパティに移動します。

    7. **読み取り専用** プロパティを切り替えて、フォーム内のすべてのフィールドを読み取り専用にします。

       ![読み取り専用のデータビュー](attachments/workflow-how-to-configure/data-view-read-only.png)

    8. 施設の役割だけが **準備デスク** ページにアクセスできます。 ページのプロパティ > **許可されたロール** に移動し、 **施設** を除くすべてのロールの選択を解除します。

8. これで、従業員が自宅から作業しているときに、施設のユーザー タスクを作成する必要があります。 ワークフローエディタを開きます。

6. **Toolbox**を開き、 **User Task** アクティビティを **true** のパスにドラッグ&ドロップします。

    1. キャプションを **設備:船装置**に設定します。

    2. 施設部門のみが新入社員用の机を用意してください。 ユーザータスクが施設の役割を持つユーザーにのみ割り当てられていることを確認する必要があります。 これを行うには、 [新しい採用者の詳細を指定する](#specify-details) セクションの手順11a-11cを参照してください。

    3. **** プロパティで、 **施設** 以外のすべてのロールの選択を解除します。

    4. **ページ** プロパティの **ShipDevices** と呼ばれる新しいページを作成し、 [New Hire](#specify-details) セクションの詳細を指定する手順 7a-7d を参照します。

    5.  新しく作成された **ShipDevices** ページでは、デフォルトですべての属性が従業員詳細フォームに追加されます。 施設部門が項目を表示できるようにする必要がありますが、変更しないようにする必要があります。従業員の詳細を含むデータビューを選択し、その施設に移動します。

    6. **読み取り専用** プロパティを切り替えて、フォーム内のすべてのフィールドを読み取り専用にします。

        ![読み取り専用のデータビュー](attachments/workflow-how-to-configure/data-view-read-only.png)

    7. 施設の役割だけが **ShipDevices** ページにアクセスできます。 ページのプロパティ > **許可されたロール** に移動し、 **施設** を除くすべてのロールの選択を解除します。


よくできました！ 新しい雇用者がオフィスで働いているか、自宅で働いているかどうかの決定およびユーザータスクを作成しました。 ワークフローが設定されています！

{{% image_container width="250" %}}
![ワークフローの設定](attachments/workflow-how-to-configure/worfklow-configured.png)
{{% /image_container %}}

## 10 Configuring Navigation

ナビゲーションを構成する必要があります。そうしないと、ユーザーロールはページに到達してタスクとやり取りできなくなります。 以下の手順に従ってください。

1. [ナビゲーション ドキュメント](/studio/navigation)を開き、いくつかのメニュー項目がすでに事前に設定されています。

2. 人事の役割は、 **EmployeeToOnboard** ページにアクセスできる必要があります。 新しいメニュー項目を追加し、以下を行います（新しいメニュー項目を追加する方法についての詳細はこちら） [ナビゲーション ドキュメント](/studio/navigation) を参照:

    1. **オンクリックアクション** を **ページ** に設定します。

    2. **ページ** プロパティをクリックします。

    3. **ページの選択** ダイアログボックスで、EmployeeToOnboard ページを選択します。

    4. メニューアイテムのプロパティで、図表番号を **HR: Employees を** オンボードに設定します。

    5. **アイコン** を **ユーザー** に設定します。

        ![人事のためのナビゲーションアイテム](attachments/workflow-how-to-configure/navigation-hr.png)

3. マネージャーがタスクの受信トレイを開けるようにメニュー項目を追加する必要があります。 新しいメニュー項目を追加し、以下を行います（新しいメニュー項目を追加する方法についての詳細はこちら） see [Navigation Document](/studio/navigation):

    1. **オンクリックアクション** を **ページ** に設定します。

    2. **ページ** プロパティをクリックします。

    3. **ページの選択** ダイアログボックスで。 右上のドロップダウンメニューを使用して、現在のモジュールからワークフローコモンズに切り替えます。

        {{% image_container width="400" %}}![Select Page](attachments/workflow-how-to-configure/select-page-for-navigation.png){{% /image_container %}}

    4. リスト内の **TaskInbox** ページを見つけて、 **Select** をクリックします。

    5. メニュー項目のプロパティで、 **図表番号** を **マネージャ: タスク受信トレイ** に設定します。

    6. **アイコン** を **エンベロープ**に設定します。

4. また、各施設部門がタスクの受信トレイを開くためには、メニュー項目を追加する必要があります。 新しい **施設を作成する: タスク受信トレイ** のメニュー項目は、上記のステップ2a-2eを参照しています。

アプリのナビゲーションを設定し、プレビューしてテストできるようになりました

![ナビゲーションの設定](attachments/workflow-how-to-configure/configured-navigation.png)

## 11 ワークフローのテスト {#test-workflow}

さまざまなユーザーの視点からワークフローをテストできるようになりました。

たとえば、タスクが割り当てられているユーザー (マネージャー) 施設の役割) タスクの受信トレイとダッシュボードのページが表示され、割り当てられたタスクを管理および監視できます。

![タスク受信トレイ](attachments/workflow-how-to-configure/task-inbox.png)

ワークフロー管理者ロールはワークフロー管理者センターにアクセスでき、すべてのワークフローを監視できます。 ワークフローの進行状況を表示したり、ワークフローの設定を変更したりできます。

管理者ロールはユーザーを管理することができます。

ワークフローをテストするには、異なるユーザーロールを切り替える必要があります。 以下の手順に従ってください。

1. **プレビュー** ボタンをクリックします。 (アプリをプレビューする方法の詳細については、 [プレビュー中 & アプリを公開する](/studio/publishing-app) を参照してください。

2. 右側のユーザーアイコンをクリックし、ユーザーロールを選択します。

    {{% image_container width="300" %}}![Demo User Role](attachments/workflow-how-to-configure/user-roles.png){{% /image_container %}}

3. ユースケースをテストするために、さまざまなデモユーザーロールを切り替えることができます。 以下の操作ができます:
    1. HRユーザーロールを選択し、 **EmployeeToOnboard** ページを開き、新しいオンボーディングリクエストを追加します。
    2. マネージャーロールに切り替え、受信トレイに新しいタスクを表示し、タスクを開き、それにデータを追加し、タスクを完了します。
    3. 施設ユーザーロールに切り替え、プロセスを完了します。

4. ワークフロー管理者センターを開きます。

5. ワークフローダッシュボードを開きます。

よくできました！ アプリをローカルにプレビューし、さまざまなユーザーの視点からワークフローをテストしました。 アプリに機能を追加したり、他のユーザーとアプリを共有して、実際に試してみることができます。

## 12 続きを読む

* [ワークフロー](/studio/workflows)
* [ナビゲーションバーを設定する方法](navigation-how-to-configure)
* [フィールドを読み取り専用または必須に設定する方法](pages-how-to-set-validation-and-editability)