---
title: "解析 & 小数点以下の関数呼び出しの書式設定"
parent: "表現"
menu_order: 150
tags:
  - "studio pro"
  - "表現"
  - "parsing"
  - "書式設定"
---

{{% alert type="info" %}}
<img src="attachments/chinese-translation/china.png" style="display: inline-block; margin: 0" /> 簡体字中国語の翻訳については、 [<unk> <unk> <unk>](https://cdn.mendix.tencent-cloud.com/documentation/refguide8/parse-and-format-decimal-function-calls.pdf) をクリックしてください。
{{% /alert %}}

## 1つの紹介

このドキュメントでは、小数点以下の関数呼び出しの解析と書式設定について説明します。 すべてのパターンの可能性についての詳細は、 [Class DecimalFormat](https://docs.oracle.com/javase/8/docs/api/java/text/DecimalFormat.html) を参照してください。

## 2 parseDecimal

文字列の値を小数値に変換します。 書式とデフォルト値のオプションパラメータを取得します。

### 2.1 入力パラメータ

入力パラメータは以下の表に記載されています:

| 値                                                                                                                                                       | タイプ      |
| ------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| 解析する値                                                                                                                                                   | 文字列      |
| Java ライブラリに基づく入力値のフォーマット `DecimalFormat` (詳細は、 [Class DecimalFormat](https://docs.oracle.com/javase/8/docs/api/java/text/DecimalFormat.html) を参照してください) | 文字列      |
| デフォルト値 **(任意)**                                                                                                                                         | 小数または空です |

### 2.2 出力

出力は以下の表に記載されています:

| 値                                                                                                                      | タイプ     |
| ---------------------------------------------------------------------------------------------------------------------- | ------- |
| 出力は、与えられた文字列の値に一致する10進数です。 値が解析できない場合 (意味、フォーマットパラメータと一致しないか、不正な文字が含まれています)、デフォルト値が返されます。 デフォルト値が指定されていない場合、エラーが発生します。 | 小数点以下桁数 |

### 2.3 例

以下の例は、入力パラメータに応じてどの出力を取得するかを示しています。

* `parseDecimal ('3.45')` は、 `3.45` を返します。
* `parseDecimal ('noDecimal', 5.05)` returns `5.05`
* `parseDecimal('noDecimal', empty)` は `を空` を返します
* `parseDecimal ('3,241.98', '#,###.##')` は `3241.98` を返します。

## 3 formatDecimal

小数を文字列値に指定された書式に従って変換します。

### 3.1 入力パラメータ

formatDecimal の機能は、マイクロフローで使用されるか、ナノレベルで使用されるかによって異なります。

#### 3.1.1 マイクロフローの入力パラメータ

入力パラメータは以下の表に記載されています:

| 値                                                                                                                                                                                                        | タイプ     |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- |
| 変換する値                                                                                                                                                                                                    | 小数点以下桁数 |
| Java ライブラリに基づく結果のフォーマット `DecimalFormat` (詳細については、 [Class DecimalFormat](https://docs.oracle.com/javase/8/docs/api/java/text/DecimalFormat.html) を参照してください)                                               | 文字列     |
| 結果をフォーマットするロケール **(任意)**。 サポートされている値の詳細については、 [forLanguageTag](https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#forLanguageTag-java.lang.String-) を参照してください。 省略されると、ユーザーが設定したロケールが使用されます。 | 文字列     |

#### 3.1.2 Nanoflow内のパラメータの入力

nanoflowsでは、この関数は以下で説明した単一のパラメータのみを取ります。

| 値     | タイプ     |
| ----- | ------- |
| 変換する値 | 小数点以下桁数 |

### 3.2 出力

出力は以下の表に記載されています:

| 値                                | タイプ |
| -------------------------------- | --- |
| `format` パラメータで指定された形式の小数の文字列表現。 | 文字列 |

### 3.3 マイクロフローの例

以下の例は、式が返す値を示しています。

* 次の入力を使用する場合:

    ```java
    formatDecimal(1234.56, '#,###.#')
    ```

    出力は (言語設定によって)

    ```java
    '1,234.5' または '1.234,5'
    ```

* 次の入力を使用する場合:

    ```java
    formatDecimal(1234.56, '¤ #,##0.00')
    ```

    出力は (言語設定によって)

    ```java
    '€ 1.234,50' または '$ 1,234.50'
    ```

* 次の入力を使用する場合:

    ```java
    formatDecimal(0.56, '% ##0')
    ```

    出力は

    ```java
    '% 56' 
    ```

### 3.4 Nanoflowの例

nanoflowでは、ユーザーのロケールに適した形式で小数をフォーマットします。
