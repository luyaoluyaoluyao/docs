---
title: "マイクロフローを開始中"
parent: "page-コンセプト"
---

## 1つの紹介

Mendixでは、さまざまなウィジェットによってページでマイクロフローをトリガーすることができます。 これらのウィジェットは、マイクロフローが実行される条件を決定する一連のプロパティを共有します。 以下に、直接マイクロフローをトリガーできるすべてのウィジェットを示します。 また、トリガーされたマイクロフローに渡すことができるオブジェクトに加えて、マイクロフローをトリガーさせるイベントもリストされています。

| ウィジェット                                                     | イベント/プロパティ | 利用可能なパラメータ                                                |
| ---------------------------------------------------------- | ---------- | --------------------------------------------------------- |
| アクションボタン（データ表示）                                            | クリック時      | データビューオブジェクト                                              |
| データビュー                                                     | データソース     | このデータビューを含むデータビューのオブジェクト                                  |
| アクションボタン (グリッド)<sup><a name="ref1" href="#fn1">1</a></sup> | クリック時      | グリッド選択またはクリック行 (オブジェクトまたはリストとして、 [選択モード](data-grid) に応じて) |
| リファレンスセットセレクター                                             | 変更時        | データビューオブジェクト                                              |
| Input widget<sup><a name="ref2" href="#fn2">2</a></sup>    | 変更時        | データビューオブジェクト                                              |
| Input widget                                               | 入力時        | データビューオブジェクト                                              |
| Input widget                                               | 休暇中        | データビューオブジェクト                                              |
| 画像ビューアー                                                    | クリック時      | 画像ビューアオブジェクト                                              |
| アクションボタン                                                   | クリック時      | 利用可能な場合はデータ表示オブジェクトを囲んでいます                                |
| 参照選択                                                       | データソース     | データビューオブジェクト                                              |

<small><sup><a name="fn1" href="#ref1" title="Jump back to footnote 1 in the text.">1</a></sup> The following grid widgets have grid action buttons: *data grid*; *template grid*; and *reference set selector*.</small><br/>
<small><sup ><a name="fn2" href="#ref2" title="Jump back to footnote 2 in the text.">2</a></sup> The following widgets are input widgets: *check box*; *date picker*; *drop-down*; *text area*; and *text box*.</small>

## 2 マイクロフロー

これが実行されるマイクロフローです。 パラメータは利用可能な引数と一致する必要があります。

{{% alert type="success" %}}

新しいマイクロフローを作成するには、format@@0をクリックしてからformat@@1をクリックします。 モデラーは、利用可能なすべての引数に一致するパラメータを持つマイクロフローを生成します。 パラメータが使用されていない場合は、単に削除することができます。

{{% /alert %}}

## 3つのマイクロフロー引数

マイクロフローに送信される引数は、選択したマイクロフローのパラメータと利用可能な引数に基づいて自動的に構成されます。 利用可能な引数は、マイクロフローを呼び出すウィジェットによって異なります。 完全なリストについては、上記の表を参照してください。 さらに、マイクロフローを呼び出すウィジェットがネストされたデータ ビュー内に含まれている場合は、囲むデータ ビューのオブジェクトも使用できます。

{{% alert type="info" %}}

Mendix バージョン 7.19 の場合。 上の図は囲まれたデータビューのオブジェクトを渡すだけでなく オブジェクトは、ページの先頭までのデータビューからも渡すことができます。

{{% /alert %}}

データまたはテンプレートグリッドコントロールバーボタンに使用できる引数は、グリッドの選択モードと選択されたマイクロフローのパラメータによって決定されます。 1つの選択により、microflow にオブジェクトパラメータがある場合、選択したオブジェクトがマイクロフローに渡されます。 microflow にオブジェクトリストパラメータがある場合、選択を無視してすべてのページが渡されます。 単純なマルチ選択により、すべてのページと選択の両方が可能になり、デフォルトで選択されます。 これは、マイクロフローの設定ページのドロップダウンメニューから構成できます。

## 4 実行

### 4.1 マイクロフロー通話タイプ

このプロパティは、接続されたマイクロフローが同期的に実行されるか非同期的に実行されるかどうかを示します。 同期的に実行されたマイクロフローでは、マイクロフローが開始され、クライアントは結果を待ちます。 非同期のマイクロフローと呼ばれる場合、マイクロフローはサーバー上で開始されますが、クライアントは結果を待たずに実行されます。 10秒ごとにサーバーをチェックして、マイクロフローが実行されているかどうかを確認します。

{{% alert type="warning" %}}

問題が発生した場合にのみ、期間を非同期に設定します。 リクエストを処理するのに時間がかかりすぎる場合、リクエストは(せっかちの)プロキシサーバーによって再度送信されることがあります。

{{% /alert %}}

| 値   | 説明                                                       |
| --- | -------------------------------------------------------- |
| 同期  | クライアントは、マイクロフローが実行されるまで待ちます。                             |
| 非同期 | クライアントはマイクロフローを実行し、マイクロフローが実行されるかどうかを判断するためにポーリングを開始します。 |

_デフォルト値_: 同期

### 4.2 進捗バーを表示

このプロパティは、マイクロフローの実行中にプログレスバーが表示されるかどうかを示します。 進行状況バーに表示されるメッセージは、format@@0プロパティで設定できます。

| 値     | 説明                                           |
| ----- | -------------------------------------------- |
| なし    | 進捗バーが表示されていません。                              |
| 非ブロック | プログレスバーが表示されますが、エンドユーザーは作業を続けることができます。       |
| ブロック  | 進捗バーが表示され、エンドユーザーはマイクロフローが完了するまで待機する必要があります。 |

### 4.3 進捗メッセージ

プログレスバーがブロックされていない、またはブロックされている場合、プログレスバーと共に進捗メッセージが表示されます(上記参照)。

## 5つの確認

ボタンによってマイクロフローがトリガーされる場合は、マイクロフローに進む前に確認を求めるオプションがあります。 これは、操作が多くのデータを変更または削除する場合や、完了に多くの時間がかかる場合に便利です。 ユーザーは、この操作を続行するかどうかを尋ねられます。

注:確認ポップアップのタイトルはシステムテキスト(カテゴリ「メッセージダイアログのタイトル」)によって決定されます。

### 5.1 確認確認

ここでは確認を求めるかどうかを指定できます。

_デフォルト値_: いいえ

### 5.2 質問

これはユーザーに表示したい質問です。 たとえば、「ゴミ箱を空にしてもよろしいですか？」などです。

### 5.3 ボタンのキャプションを続行する

これは、マイクロフローの実行を行うボタンのキャプションです。 例えば、「ゴミ箱を空にする」など。

### 5.4 キャンセルボタンの図表番号

これは、マイクロフローの実行をキャンセルするボタンのキャプションです。 例えば、「キャンセル」です。

## 6つの高度な機能

### 6.2 マイクロフロー後の選択を維持する (グリッドマイクロフローボタンのみ)

このプロパティは、マイクロフローの実行後にデータまたはテンプレート グリッドの選択を維持するかどうかを指定します。

_デフォルト値:_ いいえ

### 6.2 検証エラーを中断する

データ ビュー内で使用されるマイクロフローの場合、マイクロフローを実行する前にページ検証を実行するかどうかを指定できます。 2種類のページバリデーションがあります。

1.  必須: 入力フィールドに値を与える必要があります。
2.  最大長さ:入力フィールドが指定された長さを超えてはいけません。

このプロパティを使用することで、 _マイクロフローを実行する前に_ ページの検証を実行できます。 検証に失敗すると、マイクロフローは実行されません。

| 値          | 説明                                              |
| ---------- | ----------------------------------------------- |
| はい         | これにより、マイクロフローがすべての検証エラーで実行されることを防ぎます。           |
| このウィジェットのみ | これにより、マイクロフローが特定のウィジェットの検証エラーに対して実行されないようになります。 |
| いいえ        | マイクロフローは常に実行されます。                               |

_デフォルト値:_ はい
