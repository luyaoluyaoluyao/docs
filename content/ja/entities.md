---
title: "エンティティ"
parent: "ドメインモデル"
menu_order: 10
tags:
  - "ドメインモデル"
  - "エンティティ"
  - "エンティティ"
  - "属性"
  - "検証ルール"
  - "ハンドラーさえも"
  - "アクセスルール"
  - "studio pro"
---

## 1つの紹介

エンティティは通常、顧客、請求書、CDなどの実世界のオブジェクトのクラスを表します。 エンティティのインスタンスはオブジェクトと呼ばれます。

例えば、CD 「Exodus」を表すオブジェクトは、エンティティ「CD」のインスタンスである可能性があります。

![CD エンティティの例](attachments/domain-model/example-entity.png)

エンティティのプロパティまたは機能は、 [属性](attributes) を使用して記述されます。 属性は、個人の名前や生年月日など、エンティティに関する小さな情報を表します。

たとえば、以下の表のような CD のコレクションがあります。

| タイトル      | アーティスト           |
| --------- | ---------------- |
| 原爆を分解する方法 | U2               |
| Exodus    | ボブ・マーリー & ウェイラーズ |

表の行は CD です。 2つの行の型は *CD* で、これがエンティティ名です。 バンド *U2* から原爆 *を分解する方法* のような特定のCDは、実体のオブジェクト *CD*と呼ばれます。 タイトルやアーティストのような特性を属性と呼びます。

## 2 エンティティの種類 {#entity-types}

エンティティタイプは、データの処理方法を定義し、2つのタイプがあります。

* [持続可能エンティティ](#persistable-entity)
* [非持続可能エンティティ](#non-persistable-entity)

![](attachments/domain-model/type-of-entities.jpg)


{{% alert type="info" %}}
また、 [Data Hub](data-hub-pane) ペインを通じて、アプリ内の他のアプリケーションのデータ ソースを使用することもできます。 これらのデータソースはドメインモデルに *外部エンティティ* として表示され、ドメインモデルでは紫色のエンティティコンテナとして表示されます。 ![仮想エンティティの例](attachments/data-hub-pane/virtual-entity-example.png)

詳細については、 [外部エンティティ](external-entities) を参照してください。
{{% /alert %}}


### 2.1 持続可能エンティティ {#persistable-entity}

持続可能と宣言されたエンティティは、エンティティに対してデータベーステーブルが作成されます。 これらの種類のエンティティは、ドメインモデルでは、 *青* に色付けされます。 持続可能エンティティの詳細については、 [持続可能性](persistability) を参照してください。



### 2.2 持続可能でないエンティティ {#non-persistable-entity}

非持続可能エンティティはランタイムメモリに保存され、データベースにコミットすることはありません。 これらの種類の図形は、ドメインモデルでは *オレンジ* に色がついています。 持続可能エンティティの詳細については、 [持続可能性](persistability) を参照してください。

## 3つのプロパティ {#properties}

以下の図にエンティティプロパティの例を示します。

{{% image_container width="300" %}}![](attachments/domain-model/entity-properties.png)
{{% /image_container %}}

エンティティプロパティは以下のセクションで構成されています:

* [アクセスルール](#access-rules)
* [ドキュメント](#documentation)
* [全般](#entities-general-properties)
* [システムメンバー](#system-members)

{{% alert type="info" %}}
詳細については、 [外部エンティティ](external-entities#properties) の *プロパティ* セクションを参照してください。
{{% /alert %}}

### 3.1 アクセスルール セクション {#access-rules}

#### 3.1.1 アクセスルール

アクセス ルールの詳細については、 [アクセス ルール](access-rules) を参照してください。

### 3.2 ドキュメントセクション {#documentation}

#### 3.2.1 ドキュメント {#documentation-property}

これにより、アプリ内のエンティティを使用する際に、あなたや他のチームメンバーが役に立つ可能性のあるエンティティの側面を説明できます。

### 3.3 一般セクション {#entities-general-properties}

#### 3.3.1 名前 {#name}

name プロパティはエンティティの名前を定義します。 この名前は、フォーム内の図形、マイクロフロー、クエリ、制約などの図形を参照するために使用されます。

名前はモジュールドメインモデル内でのみ一意でなければなりません。 異なるモジュールのドメインモデルに同じ名前を持つ2つのエンティティを持つことができます。

#### 3.3.2 一般化 {#generalization}

エンティティは一般エンティティのより専門的なバージョンにすることができます。 これは、専門化されたエンティティには、より一般的なエンティティのすべての属性、関連付け、イベント、その他のプロパティが含まれていることを意味します。 generalization プロパティを使用して、どのエンティティがエンティティの一般化であるかを指定できます。 例えば、 **車** エンティティは、 **車両** を一般化することができます。

一般化は、特定のエンティティがそのプロパティ(属性、関連付け、イベント、およびその他のプロパティ)を派生するエンティティを指定します。 エンティティに共通の属性があり、スーパーエンティティを使用して一般化できる場合に使用されます。 オブジェクト指向プログラミング(OOP)では、一般化と専門化のための一般的な用語を **継承**と呼びます。

専門分野を持つエンティティが取得されたとき（例えば、 データグリッドまたはマイクロフローで)、そのエンティティの特殊化が結果に含まれます。 専門化が取得されると、その一般化は結果に含まれません。 Using the previous example, if **Vehicle** is retrieved, the resulting set will contain objects of types **Vehicle** and **Car**. **Car** が取得された場合、結果セットに **Car** のオブジェクトのみが含まれます。

One important use of this feature is to derive functionality from the **System** module (for example, images from the **Image** entity and files from the **FileDocument** entity).

例えば、このプロパティは、 あなたには **生徒** エンティティと **教授** エンティティがあり、いくつかの一般的なプロパティがあります。 彼らはどちらも名前、電話番号、および電子メールアドレスを持っており、1つまたは複数のコースのメンバーになることができます。 Both entities are *generalized* in the **Member** entity. 逆に言えば、 **メンバー** エンティティは ** **学生** と **教授** エンティティに特化しているということです。

![](attachments/domain-model/917900.png)

一般化または関連付けを使用する相対的なメリットについては、 [一般化 vs 1-1 アソシエーション](generalization-and-association) を参照してください。

#### 3.3.4 画像 {#image}

image プロパティを使用して、エンティティをイメージに関連付けることができます。 ドメインモデルでは、この画像はエンティティ表現の右上隅に表示されます。 イメージはエンティティ選択ウィンドウおよびコネクタにも表示されます。 たとえば、データビューのエンティティを選択するときなどです。

#### 3.3.5 永続化可能

このエンティティのインスタンスをデータベースに保存するかどうかを定義します。 詳細については、 [永続性](persistability) を参照してください。

### 3.4 システムメンバープロパティ{#system-members}

#### 3.4.1 Store 'createdDate'

このプロパティは、エンティティに 'createdDate' というシステム属性が含まれているかどうかを定義します。 これは、オブジェクトが作成された日付と時刻を格納する **Date and time** 型の属性です。 この属性の値は、オブジェクトを作成するとサーバーによって自動的に設定されます。

| Option            | 説明                                    |
| ----------------- | ------------------------------------- |
| True              | エンティティにはシステム属性「createdDate」が含まれています。  |
| False *(default)* | エンティティにはシステム属性「createdDate」が含まれていません。 |

#### 3.4.2 ストア '変更日'

このプロパティは、エンティティに 'changedDate' というシステム属性が含まれているかどうかを定義します。 これは、オブジェクトが変更された直近の日付と時刻を格納する **日付と時刻** 型の属性です。

| Option            | 説明                                    |
| ----------------- | ------------------------------------- |
| True              | エンティティにはシステム属性「changedDate」が含まれています。  |
| False *(default)* | エンティティにはシステム属性「changedDate」が含まれていません。 |

{{% alert type="info" %}}
'changedDate' プロパティは実際の変更時にのみ更新されます。 同じ属性値を持つエンティティを変更したりコミットしたりするだけでは、「changedDate」は更新されません。
{{% /alert %}}

#### 3.4.3 ストア '所有者'

このプロパティは、エンティティにシステムアソシエーション「owner」があるかどうかを定義します。 これは(初期状態では)オブジェクトを作成したユーザーへの参照を格納するシステムエンティティ 'User' への関連付けです。 この関連付けは、オブジェクトを作成する際にサーバーによって自動的に設定されます。

| Option             | 説明                                |
| ------------------ | --------------------------------- |
| True               | エンティティにはシステム関連の「オーナー」があります。       |
| False  *(default)* | エンティティにはシステムアソシエーション「オーナー」がありません。 |

#### 3.4.4 ストア 'changedBy'

このプロパティは、エンティティがシステムアソシエーション「changedBy」を持っているかどうかを定義します。 これはシステムエンティティ 'User' への関連付けで、最近オブジェクトを変更したユーザーへの参照を格納します。

| Option            | 説明                                     |
| ----------------- | -------------------------------------- |
| True              | エンティティにはシステムアソシエーション「changedBy」があります。  |
| False *(default)* | エンティティにはシステムアソシエーション「changedBy」がありません。 |

## 4つのタブがエンティティダイアログボックス{#dialog-box}

図形プロパティダイアログボックスを開いて図形を編集することもできます。

![CD エンティティの例](attachments/domain-model/example-entity.png)

上記のプロパティに加えて、以下を編集できるタブもあります。

*   [属性](attributes)
*   [関連](関連)
*   [検証ルール](validation-rules)
*   [イベントハンドラー](event-handlers)
*   [インデックス](indexes)
*   [アクセスルール](access-rules)

詳細は、これらの各タブの詳細ページを参照してください。