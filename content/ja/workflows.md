---
title: "ワークフロー"
parent: "application-logic"
menu_order: 20
tags:
  - "ワークフロー"
  - "ワークフロー"
  - "Studio Pro"
---

{{% alert type="warning" %}}
この機能はベータ版です。 ベータ版製品の詳細については、 [Mendix Beta Features](/releasenotes/beta-features/) を参照してください。
{{% /alert %}}

## 1つの紹介

ワークフローはMendix StudioとStudio Proの視覚的な言語で、拡張可能なプロセスを構築することができます。 これは、マイクロフローエディタやページエディタなどの他の視覚言語と完全に統合されています。

## 2 ワークフロー要素

ワークフローは、パス上にドラッグ&ドロップできる要素で構成されています。 以下は、すべての要素のカテゴリ概要です。 以下のカテゴリが使用されます：

* [全般](#general)
* [ユーザータスク](#user-tasks)
* [システムアクション](#system)

### 2.1 全般 {#general}

一般カテゴリ内の要素は、ワークフローパスを制御するのに役立ちます。たとえば、並列パスの追加や終了などです。

このカテゴリの要素は以下の表に記載されています:

| グラフィック                                            | 要素                          | 説明                                                                                                                                                                                                           |
| ------------------------------------------------- | --------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| ![イベントを開始](attachments/workflows/start-event.png) | イベントを開始                     | ワークフローの開始点。 ワークフローは、ページ上の [コールワークフロー](on-click-event#call-workflow) をオンクリックするか、マイクロフローの [ワークフローコール](workflow-call) アクションによってトリガーされます。 <br /> [ワークフロー プロパティ](workflow-properties) を開くには、開始イベントをクリックします。 |
| ![決定](attachments/workflows/decision.png)         | [決定](decision-in-workflows) | 条件に基づいて選択を行い、発信パスの1つだけに従います。                                                                                                                                                                                 |
| ![並列分割](attachments/workflows/parallel-split.png) | [並列分割](parallel-split)      | ワークフローに 2 つの並列パスを追加します。                                                                                                                                                                                      |
| ![ジャンプアクティビティ](attachments/workflows/jump.png)    | [ジャンプ](jump-activity)       | ワークフロー内の他のアクティビティにジャンプできます。                                                                                                                                                                                  |
| ![イベントを終了](attachments/workflows/end-event.png)   | イベントを終了                     | ワークフローのパスを終了します                                                                                                                                                                                              |

{{% alert type="info" %}}
このセクションにカスタマイズされたアクティビティを追加するには、マイクロフローの **ワークフローアクション** 設定を使用します。 詳細については、 [Microflow Properties](microflow#expose-as-workflow-action) の *ワークフローアクション* セクションを参照してください。
{{% /alert %}}

### 2.2 ユーザー タスク {#user-tasks}

[ユーザー タスク](user-task) – 特定のユーザーまたはフィルターまたはマイクロフローを使用してユーザーのグループにタスクを割り当てることができるワークフローの中心的な要素。

![ユーザータスク](attachments/workflows/user-task.png)

### 2.3 システムアクション {#system}

[](call-microflow) アクティビティを選択したマイクロフローを呼び出します。

![マイクロフローに発信](attachments/workflows/call-microflow.png)

## 3 基本機能の実行

ワークフローを操作する際に、以下の基本的な機能を実行できます。

* ワークフローを開く
* ワークフローを作成
* ワークフローを削除
* ワークフローに要素を追加
* 要素のプロパティを表示

### 3.1 ワークフローを開く

Studio Pro でワークフローを開くには、次の手順を実行します。

1. [Project Explorer](project-explorer)で、このワークフローがあるモジュールを開きます。
2. モジュール内のワークフローの場所に移動し、ワークフローをダブルクリックします。

選択したワークフローが開きます。

### 3.2 ワークフローの追加

ワークフローをアプリに追加するには、次の手順を実行します。

1. In the [Project Explorer](project-explorer), right-click the module or a folder you want to create a page in and select **Add workflow**:

    ![ワークフローを追加](attachments/workflows/add-workflow.jpg)

2. **Add workflow** ダイアログボックスで名前を入力し、 **OK** をクリックします。

    ![ワークフローの追加](attachments/workflows/add-workflow-dialog.jpg)

ワークフローが作成されます。

### 3.3 ワークフローの削除

ワークフローを削除するには、次の操作を行います。

1. [Project Explorer](project-explorer)で、削除したいワークフローを選択し、右クリックします。
2. 表示されたリストで、 **Delete** を選択し、ポップアップダイアログの **Delete** をクリックして選択を確認します。

選択したワークフローが削除されます。

### 3.4 ワークフローへの要素の追加

ワークフローに要素を追加するには、次の操作を行います。

1. **Toolbox** を開きます。
2. この要素を作業領域にドラッグ&ドロップする要素を選択します。

選択した要素が追加されます。

### 3.5 表示要素のプロパティ

要素のプロパティを表示するには、次のいずれかを実行します。

1. 要素を選択し、 **プロパティ** ペインを開いて、そのプロパティを表示します。
2. 要素を右クリックし、表示されるオプションのリストから **プロパティ** を選択します。
3. 要素をダブルクリックします。

## 4 システムモジュール内のワークフローエンティティ {#workflow-entities}

アプリケーションのシステムモジュールにはワークフロー関連のエンティティがいくつかあります。そのエンティティの一部は XPath と式で使用できます。 そして、内部的にのみ存在する基本的なエンティティ(例えば、Runtime)として存在します。

システムモジュールには、次のワークフロー関連エンティティがあります。

* **WorkflowDefinition** – データベースのワークフローを表します。 2つの属性が含まれています。 **名前** と **タイトル** は **名前** と **タイトル** プロパティであり、 **廃止された** は、ワークフローを削除する際に true とマークされます。 この場合、ワークフローはデータベース内にとどまります(レポートを作成することもできます) しかし、Mendixはもはや存在しないことをマークします。 プロパティの詳細については、 [ワークフロー プロパティ](workflow-properties) を参照してください。
* **WorkflowTaskDefinition** – データベースの [ユーザータスク](user-task) と [システムアクティビティ](call-microflow) を表します。 It contains two attributes, where **Name** is a **Name** property of the user task or a system activity, and **Obsolete** is a Boolean that is marked as true when you delete a user task/system activity from your workflow. 彼らはまだデータベースにいます(そしてあなたはそれらと一緒にレポートを作成することができます)。 しかしメンディックスはもはや存在しないことを示しています
* **WorkflowInstance** – 実行中のワークフローの表現で、新しいワークフローが開始されるたびに、Runtimeは新しいインスタンスを作成します。
* **WorkflowTaskInstance** – 実行中のユーザータスクまたはシステムアクティビティの表現 新しいユーザーのタスク/システムアクティビティが開始されるたびに、Runtimeは新しいインスタンスを作成します。
* **WorkflowUserTask** - **WorkflowTaskInstance** の特化。 このエンティティは、ランタイムがユーザータスクを実行し、エンドユーザーがアクションを選択したときに作成されます(例えば、 リクエストを承認するには、 **承認** ボタンをクリックします。 このエンティティは、ワークフローの概要ページおよびアプリケーションロジックで使用できます。
* **WorkflowSystemTask** – **WorkflowTaskInstance** の特化。 このエンティティは、ランタイムがシステムアクティビティを実行するときに作成されます(**Call microflow**) 。マイクロフローが実行されたことを示すために使用されます。
* **WorkflowContext** - ワークフローのコンテキストとして使用されるオブジェクトの基本エンティティ。 このエンティティの専門化は、そのプロパティの **ワークフロー エンティティ** として使用されます。 プロパティの詳細については、 [ワークフロー プロパティ](workflow-properties) を参照してください。
* **ワークフローバージョン** – このシステムエンティティは、バージョン管理およびランタイムの内部管理に使用されます。 アクティビティを追加してワークフローを実行すると、新しいバージョンが作成されます。

## 5つのワークフロー変数

ワークフローには、ワークフローエディター内の XPath および式で使用することのできる専用の変数が含まれています。

変数の一覧は以下のとおりです。

* `$workflowData` - 特定のワークフローに対して設定されたワークフロー エンティティのインスタンス (通常は **System.WorkflowContext** の専門化)
* `$workflow` – 現在実行中のワークフローのインスタンス (**System.WorkflowInstance**)

System モジュール内のワークフロー関連エンティティの詳細については、上記の [System Module](#workflow-entities) セクションのワークフローエンティティを参照してください。

たとえば、これらの変数は、ユーザータスクの **タスク名** および **タスク説明** プロパティのパラメータとして使用できます。 詳細については、 [ユーザー タスク](user-task) を参照してください。

## マイクロフローにおけるワークフロー固有の活動

ワークフロー関連のアクティビティをマイクロフローに追加できます。 これらのアクティビティの詳細については、 [ワークフローアクティビティ](workflow-activities) を参照してください。

## ページ上のワークフロー固有のオンクリックイベント

ウィジェットで構成された特定のオンクリックイベントを介して、ワークフローまたはユーザータスクをページからトリガーできます。 詳細については、 [[イベント & イベント] セクション](on-click-event)をクリックしてください。

## 8ワークフローコモンズモジュール

**ワークフロー コモンズ** モジュールは、事前に設定されたページ テンプレート、ページ、ダッシュボードなどを持つワークフロー固有のモジュールです。 開発中の時間を大幅に節約できます。 Marketplace からダウンロードすることも、Developer Portal で新しいアプリを作成する際にアプリテンプレートを使用することもできます。 これらのテンプレートにはすでに **Workflow Commons** モジュールが含まれています。

For more information on how to configure the **Workflow Commons** in an existing app, see [Adding a Workflow to an Existing App: Setting Up the Basics](/refguide/workflow-setting-up-app).

## 9 続きを読む

* [Studio Proで従業員のオンボーディングプロセスのワークフローを構成する方法](/howto/logic-business-rules/workflow-how-to-configure)
* [既存のアプリにワークフローを追加する: 基本の設定](/refguide/workflow-setting-up-app)