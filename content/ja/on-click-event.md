---
title: "「イベント & イベント セクション」をクリックしてください"
parent: "ページ"
menu_order: 130
tags:
  - "studio pro"
  - "イベントセクション"
  - "プロパティ"
  - "ウィジェット"
  - "クリック"
  - "アクション"
  - "クリックイベント"
aliases:
  - /refguide8/opening-pages.html
  - /ja/refguide8/starting-microflows.html
---

{{% alert type="info" %}}
<img src="attachments/chinese-translation/china.png" style="display: inline-block; margin: 0" /> 簡体字中国語の翻訳については、 [<unk> <unk> <unk>](https://cdn.mendix.tencent-cloud.com/documentation/refguide8/on-click-event.pdf) をクリックしてください。
{{% /alert %}}

## 1つの紹介

イベントは、エンドユーザーがウィジェットとやり取りする際にトリガーされるアクションを指定します。 この相互作用はいくつかの方法で発生する可能性があります:

* [](#on-click) をクリックすると、これは最も一般的な操作であり、多くのウィジェットで使用できます
* [変更時](#on-change) – 入力ウィジェット用
* [](#on-enter) - 入力ウィジェット用
* [休暇時](#on-leave) – 入力ウィジェット用

## 2トリガーアクション

### 2.1 クリック時 {#on-click}

An **On click** イベントは、ユーザーがウィジェットをクリックしたときに実行されるイベントを指定します。 多くの場合、 **をクリックする** プロパティは、プロパティの **イベント** セクションの一部です。 たとえば、ユーザーが顧客のプロファイル イメージをクリックすると、この顧客の詳細が表示されるページが開くように指定できます。

{{% image_container width="350" %}}![](attachments/on-click-event/on-click-event-example.png)
{{% /image_container %}}

オンクリックイベントは、多くのウィジェット(画像、ボタン、リストビューなど)で一般的です。

**クリック時** プロパティは、ユーザーがウィジェットをクリックしたときにどの [アクション](#actions) が実行されるかを指定します。

#### 2.1.1 アクション中に無効

このプロパティは、 **マイクロフロー** を呼び出すか、 **ナノフローを呼び出す** がオンクリックイベントとして選択されている場合にのみ表示されます。 **** を選択すると、アクションが完了または失敗するまでボタンが無効になります。

### 2.2 変更時{#on-change}

on-change プロパティは、ウィジェットを離れたときに実行されるアクションを指定します。 <kbd>Tab</kbd> キーを使用するか、値が変更された後に別のウィジェットをクリックします。

### 2.3 入力時 {#on-enter}

on-enter プロパティは、ウィジェットの入力時に実行されるアクションを指定します。 <kbd>Tab</kbd> キーを使用するか、マウスでクリックします。

### 2.4 退席時 {#on-leave}

on-leave プロパティは、ウィジェットを離れたときに実行されるアクションを指定します。 <kbd>Tab</kbd> キーを使用するか、別のウィジェットをクリックします。

これは、値が変更されていない場合でも、イベントが常にトリガーされるという点で [On change](#on-change) プロパティとは異なります。

## 3つのイベントアクション {#actions}

イベントがトリガーされると、どのアクションがトリガーされるかを選択できます。 可能なオプションは以下のとおりです:

* [何もしない](#do-nothing) *(デフォルト)*
* [ページを表示](#show-page)
* [マイクロフローを呼び出す](#call-microflow)
* [ナノフローを呼び出します。](#call-nanoflow)
* [リンクを開く](#open-link)
* [オブジェクトを作成](#create-object)
* [変更を保存](#save-changes)
* [変更をキャンセル](#cancel-changes)
* [ページを閉じる](#close-page)
* [削除](#delete)
* [Synchronize](#synchronize)
* [サインアウト](#sign-out)

### 3.1 何もしない {#do-nothing}

アクションは実行されません。 このオプションは、基本機能をまだ定義せずにページを設定する場合に便利です。

### 3.2 ページを表示 {#show-page}

**ページ** イベントを表示すると、指定したページが開きます。 以下のオプションを使用して開くページを選択します。

* **ページ** – 開くべき [ページ](page)。

* **ページタイトル** - 開いたページには、どこから開いたかに応じて、固有のタイトルを付けることができます。 これにより、異なる目的で同じページを再利用できます。 例えば、あるボタンから **新規顧客** にタイトルを設定し、別のボタンから **顧客を編集** に設定するとします。 同じページを使用して新規顧客と既存顧客を編集できます。

    このオプションは、 **** ダイアログボックスの **ページタイトル** のチェックボックスにチェックを入れることで有効になります:

    ![ページタイトルプロパティ](attachments/on-click-event/page-title-property.png)

* **専門用ページ** – コンテキストオブジェクトの専門化ごとに異なるページを設定できます。 このアクションがデータ ビュー内に配置されている場合、データ ビュー オブジェクトの専門分野ごとに異なるページを構成することができます。 このアクションがデータ グリッドに配置されている場合、データ グリッド エンティティの専門化ごとに異なるページを構成することができます。 この設定は、コンテキストオブジェクトが存在しない場合や、コンテキストオブジェクトに専門性がない場合は表示されません。

### 3.3 マイクロフローを呼び出す {#call-microflow}

**microflow** イベントを呼び出すと、指定されたマイクロフローが実行されます。

{{%alert type="info" %}}

When setting **Call a microflow** as an action for the **On change**, **On enter**, or **On leave** event of a widget, note that microflows require some time to complete. その間に行われた現在のフォームへの変更（例えば、 入力ウィジェットの値を変更する)は、マイクロフローの結果によって上書きされます。 Therefore, it is not recommended to change entities/attributes on the current page in a microflow triggered by an **On change**, **On enter**, or **On leave** event.

{{%/alert %}}

以下の設定は、このイベント固有のものです:

#### 3.3.1 マイクロフロー {#microflow}

実行すべき [microflow](microflow)。

#### 3.3.2 マイクロフローの設定

**マイクロフローの設定** ダイアログボックスを開き、マイクロフローに渡すパラメータとマイクロフローの実行方法を指定できます。

![マイクロフロー設定ダイアログ](attachments/on-click-event/microflow-settings.png)

##### 3.3.2.1 Microflow

これは、上記で指定した [Microflow](#microflow) を複製します。

##### 3.3.2.2 Microflow 引数

**マイクロフロー引数** は、選択したマイクロフローと利用可能な引数のパラメータに基づいて自動的に設定されます。 一般的な引数は、囲むデータウィジェットから取得されます。 マイクロフローを呼び出すウィジェットを囲むデータ ウィジェットが別の(ネストされた)データ ウィジェットの中にある場合。 そして、データ ウィジェットやネストされているその他のオブジェクトも渡すことができます。

グリッド内でマイクロフローがトリガーされ、オブジェクト リスト パラメーターがある場合。 リストに渡されるオブジェクトは、グリッドの選択モードによって異なります。 単純な複数選択により、すべての行または選択が可能になり、デフォルトでは選択が可能になります。 これは、マイクロフローの設定ページのドロップダウンから構成できます。

##### 3.3.2.3 マイクロフロー通話タイプ

**Microflow call type** は、マイクロフローが同期的に実行されるか非同期的に実行されるかどうかを指定します。

* **同期** *(デフォルト)* – マイクロフローが実行されるまでクライアントは待機します。

* **非同期**

    * クライアントはマイクロフローを実行しますが、結果を待つことはありません

    * クライアントは10秒ごとにサーバーをチェックし、マイクロフローが実行されているかどうかを確認します。

    * 問題が発生した場合にのみ、コールタイプを非同期に設定してください。 リクエストの処理に時間がかかりすぎる場合、リクエストは(待ち受けている)プロキシサーバーによって再度送信されます。

##### 3.3.2.4 プログレスバーを表示

**進捗バーを表示する** は、マイクロフローの実行中にプログレスバーを表示するかどうかを指定します。 進行状況バーに表示されるメッセージは、format@@0プロパティで設定できます。

| 値     | 説明                                           |
| ----- | -------------------------------------------- |
| なし    | 進捗バーが表示されていません。                              |
| 非ブロック | プログレスバーが表示されますが、エンドユーザーは作業を続けることができます。       |
| ブロック  | 進捗バーが表示され、エンドユーザーはマイクロフローが完了するまで待機する必要があります。 |

{{% alert type="warning" %}}
ノンブロッキングのプログレスバーは、0.5秒の遅延で表示されます。 マイクロフローの実行が 0.5 秒未満の場合、プログレスバーはまったく表示されません。 進捗バーのブロックはすぐに表示されます。
{{% /alert %}}

##### 3.3.2.5 進行中のメッセージ

プログレスバーが表示されている場合、 **プログレスメッセージ** はプログレスバーの横に表示されるテキストです。

##### 3.3.2.6 確認する

**確認** が **はい**に設定されている場合、マイクロフローに進む前にエンドユーザーが確認を求められます。 これは、操作が多くのデータを変更または削除する場合や、完了に多くの時間がかかる場合に便利です。

以下の [Question](#question)にあるテキストセットを入力するよう求められます。 確認ポップアップのウィンドウのタイトルは、システムテキスト(カテゴリ「メッセージダイアログのタイトル」)によって決定されます。

デフォルト値は **No** です。

##### 3.3.2.7 質問 {#question}

**Ask confirmation** が yes に設定されている場合、 **Question** は、ユーザに表示されるものです。 質問された質問が明確で、ボタンに設定されたキャプションが明確であることを確認してください。

例えば、 *ゴミ箱を空にしてもよろしいですか？*

##### 3.3.2.8 ボタンの図表番号

**Ask confirmation** が yes に設定されている場合、これは、マイクロフローの実行に続くボタンのキャプションです。

例えば、 *空* です。

##### 3.3.2.9 キャンセルボタンの図表番号

**Ask confirmation** が yes に設定されている場合、これは、マイクロフローの実行をキャンセルするボタンのキャプションです。

例えば、 ** を空にしないでください。

##### 3.3.2.10 マイクロフロー後の選択を維持

グリッド内からマイクロフローを呼び出すボタン **マイクロフロー後の選択の維持** は、マイクロフローの実行後にグリッド内の行の現在の選択を維持するかどうかを指定します。

##### 3.3.2.11 検証エラー時に中断する

For microflows that are used within a data widget, setting **Abort on Validation Errors** to **Yes** forces widget validations to be performed _before_ executing the microflow. 検証に失敗すると、マイクロフローは実行されません。

| 値            | 説明                                               |
| ------------ | ------------------------------------------------ |
| はい *(デフォルト)* | これにより、ページに検証エラーが発生した場合、マイクロフローが実行されなくなります。       |
| このウィジェットのみ   | これにより、現在のウィジェットで検証エラーが発生した場合、マイクロフローが実行されなくなります。 |
| いいえ          | マイクロフローは常に実行されます。                                |

### 3.4 Nanoflow を呼んでください {#call-nanoflow}

**nanoflow** イベントを呼び出し、指定された nanoflow を実行します。

**Nanoflow** プロパティを設定して、実行すべき [nanoflow](nanoflow) を指定します。

### 3.5 オープンリンク {#open-link}

**Open link** イベントはリンクタイプに基づいたアクションを引き起こします。そのうちのいくつかはモバイルデバイスに固有のものです。 次のプロパティは、このイベントに固有のものです。

* **リンクタイプ** - ボタンを押すとトリガーされるアクションのタイプ。 使用可能なリンクの種類については、以下の [リンクの種類](#on-click-link-type) セクションを参照してください。
* **Address** – アドレスプロパティの使用は、選択されたリンクタイプと、リテラルを使用するか、属性の値を使用するかによって異なります。
  * **リテラル値**  を使用すると、固定アドレスを入力できます。
  * **属性を使用** – アドレスとして使用する値を含む属性を選択できます。 この場合、ウィジェットはコンテキストとしてエンティティを持っている必要があります (たとえば、データビュー内に存在します)。

#### 3.5.1 リンクタイプ {#on-click-link-type}

以下の表は、クリックイベントの **Open link** で利用可能なリンクタイプについて説明しています:

| 値                 | 説明                     | 例                                         |
| ----------------- | ---------------------- | ----------------------------------------- |
| Web   *(default)* | ウェブサイトのURLに移動します       | `https://mysubdomain.mydomain.tld/mypage` |
| Eメールアドレス          | メールを送信するメールアドレスを指定します。 | `firstname.secondname@mailprovider.tld`   |
| 電話                | この番号に電話を開始します。         | `+1-202-555-0165`                         |
| テキスト              | テキストメッセージを送信する番号を指定します | `+1-202-555-0112`                         |

{{%alert type="info" %}}

**メールアドレス**、 **コール**、または **テキスト** オプションを指定する場合。 アクションがトリガーされると、対応するデフォルトのアプリがデバイス上で開かれます。 例えば、メッセージを構成するためにデフォルトの電子メールクライアントが開かれます。

{{%/alert %}}

### 3.6 オブジェクトを作成 {#create-object}

**オブジェクトの作成** イベントは、新しいオブジェクトを作成します。 次のプロパティは、このイベントに固有のものです。

* **エンティティ (パス)** – 作成するエンティティを指定します。 コンテキストオブジェクトから関連付けを選択することもできます (使用可能な場合)。 エンティティが設定されている場合、エンティティの新しいインスタンスが作成されます。 コンテキストオブジェクトからの関連付けを通じたエンティティが設定されている場合、 エンティティの新しいインスタンスが作成され、コンテキストに関連付けられたオブジェクトが作成されます。
* ** {event} ページ** では、エンドユーザーが新規作成されたオブジェクトの値を入力できるようにするために、 [ページ](page) を指定します。 このページは、作成されたエンティティの同じエンティティまたはサブタイプを持つコンテキストパラメータオブジェクト (データビューなど) を受け入れる必要があります。 **{event}** は、このアクションをトリガーするために使用されるイベントを指定します(例えば、****をクリックするなど)。

### 3.7 変更を保存 {#save-changes}

**Save changes** イベントは、ページで行われたすべての変更をコミットします。 次のプロパティは、このイベントに固有のものです。

* **ページを閉じる** - 現在のページを閉じるかどうかを指定します。
* **自動同期** – オフラインプロファイルで動作する Mendix アプリケーションで保存ボタンをクリックしたときに同期が発生するかどうかを指定します。 オブジェクトがオフラインプロファイルで実行されているMendixアプリケーションに保存されると、サーバーと同期されるまでローカルデータベースに保存されます (オフラインアプリの機能の詳細については)。 [オフラインの最初](offline-first) を参照してください。 実際には、新しいオブジェクトをサーバーにアップロードするには、オブジェクトの保存と [同期](offline-first#synchronization) という 2 つの異なるアクションが必要です。

### 3.8 変更をキャンセル {#cancel-changes}

format@@0 イベントは、ページで行われたすべての変更をロールバックします。

**ページを閉じる** プロパティを設定して、現在のページを閉じるかどうかを指定します。

### 3.9 ページを閉じる {#close-page}

**** イベントを閉じると、ポップアップウィンドウが閉じられます(ポップアップページの場合)、または以前に訪問したページ(コンテンツページの場合)に移動します。

### 3.10 削除 {#delete}

**Delete イベント** はオブジェクトを削除します。 その動作は、データコンテナが配置されていることに依存します。 データ ビューに配置すると、接続されているオブジェクトを削除します。ネストされたデータ ビューのオブジェクトは、削除の動作によって構成されない限り削除しません。 データグリッド、テンプレートグリッド、または参照セットセレクターコントロールバーに配置すると、選択したオブジェクトが削除されます。 リストビュー内に配置すると、対応するリストビューアイテムが削除されます。

**ページを閉じる** プロパティを設定して、現在のページを閉じるかどうかを指定します。

### 3.11 Synchronize {#synchronize}

**** イベント [を同期すると、デバイスにローカルに保存されたデータが](offline-first#synchronization) サーバーデータベースと同期されます。

### 3.12 サインアウト {#sign-out}

**サインアウト** イベントは、現在サインインしているユーザーからサインアウトします。 ユーザーがサインインしていない場合、アクションは実行されません。

## 4 続きを読む

* [ページ](ページ)
* [ページ](page)
