---
title: "マッピングのエクスポート"
parent: "mapping-documents"
tags:
  - "studio pro"
---

{{% alert type="info" %}}
<img src="attachments/chinese-translation/china.png" style="display: inline-block; margin: 0" /> 簡体字中国語の翻訳については、 [<unk> <unk> <unk>](https://cdn.mendix.tencent-cloud.com/documentation/refguide8/export-mappings.pdf) をクリックしてください。
{{% /alert %}}

## 1つの紹介

マッピングをエクスポートする方法については、 [マッピングドキュメント](mapping-documents) を参照してください。

## 2 エクスポートマッピングでオブジェクトを取得する

図1は、 [要素の選択](select--elements) ダイアログを使用してスキーマから2つの要素が選択された、エクスポートマッピングドキュメントの例を示しています。 (左側) のエンティティチーズケーキは、Cheesecake 要素にマップするためにマッピングにドラッグされ、(右側) エンティティのトッピングはTopping 要素にマップされました。

![](attachments/16713726/16843939.png)

**図 1**

エンティティがどのスキーマ要素にマップするかを定義しました エクスポートされる実際のMendixオブジェクトが、エクスポートマッピングが起動されるときにどのように取得されるかを設定する必要があります。 ルートレベルの要素(この場合、Cheesecake)はエクスポートマッピングのパラメータであり、呼び出されたときに直接エクスポートマッピングに渡されます。 マッピング内の他のMendixオブジェクトを取得する方法を設定する必要があります。

### 2.1 パラメータからオブジェクトを取得する

マッピングの上部にエンティティがある場合、そのエンティティはマッピングへのパラメーターになります。 マッピングを使用する場合は、その型のオブジェクトを渡す必要があります。

When the top element in the mapping is [optional](#optional), you can specify a different element to be the parameter to the mapping by selecting **From parameter** as the method to get the Mendix object.

### 2.2 関連オブジェクトの取得

子オブジェクトの場合、図1に示すように、親オブジェクトとの関連付けを介してオブジェクトを取得することができます。 この例では、 **Topping** オブジェクトをエクスポートする必要がある場合、 **Topping_Cheesecake** アソシエーションを使用して実行時に取得します。 **Topping** エンティティ(左) または **Topping** スキーマ要素(右)をダブルクリックすることで、マッピング要素を編集することができます。 このウィンドウが表示されます：

![](attachments/16713726/16843938.png)

**図 2**

### 2.3 マイクロフローを使用してオブジェクトを取得する

このウィンドウでは、親(図3)またはマイクロフロー(詳細については)によってオブジェクトを取得するかを選択できます。 エクスポートマッピングの [マッピング属性](#mapping-attributes) を参照してください。 オブジェクトをマイクロフローで取得する場合は 親オブジェクトを引数としてそのmicroflow に渡すことで、返すべきオブジェクトを決定できます。 これが設定されているウィンドウです。

![](attachments/16713726/16843937.png)

**図 3**

microflow でオブジェクトを取得する場合、 **マッピングドキュメントのエクスポート** に表示されます。

![](attachments/16713726/16843936.png)

**図 4**

最後に、選択されたメソッドがMendixオブジェクトを取得するときに行うべきことを定義することもできます(パラメータから)。 結合またはマイクロフローによって失敗します。 最初のオプションはエラーを投げてマッピングを中断することです。 このマッピングを呼び出したマイクロフローは、このエラーを処理する必要があります。 または、マッピングされているスキーマ要素の最小発生がゼロの場合、要素の作成をスキップすることができます。 エクスポートマッピングは要素の残りのために続行されます。

## エクスポートマッピング内の3つのマッピング属性 {#mapping-attributes}

複合スキーマ要素が包含する各value要素に対して、エンティティから属性をマッピングする必要があります。 これらのプロパティは value 要素を含まないため、選択要素や継承要素には適用できません。 属性をマップする方法を設定することは、特定のマッピング要素をダブルクリックした後に表示される図5に示されているウィンドウで行われます。

![](attachments/16713726/16843935.png)

**図 5**

### 3.1 エンティティマッピングプロパティ

| 属性                 | 説明                                                                                                                                                              |
| ------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| エンティティ属性           | 要素にマップされるドメインエンティティ内の属性。                                                                                                                                        |
| スキーマ値要素            | 塗りつぶされる要素。                                                                                                                                                      |
| オカレンスformat@@0     | 要素が発生する頻度を表示します。 これは、必要であるかどうかに応じて、「0..1」または「1」にすることができます。 値が空で、要素の最小要素が(スキーマによって指定されているように)0の場合、要素の作成はスキップされます。 値を任意の要素にマッピングしない場合は、「要素を選択...」ダイアログで無効にするだけです。 |
| Convert Using (任意) | エクスポートを実行する前に値を変換するマイクロフロー。                                                                                                                                     |
| 属性を名前でマップする        | このボタンをクリックすると、名前で属性を一致させる作業が行われます。 変更内容を報告するダイアログが表示されます。                                                                                                       |

## 4 オプションのマッピング要素 {#optional}

選択されたスキーマ要素のエンティティを定義するには、任意です。 これはスキーマ要素の場合です:

*   属性が含まれていません
*   は最大 1 (maxOccurs="1") 発生します。
*   は、choice 要素または選択要素に含まれていない、
*   継承要素や継承要素に含まれるものではありません。

この例を図6に示します。

![](attachments/16713726/16843934.png)

**図 6**

オプションのマッピングにオブジェクトが定義されていない場合、要素は常に作成されます。
