---
title: "マッピングのインポートアクション"
parent: "microflow activities"
---

{{% alert type="info" %}}
この活性は、ナノフローではなく、マイクロフローでのみ使用できます。
{{% /alert %}}


## 1つの紹介

マッピングのインポートアクションを使用すると、XML または JSON ドキュメントに保存されているデータを [ドメイン モデル](domain-model) エンティティにインポートすることができます。

![](attachments/import-mapping-action/import-mapping-action.png)

## 2 Input

### 2.1 変数

入力変数は、文字列、ファイルドキュメント、 [HttpRequest](http-request-and-response-entities#http-request)、または [HttpRequest](http-request-and-response-entities#http-response) のいずれかです。 ファイルドキュメント、HttpRequest または HttpResponse の内容は XML または JSON にする必要があります。

{{% alert type="info" %}}
HttpRequest のサポートがバージョン 7.11.0 で追加されました。 以前のバージョンでは、HttpRequest のコンテンツを含む文字列変数が必要でした。
{{% /alert %}}

{{% alert type="info" %}}
HttpResponse のサポートがバージョン 7.22.0 で追加されました。 以前のバージョンでは、HttpResponse コンテンツを含む文字列変数が必要でした。
{{% /alert %}}

## 3つのインポートマッピング

### 3.1 マッピング

[インポート マッピング](import-mappings) は、 XML または JSON をオブジェクトに変換する方法を定義します。

### 3.2 Input Content Type

{{% alert type="info" %}}

この機能はバージョン7.10.0で導入されました。

{{% /alert %}}

インポートマッピングが [メッセージ定義](message-definition)に基づいている場合、XML と JSON の両方をインポートすることができます。 入力変数に XML または JSON が含まれているかを選択します。

### 3.3 入力に含まれるもの

{{% alert type="info" %}}

この機能はバージョン7.10.0で導入されました。

{{% /alert %}}

インポートマッピングが [メッセージ定義](message-definition)に基づいている場合、単一のオブジェクトとリストの両方をインポートすることができます。 入力変数に単一のオブジェクトまたはオブジェクトのリストが含まれているかを選択します。

### 3.4 オブジェクトが見つからなかった場合

{{% alert type="info" %}}

この機能はバージョン7.17.0で導入されました。

{{% /alert %}}

**オブジェクトが見つからなかった場合、** インポートマッピングがチェックされたとき、 **マッピングが使用される場所でこれを決定する**.

### 3.5 パラメータ

選択されたマッピングにパラメータが必要な場合、ここで選択することができます。

### 3.6 範囲 (マッピングがリストを返す場合)

範囲は、マップされ返されるオブジェクトの数を決定します。

| Range | 意味                                                      |
| ----- | ------------------------------------------------------- |
| すべて   | すべてのオブジェクトをマップして返します。                                   |
| 最初の   | 最初のオブジェクトのみをマップして返します。 アクションの結果はリストの代わりに単一のオブジェクトになります。 |
| カスタム  | 指定された数のオブジェクトをマップして返します(limit)。 制限は数字になるマイクロフロー式です。     |

### 3.7 コミット {#commit}

結果として生成されるオブジェクトをデータベースにコミットするかどうか、およびイベントハンドラをトリガーするかどうかを示します。

| Option    | 説明                                                                             |
| --------- | ------------------------------------------------------------------------------ |
| はい        | オブジェクトはデータベースに保存され、 [イベントハンドラ](event-handlers) がトリガーされます。                      |
| イベントなしではい | オブジェクトはデータベースに保存されますが、 [イベントハンドラ](event-handlers) はトリガーされません(デフォルト)。           |
| いいえ       | オブジェクトはデータベースに保存されずに作成されます。 それらを保存するには、 [コミットアクション](committing-objects) が必要です。 |

## 4 検証

{{% alert type="info" %}}

検証プロパティは、 [XML スキーマ](xml-schemas) または [使用した Web サービス](consumed-web-service) に基づいて XML からマップするインポートマッピングが選択されている場合にのみ適用することができます。

{{% /alert %}}

### 4.1 スキーマに対する検証

インポート アクションが [XML スキーマ](xml-schemas) に対して受信する XML を検証するかどうかを決定します。

_はい_ に設定するとパフォーマンスが大幅に低下します！

*デフォルト値:* いいえ

## 5個の出力

### 5.1 変数に保存

インポートの結果を変数に格納するかどうかを選択します。

### 5.2 タイプ

出力変数の型。

### 5.3 名

インポートの結果を保持する変数の名前。
