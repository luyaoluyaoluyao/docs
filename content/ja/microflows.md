---
title: "マイクロフロー"
description: "Mendix Studioでマイクロフローを説明します。"
menu_order: 50
tags:
  - "スタジオ"
  - "マイクロフロー"
---

## 1つの紹介

Mendix Studioには、ボックス(例えば、ボタン)から動作する多くの組み込みロジックがあります。 ただし、カスタムロジックを追加したい場合は、マイクロフローを作成する必要があります。

*Microflow* はテキストコードを視覚的に表現する方法である。  マイクロフローは、ページの作成や変更、選択肢の作成などのアクションを実行できます。

以下の場合にはマイクロフローを使用する必要があります。

*  ボタンの標準動作を変更/拡張する
* アプリケーションにカスタムロジックを追加するには
* 他のシステム、データベース、Webサービスなどと統合する。

以下に、マイクロフローを使用する例を示します。

*  エンドユーザーが入力した値をチェックし、エンドユーザーにエラーメッセージまたは別のページを表示します。
*  To-Doリストを作成しており、リスト上のアイテムの状態が変更されたときにカスタムロジックを使用します。

Studio でアプリケーションのマイクロフローを表示するには、左側のメニューバーの **Microflow** アイコンをクリックします。

{{% image_container width="250" %}}![マイクロフローアイコン](attachments/microflows/micflows-icon.png)
{{% /image_container %}}

## 2 概念と定義

マイクロフローはフローチャートのように見えます。 新しいマイクロフローでは、 *開始イベント* ( *グリーン* ドットで表されるマイクロフローの開始点) と *終了イベント* ( *赤* ドットで表されるマイクロフローの終了点) がデフォルトで作成されます。

開始イベントと終了イベントは、 *シーケンス フロー* (矢印の線) によって接続され、新しいイベントやアクティビティを追加できます。 詳細については、 [新しいマイクロフロー](#creating-new-microflow) の作成のセクションを参照してください。 If [Mendix Assist](mx-assist) is on, it will be represented with a blue dot in the middle (for more information on what Mendix Assist is, see [Mendix Assist](mx-assist)).

![新しいマイクロフロー](attachments/microflows/new-microflow-created.png)

マイクロフローの構成を開始する前に、マイクロフローエディターが使用する概念と概念について理解してください。

| コンセプト   | 説明                                                                                                                                                                                                                                                                    |
| ------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| アクティビティ | アクティビティはさまざまな機能を実行し、青いボックスとして表示されます。 たとえば、アクティビティの助けを借りて、エンドユーザーにホームページを表示できます。 アクティビティの詳細については、 [Toolbox](#microflows-toolbox) セクションを参照してください。                                                                                                                       |
| フロー     | フローは、マイクロフローイベントとアクティビティを接続する矢印として表示されます。 フローの詳細については、 [フロー](#flows) セクションを参照してください。                                                                                                                                                                                  |
| イベント    | イベントは、フロー内の他のすべての要素で、アクティビティではありません(青いボックスではありません)。 [決定](microflows-decision) はイベントの例です。 イベントの詳細については、 [一般](#microflow-general-section) セクションを参照してください。                                                                                                               |
| 変数      | 変数は、データのための一時的なストレージです。 変数は、情報を保存し、必要に応じて参照するために使用されます。 この目的のための変数には一意の名前が必要です。 <br />マイクロフローでは、変数を追加し、値を割り当ててから、マイクロフローのアクティビティやイベントで使用できます。 必要に応じて後でこの値を変更できます。 例えば、変数 **$Discount** を作成し、値 0.5 を割り当て、顧客の価格を計算することができます。 <br />変数を作成したマイクロフローでのみ使用できます。 |
| パラメータ   | パラメータにはグローバル変数が含まれています。つまり、異なるマイクロフローで同じパラメータを使用できます。                                                                                                                                                                                                                 |

## 3 新しいマイクロフローの作成 {#creating-new-microflow}

新しいマイクロフローを作成し、カスタムロジックの構築を開始するには、次の操作を行います。

1. 左のメニューバーの **Microflow** アイコンをクリックします。
2.  **Microflow** サイドパネルの **New** をクリックします。

    {{% image_container width="300" %}}![新しいマイクロフローの追加](attachments/microflows/new-microflow.png)
    {{% /image_container %}}

3.  ポップアップダイアログでマイクロフローの名前を入力し、 **作成** をクリックします。

    ![新しいマイクロフローダイアログを作成](attachments/microflows/new-microflow-dialog.png)

新しいマイクロフローが作成され、イベントやアクティビティを使用してロジックを追加できるようになりました。

## 4 マイクロフローを複製する {#duplicate}

マイクロフローを複製するには、次の手順を実行します。

1. 左側のメニューバーの **Microflow** アイコンをクリックします。

2.  サイドパネルで省略記号アイコンをクリックし、ドロップダウンメニューから **Duplicate** を選択します。

    {{% image_container width="350" %}}![Duplication a Microflow](attachments/microflows/duplicate-microflow.png){{% /image_container %}}

マイクロフローは複製されます。

## 5 マイクロフローのコピーと貼り付け

マイクロフローをコピー&ペーストするには、次の手順を実行します。

1. 左側のメニューバーの **Microflow** アイコンをクリックします。

2.  サイドパネルで省略記号アイコンをクリックし、ドロップダウンメニューから **Copy to clipboard** を選択します。

    {{% image_container width="350" %}}
![マイクロフローのコピー](attachments/microflows/copy-microflow.png)
{{% /image_container %}}

3. マイクロフローを貼り付けるスタジオアプリを開き、 <kbd>Ctrl</kbd> +<kbd>V</kbd> または <kbd>Cmd</kbd> +<kbd>V</kbd> を押します。

マイクロフローがペーストされます。 Studio のコピー/貼り付け機能の詳細については、 [一般情報](general#copy-paste-documents) の *コピー/貼り付けページ、マイクロフロー、および列挙* セクションを参照してください。

## 6マイクロフローの削除

Studio でマイクロフローを削除するには、次のいずれかを実行します。

1. 削除したいマイクロフローを開き、以下の手順に従ってください。

    1. **プロパティ** タブを開きます。

    2. **プロパティ** タブの下部にある **削除** をクリックします。

2. 左側のメニューバーの **Microflows** アイコンをクリックし、次の操作を行います:

    1. サイドパネルで省略記号アイコンをクリックし、ドロップダウンメニューから **Delete** を選択します。

        {{% image_container width="350" %}}
![マイクロフローを削除](attachments/microflows/delete-microflow.png)
{{% /image_container %}}

## 7 新しいイベントやアクティビティを追加する {#adding-activity-to-microflow}

マイクロフローに新しいアクティビティまたはイベントを追加するには、次の手順を実行します。

1. イベントまたはアクティビティを追加するマイクロフローを開きます。
2. **Toolbox** タブを開きます。
3. **General**, **Object Activities** または **Client Activities** セクションでイベントまたはアクティビティを選択します。
4. イベントやアクティビティをマイクロフローにドラッグ&ドロップします。

## 8ツールボックス {#microflows-toolbox}

**Toolbox** タブには以下のセクションが含まれています:

* [全般](#microflow-general-section)
* [オブジェクトのアクティビティ](#microflow-object-activities)
* [クライアントのアクティビティ](#microflow-client-activities)

### 8.1 全般 {#microflow-general-section}

**General** セクションには、パラメータや終了イベントなどのさまざまな要素が含まれています。

{{% image_container width="300" %}}![マイクロフローの一般プロパティ](attachments/microflows/microflows-general-properties.png)
{{% /image_container %}}

**一般** セクションで利用可能な要素については以下の表を参照してください。

| 要素                        | 説明                                                                                                                                                                                                                                         |
| ------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 注釈                        | 注釈は、コメントをマイクロフローに置くために使用できる要素です。                                                                                                                                                                                                           |
| 休憩イベント                    | break イベントはループ内で使用されるのは、オブジェクトのリストの反復を停止し、マイクロフロー内の残りのフローを継続するためだけです。 break eventの詳細については、 [Studio Pro Guide](/refguide8/break-event) の *イベント* を参照してください。                                                                                  |
| イベントを続ける                  | continue イベントは、現在の反復を停止し、次のオブジェクトの反復を開始するためにのみループで使用されます。 継続イベントの詳細については、 [Studio Pro Guide](/refguide8/continue-event) の *イベントの継続* を参照してください。                                                                                             |
| イベントを終了                   | endイベントは、マイクロフローが停止する場所を定義します。 たとえば、 [Decision](microflows-decision) がマイクロフローで使用されている場合など、複数のエンドイベントが存在する可能性があります。 したがって、エンドイベントの数は、マイクロフローの可能な結果の数に依存します。 エンドイベントの詳細については、 [Studio Pro Guide](/refguide8/end-event) の *イベント終了* を参照してください。 |
| [決定](microflows-decision) | 決定はフローを分割し、条件を追加する場合に使用する必要があります。 たとえば、異なる成績を持つ顧客に異なる注文フォームを表示する場合です。 <br />この要素は条件に基づいており、複数の流出フローをもたらします。 マイクロフローは、条件をチェックし、いずれかのフローに従います。 決定とそのプロパティの詳細については、 [Decision](microflows-decision) を参照してください。                          |
| [ループ](microflows-loop)    | ループは、オブジェクトのリストを反復処理し、リストの各項目に対してアクションを実行するために使用されます。 たとえば、データベースから注文のリストを取得し、次にこのリストをループし、処理済みとして注文をマークできます。 ループとそのプロパティの詳細については、 [Loop](microflows-loop) を参照してください。                                                                      |
| 結合                        | マージは、フローを1つに結合するために使用できます。  以前にマイクロフローを分割した場合 (例えば、 これらの分離されたフローに対して同じアクションを実行する必要があります マージを使用して、2 つのパス(またはそれ以上)を結合できます。 For more information, see [Merge](/refguide8/merge) in the *Studio Pro Guide*.                                    |
| パラメータ                     | パラメータはマイクロフローの入力データであり、マイクロフロー内の任意のアクティビティで使用できます。 パラメータの詳細については、 [Studio Pro Guide](/refguide8/parameter) の *パラメータ* を参照してください。                                                                                                            |

### 8.2 オブジェクトアクティビティ {#microflow-object-activities}

The **Object Activities** section contains activities that interact with an object or objects (for more information on what an object is, see [Domain Model](domain-models)):

{{% image_container width="350" %}}![Microflow Object Activity](attachments/microflows/object-activities.png)
{{% /image_container %}}



**オブジェクトアクティビティ** は以下の表に記述されています。

| アクティビティ   | 説明                                                                                                                                                                                                                                                                 |
| --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 集計リスト     | **集計リスト** は、最大値などの集計値を計算するために使用できます。 データオブジェクトのリスト上のオブジェクトの最小、合計、平均、および合計の量。 For more information, see [Aggregate List](/refguide8/aggregate-list) in the *Studio Pro Guide*.                                                                                      |
| オブジェクトの変更 | **オブジェクトの変更** は、既存のデータオブジェクトやこのオブジェクトのプロパティを変更するために使用できます。 詳細については、 [Studio Pro ガイド](/refguide8/change-object) の *オブジェクトの変更* を参照してください。                                                                                                                            |
| コミット      | **コミット** はまだデータベースに保存されていない変更を保存します。 For more information, see [Commit](/refguide8/committing-objects) in the *Studio Pro Guide*.                                                                                                                                  |
| オブジェクトを作成 | **オブジェクトの作成** は、データオブジェクトの作成に使用できます。 詳細については、 [Studio Pro ガイド](/refguide8/create-object) の *オブジェクトの作成* を参照してください。                                                                                                                                                  |
| 削除        | **Delete Object** を使用すると、1 つのデータオブジェクトやオブジェクトのリストを削除できます。 詳細については、 [Studio Pro ガイド](/refguide8/deleting-objects) の *削除* を参照してください。                                                                                                                                 |
| 保留する      | **Retrieve** can be used to get one or more objects, either by getting another object through an [association](domain-models-association-properties), or by retrieving objects from the database. 詳細については、 [Studio Pro ガイド](/refguide8/retrieve) の *取得* を参照してください。 |

### 8.3 クライアントアクティビティセクション {#microflow-client-activities}

**クライアント アクティビティ** は、ページを開いたりメッセージを表示したりするなど、クライアントでアクティビティを実行します。

![Microflow Client Activities](attachments/microflows/client-activities.png)

**クライアント アクティビティ** は以下の表に記載されています。

| アクティビティ   | 説明                                                                                                                                                                                                                                                       |
| --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ページを閉じる   | **ページを閉じる** アクティビティは現在開いているページを閉じます。 詳細については、 [Studio Pro ガイド](/refguide8/close-page) の *ページを閉じる* を参照してください。                                                                                                                                             |
| ホームページを表示 | **Show Home Page** アクションは、ホームページに移動します。 それは、エンドユーザーがログインしてロールベースのホームページを尊重した後に行くのと同じページに行きます。 詳細については、 [Studio Pro Guide](/refguide8/show-home-page) の *ホームページを表示する* を参照してください。 <br />ホームページの設定については、 [Navigation Document](navigation) を参照してください。 |
| メッセージを表示  | **メッセージの表示** アクションを使用すると、エンドユーザーにブロックまたは非ブロックメッセージを表示できます。 (非ブロックメッセージでは、ユーザーはポップアップウィンドウを開いてアプリ内で作業を続けることができます。 ブロックメッセージでは、ポップアップウィンドウが閉じられるまでユーザーは作業を継続できません。 ) 詳細については、 [Studio Pro ガイド](/refguide8/show-message) の *メッセージ* を参照してください。               |
| ページを表示    | **ページを表示** アクションを使用すると、エンドユーザーにページを表示できます。 詳細については、 [Studio Pro Guide](/refguide8/show-page) の *ページ* を参照してください。                                                                                                                                          |

### 8.4 可変アクティビティ

**可変アクティビティ** セクションには、変数を操作するアクティビティが含まれています:

![マイクロフロー変数のアクティビティ](attachments/microflows/variable-activities.png)

**可変アクティビティ** は以下の表に記載されています:

| アクティビティ | 説明                                                                                                                                                                            |
| ------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 変数の変更   | **変数を変更する** は、現在のマイクロフローにおける既存の変数の値を変更する。 詳細については、 [Studio Pro Guide](/refguide8/change-variable) の *変数の変更* を参照してください。                                                        |
| 変数を作成   | **変数の作成** アクティビティを使用すると、変数を作成して値を割り当てることができます。 変数は、マイクロフローのアクティビティで値を保存、変更、および再利用するために使用することができます。 詳細については、 [Studio Pro ガイド](/refguide8/create-variable) の *変数の作成* を参照してください。 |

たとえば、最初に、 *Discount* という名前の変数をマイクロフローに作成できます。 をクリックし、変数を変更します。割引は、顧客の成績の種類によって異なります。 ゴールドとシルバーの成績を持つ顧客に割引を与えることができます。

{{% image_container width="400" %}}![マイクロフローの例](attachments/microflows/example-of-using-var-activities.png)
{{% /image_container %}}

## 9つのフロー {#flows}

フローは要素を接続する線です。 以下の表にフローの説明があります。

| フロー      | 画像                                                    | 説明                                                                                                                                                                                            |
| -------- | ----------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| シーケンスフロー | ![シーケンスフロー](attachments/microflows/sequence-flow.png) | シーケンス フローは、イベント、アクティビティ、決定、および互いに結合する矢印です。 従って、実行の順序を定義する。 フローは常に、要素が一つずつ実行される方向に流れます。 つまり、マイクロフローは同時に2つのフローを追うことができないということです。 たとえフローを複数のフローに分割する **Decision** がある場合でも、マイクロフローは1つのフローのみに従います。 |
| 注釈フロー    | ![注釈フロー](attachments/microflows/annotation-flow.png)  | アノテーションフローは、アノテーションをフロー要素にリンクするために使用できる接続です。                                                                                                                                                  |

## 10個のアクティビティアイコン

マイクロフローのアクティビティを設定すると、アクティビティの上または下にアイコンが表示されます。 以下の表にアイコンの説明があります。

| 名前          | 画像の例                                                                  | 説明                                                                                                                                                                 |
| ----------- | --------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| エンティティ      | ![エンティティアイコン](attachments/microflows/entity-icon.png)                 | アクティビティのデータソースがエンティティであることを示します。                                                                                                                                   |
| 値           | ![値アイコン](attachments/microflows/simple-value-icon.png)                | アクティビティのデータソースが10進数、ブーリアン、日付、時刻などの単純な値であることを示します。                                                                                                                  |
| コミット        | ![コミットアイコン](attachments/microflows/commit-icon.png)                   | オブジェクトがコミットされることを示します。 *コミット* は、変更がデータベースに保存されることを意味します。 これは、オブジェクト *NewCustomer* をデータベースに保存して更新したい場合などに便利です。                                                      |
| イベントなしでコミット | ![イベントなしでコミット](attachments/microflows/commit-with-no-events-icon.png) | オブジェクトはコミットされますが、イベントはありません。 つまり、オブジェクトはデータベースに保存されますが、イベントハンドラはトリガーされません。 イベントハンドラの詳細については、 [Studio Pro Guide](/refguide8/event-handlers) の *イベントハンドラ* を参照してください。 |
| クライアントで更新   | ![クライアントアイコンで更新](attachments/microflows/refresh-in-client-icon.png)   | アクティビティの結果がエンドユーザーに表示されることを示します。                                                                                                                                   |

## このカテゴリ内の11のメインドキュメント

* [Mendix Assist](mx-assist) - マイクロフローの設定に役立つ人工知能を搭載したエージェントについて説明する
* [Decision](microflows-decision) - 決定が何であるかを説明し、その特性を説明する
* [ループ](microflows-loop) - ループが何であるかを説明し、その特性を説明します
* [マイクロフロー式](microflows-expressions) - マイクロフロー式の使用方法を説明する
* [Set & Change a Value for different activities in the Microflow](microflows-setting-and-changing-value) – 設定方法、または変更方法について説明します。
