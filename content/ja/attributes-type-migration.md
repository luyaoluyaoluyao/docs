---
title: "属性タイプの移行"
parent: "データストレージ"
menu_order: 10
---

## 1つの紹介

Mendix を使用すると、既存のドメインモデルの属性と関連タイプを変更できます。 この文書では、その結果について説明します。

## 2 既存の属性に対するデータ型の変更

### 2.1 Data Type Change Behavior

Modelerで既存の属性の型が変更された場合 既存の属性は通常削除され、新しい属性が作成されます。 いくつかの属性型の変更については、Mendixはデータベース内の既存のデータを新しい型に変換しようとします。

If data should not be convert to the new type, は、モデラーの属性を削除し、同じ名前の新しい列を作成する必要があります。 型を変更して列の名前を変更すると、Mendix は古い列名を記憶し、可能であれば列の値を変換しようとします。

### 2.2 コンバージョン表

以下の表は、データ型が変更されるごとに、Mendixが値を変換するかどうかを示しています。

| キー                                    | 方法                                                                                           |
| ------------------------------------- | -------------------------------------------------------------------------------------------- |
| **&#x2713;**                          | 変換は常に可能です。                                                                                   |
| **\*<sup><small>ノート</small></sup>** | 変換は必ずしも可能ではない、または変換中にデータが変更されます。 詳細については、関連するノートを参照してください。 もし変換が不可能な場合、下記の挙動は "**X**" と同じです。 |
| **X**                                 | 変換できません。 元の列が削除され、新しい列が既存の行のデフォルト値で作成されます。                                                   |

![変換表 - クリックで拡大](attachments/attributes-type-migration/conversion-table.png) (*クリックして拡大する*)

### 2.3 手動変換

Mendixが特定の列の値を別の型に変換できない場合でも、それを手動で管理することができます。 属性の名前を変更します。例えば、テキスト「削除済み」をその名前に追加します。 同じ名前と新しいデータ型を持つ新しい属性を作成します。 モデル全体で古い (renamed) 属性の各発生を調べ、これを new 属性に変更します。 古い属性を参照するマイクロフローやフォームがもう存在しないことを確認してください。

エンティティのすべてのインスタンス、インスタンスのループ、および各インスタンスを取得するマイクロフローを作成します 古い属性の値を読み取り、値を変換し、新しい属性に格納し、インスタンスをコミットします。 このマイクロフローを呼び出す管理者フォームにボタンを配置します。

デプロイ時に、このマイクロフローを1回実行する必要があります。 その後、マイクロフローと、それを指すボタンの両方を削除して、古い属性を削除することもできます。

## 3 既存の関連付けの関連タイプの変更

1対1の関連付けがあり、それを1対1の関連付けに変更する場合は、データベース内で重複した関連付けがクリーンアップされないことに注意してください。 例えば、エンティティAからエンティティBへの1対多の関連付けは、a1からb1、a1からb2などの複数の参照を許可します。 1対1の関連付けでは、オブジェクトごとに1つの参照しか許可されません:a1からb1です。 アプリケーションを再デプロイすると、a1 から b2 のような重複した関連エントリはクリーンアップされません。
