---
title: "インデックス"
parent: "エンティティ"
menu_order: 60
tags:
  - "ドメインモデル"
  - "エンティティ"
  - "属性"
  - "インデックス"
  - "studio pro"
---

## 1つの紹介

**インデックス** は、エンティティの基盤となるデータベーステーブル上にデータベースインデックスが作成される属性のリストです。 インデックス付けされた属性が検索フィールドで使用されている場合、インデックスはオブジェクトを取得する速度を向上させます。 データ グリッドまたはテンプレート グリッドの XPath 条件式、または OQL クエリの `WHERE` 節。 ただし、 `比較` プロパティが値 `を含む` を持つ検索フィールドは、パフォーマンスの向上を利用しません。

インデックスはエンティティプロパティの **インデックス** タブから追加および編集できます。

![インデックスタブの例](attachments/domain-model/index-properties.png)

{{% alert type="info" %}}
インデックスプロパティは外部エンティティの読み取り専用です。 詳細については、 [外部エンティティ](external-entities) を参照してください。
{{% /alert %}}

## 2つの重要な考慮事項

### 2.1 属性の順序

インデックスは順序付けされています つまり、2つ以上の属性にインデックスを作成する場合、属性の順序を考慮することが重要です。 複数の属性を検索またはクエリする際のパフォーマンスの向上を利用するために。 これらの属性はインデックスの属性と同じ順序である必要があります。 拡張機能により、検索が1つの属性のみに制限される場合。 パフォーマンスの向上は、インデックスの最初の属性の場合にのみ達成されます。

### 2.2 システムメンバーのインデックス

エンティティの `所有者` と `changedBy` システムメンバを保存することを選択すると、インデックスが作成されます。 これは、 `createdDate` と `changedDate` システムメンバーにとってはそうではありません。 また、自動生成された属性 `id` のインデックスが作成されます。 これらの属性の実装に関する詳しい情報は [Domain Model](domain-model) を参照してください。

### 非持続可能エンティティ上の2.3 インデックス

データベースの概念として、持続可能エンティティのインデックスのみを定義できます。 したがって、非持続可能エンティティではインデックスは無効になります。

### 2.4 パフォーマンスに関する考慮事項

インデックスを持つエンティティのオブジェクトの変更と削除は、実際のデータに加えてインデックスを更新する必要があるため、時間がかかります。 したがって、検索やクエリではほとんど条件として使用されない属性に対して。 検索パフォーマンスの向上が更新パフォーマンスの低下を正当化する場合にのみインデックスを作成します。

## 3つの例

顧客は通常、郵便番号と家番号の組み合わせで取得されます。 したがって、 *1つの* インデックスは属性の組み合わせに設定されます。

![](attachments/domain-model/customer-index-example.png)

オブジェクトは以下の OQL クエリによって取得されます。 `WHERE` 節の属性の順序は、インデックスの属性の順序と同じであることに注意してください。

```sql
FROM Module.Customer AS c
WHERE c.zipcode = $ParameterZipCode AND c.houshouseenumber = $ParameterHouseNumber
SELECT c.name AS CustomerName
```
