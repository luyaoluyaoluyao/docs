---
title: "XPath ソース"
parent: "データソース"
---

## 1つの概要

データベースがウィジェットのデータ ソースとして選択されている場合、表示されているオブジェクトまたはオブジェクトはクエリを使用してデータベースから直接取得されます。 そのため、提供されるデータは以下の要因によって制限されます。

1. プロジェクトのセキュリティセクションで定義されているアクセス ルール。
2. ウィジェット設定で提供される XPath 制約。
3. 関連付け、ウィジェットが別のデータ ウィジェットにネストされており、説明されているデータ パスが関連付け上で実行されている場合。

{{% alert type="success" %}}
データ グリッドのデータを制限するには、可能な限りアクセス ルールを使用します。 これにより、オブジェクトは常にこれらのルールによって制約されます (単一のデータグリッド上の XPath 制約とは異なります)。 アクセスルールはマイクロフローを実行する際に適用され、繰り返される XPath の制約を保存します。
{{% /alert %}}

## 2つのコンポーネント

### 2.1 検索バー

詳細については、 [検索バー](search-bar) を参照してください。

### 2.2 ソートバー

詳細については、 [Sort Bar](sort-bar) を参照してください。

## 3つのプロパティ

### 3.1 エンティティ (パス)

エンティティ (path) プロパティは、データベース クエリのターゲットを指定します。 トップレベルのデータグリッドは常にエンティティに接続されます。

ネストされたデータ グリッドは、エンティティまたは含むデータ ビューのエンティティから始まるエンティティ パスに接続することができます。 エンティティパスは、関連付けの矢印が指している(*から1まで)反対方向のタイプ参照の1つの関連に従います。

{{% alert type="alert" %}}
これは、オブジェクトがクライアントキャッシュから取得されず、データベースから直接取得されるという点で [関連データソース](association-source) と異なります。 この関連付けは、データベースクエリの追加制約として単純に解析されます。
{{% /alert %}}

この [ドメイン モデル](domain-model) は、不確定なユーザ数を一つの国にリンクできるデータベースを記述しています:

![](attachments/16713835/16843965.jpg)

表示されるデータビューには、単一の国が含まれています。 入れ子になったデータグリッドには、特定の国にリンクされているユーザーのみが表示されます。

![](attachments/16713835/16843966.jpg)

### 3.2 検索バーを表示

このプロパティを使用すると、検索バーが表示されるかどうかに影響を与えることができます。

| 値                 | 説明                                                      |
| ----------------- | ------------------------------------------------------- |
| 一切なし              | 検索バーや検索ボタンは表示されません。 検索を効果的に無効にします。                      |
| ボタン付き (最初に開く)     | ユーザーは、検索ボタンを使用して検索バーを開いたり閉じたりすることができます。検索バーは最初に開いたりします。 |
| ボタン付き (最初は閉じています) | ユーザーは検索ボタンを使用して検索バーを開閉できます。検索バーは最初に閉じられます。              |
| 常に表示              | 検索バーは常に表示され、閉じることはできません。検索ボタンもありません。                    |

_デフォルト値:_ ボタンあり (最初は閉じています)

### 3.3 検索待ち

true に設定されている場合、検索が実行されるまでグリッドはコンテンツの空白のままになります。 これは、ターゲットエンティティが非常に大きなオブジェクトセットを含んでいる場合に便利ですが、ほとんどの変異ではデータのサブセットしか必要としません。 検索を待つと、所望のサブセットが指定されるまでデータベースクエリが実行されないようになります。 したがって、主要なデータの取得に関連する最初のロード期間をスキップします。

_デフォルト値:_ false

### 3.4 XPath 制約

[XPath 制約](xpath-constraints) を使用すると、表示されるデータに対するカスタムのハードコードされた制限が可能になります。 この制約は、セキュリティとコンテキストを介して既に適用されている制約(もしあれば)に追加されます。

{{% alert type="warning" %}}
XPath 制約はすべてのユーザーに均等に適用され、単一のデータ ウィジェットに表示されるデータにのみ適用されます。 目的がユーザーからデータの特定のサブセットをシールドする場合、 [エンティティアクセス ルール](access-rules) は、個々のユーザー ロールに合わせて調整され、システム全体に適用されるという点で優れています。
{{% /alert %}}
