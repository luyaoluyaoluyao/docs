---
title: "JSON结构"
parent: "集成"
menu_order: 40
tags:
  - "studio pro"
---

## 1个一般事务人员

JSON结构文档存储一个 JSON 片段 并将其转换为可以用于 [导入映射](import-mappings) 和 [导出映射](export-mappings) 以将 JSON 内容转换为 Mendix 对象，反之亦然。

![](attachments/18450089/19398772.png)

### 1.1 JSON Snippet

包含 JSON 代码片段的文本。 通常它是从 API 文档粘贴的，或者您可以手动输入它以获取简单的 JSON 文件。

{{% alert type="info" %}}

当您粘贴或修改JSON代码片段时，它会自动检查是否有效。 如果代码片段无效，那么代码段上方会出现一个振动标记：

![](attachments/18450089/19398781.png)

您不能按下"确定"，否则JSON无效。

{{% /报警 %}}

### 1.2 格式

在 API 文档中发现的 JSON 代码片段的格式和空白可能各不相同。 您可以将JSON粘贴到文档中，而不会对空格抱怨。 按钮“格式”格式化JSON代码片段的格式，使其具有可读性。 代码片段的语义内容没有改变。

{{% alert type="info" %}}

特殊的 unicode 字符是根据JSON 标准编码的。 例如，如果原始代码片段包含一个心形符号 (:red_hear_selector:), 它将被替换为 '\u2764'。

{{% /报警 %}}

### 1.3 结构

显示由 JSON 代码片段解析的架构。 以下列可用：

* **名称** — 这显示一个 JSON 元素的名称。 如果JSON元素没有名称，它会在括号内显示元素类型：(对象)、(数组)、(wrapper)或(值)。
* **值** - 这将显示JSON代码片段中元素的原始值。 它被用来更容易找到代码片段中的原始元素。 它不用于模型的其他部分。
* **原始类型** - 在解析后显示元素的类型。
* **出现** - 显示元素的发生。 通常JSON 数组有多次发生(0..*) 和 JSON 对象单次发生(1)。
* **自定义名称** — — 此列是可编辑的。 通常无法从代码片段推导JSON对象或数组。 为了参考，您可以修改JSON元素的名称。 当您使用基于 JSON 模式的映射文档时，此名称是重要的。 您将在映射元素中看到此名称 当您想要使用“自动地图”生成域模型实体和关联时，它会被使用。

{{% alert type="info" %}}

当你修改JSON代码片段时，你需要点击“刷新”按钮来刷新结构。 如果您没有这样做，将出现一个错误：

![](attachments/18450089/19399140.png)

您不能在不更新结构的情况下按“确定”。

{{% /报警 %}}

### 1.4 文件

描述片段的文档。

## 解析JSON代码片段

### 2.1 简易JSON对象

一个简单的 JSON 对象包含在大括号中 ('{' and '} '之间)。 它包含一个逗号分隔的 JSON 属性列表。 见下面的例子。

![](attachments/18450089/19398772.png)

每个JSON属性由一个密钥(“name”)和一个值(“John”)组成。 如果值介于双引号 (" ")，它被视为一个字符串，否则类型是从值中派生的。 支持以下JSON值：

*   “字符串”。 转换为类型字符串的属性。
*   123\. 转换为整数类型的属性。
*   true或false。 转换为布尔型的属性。
*   “1985-04-12T23:20:50.52Z”。 转换为类型 **日期和时间** 的属性。
*   12.50\. 转换为小数型的属性。

### 2.2 JSON数组

JSON 数组包含在方括号中 ( `[` and `]` 之间)。 它包含一个逗号分隔的 JSON 值或JSON 对象列表。

*   一个 JSON 数组可以是 JSON 代码段的根。

*   一个 JSON 数组可以包含 JSON 对象

*   一个 JSON 数组可以包含在另一个 JSON 数组中。

{{% alert type="info" %}}

数组的第一个项目将用于确定数组中项目的类型。 混合数组不支持。 混合数组是一个包含不同数据类型（例如字符串和整数）的数组。 在树结构中出现错误，您不能在映射中使用混合数组。

{{% /报警 %}}
