---
title: "XPath 源"
parent: "数据来源"
---

## 1 概览

如果数据库被选为一个小部件的数据源，则显示的对象或对象将直接从数据库中检索到查询结果。 因此，所提供的数据受到以下因素的限制：

1. 项目安全部分定义的访问规则。
2. 小部件设置中提供的 XPath 约束。
3. 一个关联，如果小部件嵌套在另一个数据小部件中，并且描述的数据路径运行在一个关联上。

{{% alert type="success" %}}
尽可能使用访问规则限制数据网格中的数据。 这种方式你知道对象总是受到这些规则的约束(而不是对单个数据网格的 XPath 约束)。 当执行可节省您重复的 XPath 约束的微流时，访问规则也将被应用。
{{% /报警 %}}

## 2 个组件

### 2.1 搜索栏

欲了解更多信息，请参阅 [搜索栏](search-bar)。

### 2.2 排序条

欲了解更多信息，请参阅 [排序栏](sort-bar)。

## 3 属性

### 3.1 实体(供应)

实体(路径)属性指定数据库查询的目标。 顶级数据网格总是连接到实体的。

嵌套的数据网格可以连接到一个实体，也可以连接到从包含数据视图的实体开始的实体路径。 实体路径沿着一个类型参照协会，其方向与该协会的方向相反(从*到1)。

{{% alert type="alert" %}}
这不同于 [关联数据源](association-source) ，因为对象不是从客户端缓存中检索的，而是直接从数据库中检索。 该协会被解析为数据库查询中的一个额外限制。
{{% /报警 %}}

此 [域模型](domain-model) 描述了一个可以链接到一个国家的用户数量不确定的数据库：

![](attachments/16713835/16843965.jpg)

显示的数据视图包含单个国家。 数据网格嵌套内将只显示那些与该国家相关联的用户：

![](attachments/16713835/16843966.jpg)

### 3.2 显示搜索栏

使用此属性后，您可以在搜索栏显示时施加影响。

| 值        | 描述                            |
| -------- | ----------------------------- |
| 从不使用     | 没有显示搜索栏或搜索按钮。 有效禁用搜索。         |
| 按钮(最初打开) | 用户可以使用搜索按钮打开并关闭搜索栏；搜索栏最初是打开的。 |
| 按钮(最初关闭) | 用户可以使用搜索按钮打开并关闭搜索栏；搜索栏最初已关闭。  |
| 总是显示     | 搜索栏总是可见的，无法关闭，也没有搜索按钮。        |

_默认值：_ 按钮(最初关闭)

### 3.3 等待搜索

如果设置为 true，网格将保持内容空，直到搜索完成。 如果目标实体包含一系列极大的对象，那么这可能是有用的，但大多数突变只需要一个数据子集。 等待搜索将确保在指定所需子集之前不执行数据库查询， 因此跳过与主要数据检索相关的初始加载期。

_默认值：_ false

### 3.4 XPath 约束

[XPath 约束](xpath-constraints) 允许自定义硬代码限制显示数据。 这一限制将附在安全和环境方面已经适用的限制(如果有的话)之后。

{{% alert type="warning" %}}
XPath 约束适用于所有用户，仅适用于单个数据部件中显示的数据。 如果目标是保护特定的数据子集免受用户的影响，那么 [实体访问规则](access-rules) 就会更高，因为它们可以针对每个用户的角色进行调整，并且它们可以应用到整个系统。
{{% /报警 %}}
