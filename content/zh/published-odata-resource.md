---
title: "发布的 OData 资源"
parent: "已发布的 odata 服务"
---

{{% alert type="warning" %}}

本文件介绍已发布的OData资源的属性。 如果您想要对 OData 服务进行一般概述，您可以检查 [已发布的 OData 服务](published-odata-services) 文档。

{{% /报警 %}}

## 1 个添加或编辑资源

**添加资源** 或 **编辑已发布的 OData 服务文档中的** 按钮将打开已发布资源的编辑器窗口。 编辑器窗口分为两个部分： **Resource** and **统一资源标识符**。 前者让您指定要暴露的实体和实体属性， 后者允许您自定义资源发布的位置。

添加资源的另一种方式是右键点击域模型中的一个实体并点击 **作为OData资源曝光**。 这样做将促使您选择或创建已发布的 OData 服务文档以添加新资源。 文档被选择后，将显示已发布的资源编辑器。

![](attachments/16713722/16843929.png)

### 1.1 资源

按 **选择...** 按钮打开一个对话框窗口，允许您从域模型中选择要发布的实体。 点击显示树中的实体并按 **选择** 确认。

![](attachments/16713722/16843930.png)

IBM DB2 不支持在多用户环境中无阻挡的读取数据检索操作。 因此，如果同一数据行被另一用户同时修改的话，ODA获得的数据可能不会100%一致。 详情请查看 [IBM DB2](db2) 页面。

## 2 选择公开的属性 & 关联

当选择要发布的实体时，按 **选择...** 按钮打开对话框，允许您选择要显示的个别属性。

_系统_。_ID_ 属性在OData 服务中被用作密钥，因此不允许取消选中。

Attributes of published entities are nillable by default, meaning that if their value is **empty** then they will be encoded as explicit nulls in the OData content. 如果您取消选择 _nill_ 列，属性不能为 **空** (否则将出现运行时错误)。

除了System.FileDocuments的内容字段外，不允许通过OData服务导出二进制属性。

## 3 从内部名称映射到被曝光的名称

使用 **暴露的实体名称** 字段来自定义暴露于外部世界的资源名称。 默认情况下，名称与您域模型中曝光实体的名称相同。 您可以将这个名称更改为任何名称，以字母开头的字母或数字开头，最大长度480个字符。 然而请注意，地址地址必须是唯一的。 在同一地点暴露两种不同的资源将导致一致性错误。

这也适用于属性和协会。 在“暴露属性和关联”屏幕上，您也可以在这里覆盖 **暴露的名称**。

当这些名字被撤销时，实体名称， 域模型中定义的属性或关联不会对外部世界曝光。 对于所有OData通讯，将使用暴露的名称。

这些功能使我们更容易重新考虑您的域模型，而不会影响外部API。

## 4 个实体集名称

使用 **实体设置名称** 字段来更改资源的 URL 的最后一部分。

_默认值：_ 实体名称 + s

## 5 使用分页

如果您启用此选项，您可以设置每个响应的最大对象数，并包含一个链接到下一组对象。 Tableau 这样的客户端可以使用它来显示进度，并且在检索到所有数据之前自动保持跟踪链接。 如果您使用合理的页面大小，可以提高客户端内存使用率。

**请注意启用这确实意味着已检索到的数据可能不一致**，因为您不再在一次交易中检索数据。 例如，您是在一个名为客户和检索每页1000个对象的实体中按年龄属性排序的。 现在客户在两次通话之间被删除，这意味着在1001位置的23岁客户现在移动到1000位置， 这意味着您 _本来会在下一页上_ 的对象现在移动到第一页，不会再检索。 在通话之间插入数据的另一种方式可能会使您看到重复。 因此，只有在这种不一致可以接受的情况下才使用这种办法。

_默认值：_ 否

## 6 页大小

当分页设置为 “是”时，您可以在此设定每页对象的数量。

_默认值：_ 10000
