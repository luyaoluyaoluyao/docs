---
title: "属性"
parent: "实体"
menu_order: 30
tags:
  - "域模型"
  - "实体"
  - "属性"
  - "studio pro"
---

{{% alert type="info" %}}
<img src="attachments/chinese-translation/china.png" style="display: inline-block; margin: 0" /> 对于简体中文翻译，请点击 [中文为 xix x](https://cdn.mendix.tencent-cloud.com/documentation/refguide8/attributes.pdf)。
{{% /报警 %}}

## 1 导言

**属性** 是描述和/或识别实体的特性。 每个属性都有一个名称。

例如， **客户**, 通常具有客户名称的属性(例如) **全名**、 电子邮件地址(例如， **电子邮件地址**) 和其他个人信息。

![客户实体示例](attachments/domain-model/customer-entity.png)

域模型编辑器使用以下符号帮助可视化属性属性：

| 符号                                       | 描述                |
| ---------------------------------------- | ----------------- |
| ![](attachments/domain-model/917593.png) | 此属性有一个或多个验证规则。    |
| ![](attachments/domain-model/917592.png) | 此属性有一个可计算属性值的微流程。 |

{{% alert type="info" %}}
外部实体的属性在 **外部实体属性** 中被指定。 这些属性是在原始应用中定义的，唯一可以应用于这些实体的本地更改是本地名称和描述。 For further information see the [Attributes](external-entities#attributes) section of *External Entities*.
{{% /报警 %}}

## 2 属性

您可以从 [实体属性对话框](entities#dialog-box) 添加属性到实体。 您也可以从此对话框中编辑它们，或者双击域模型中的属性名称。

{{% alert type="info" %}}
您可以 **添加** 个新属性到 [外部实体](external-entities#attributes), **编辑** 部分属性属性，或 **删除** 然而，这些变化只能在本地应用，原始应用中的值不会受到影响。 欲了解更多关于外部实体属性的操作信息，请参阅 *外部实体* 的 [属性](external-entities#attributes) 部分。
{{% /报警 %}}

属性属性的示例在下面的图像中显示：

![](attachments/domain-model/attribute-properties.png)

属性属性由以下部分组成：

* [常用的](#common)
* [类型](#type)
* [值](#value)
* [限制](#limitations)

### 2.1 共同部分 {#common}

#### 2.1.1 姓名

**名称** 属性指定了属性的名称。 这个名称用来指形状、微流、查询、约束等属性。

{{% alert type="warning" %}}
如果您删除实体中的属性，然后创建具有相同名称的新属性， Mendix 将认为它是一个新的和不同的属性。 这意味着部署时旧列将被删除，包括其数据。 然后创建一个新的空的列名和相同的名称。
{{% /报警 %}}

#### 2.1.3 文件

这使您能够描述实体中可能对您或其他团队成员有用的某些方面。

### 2.2 类型部分 {#type}

#### 2.2.1 Type

类型属性定义了可以存储在属性中的数据类型。 这些与 [数据类型](data-types)中描述的数据类型相关，但没有一对一的映射。

{{% alert type="warning" %}}
Mendix 允许您在现有域模型上更改属性和关联类型。 虽然某些属性可以很容易地转换，但在某些类型之间转换却有局限性和后果。 欲了解更多信息，请参阅 [属性类型迁移](attributes-type-migration)。
{{% /报警 %}}

属性具有以下类型之一：

| 类型                               | 可能的值                                                                                                                                                                                                                                                                                                   | Mendix 数据类型地图 |
| -------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------- |
| AutoNumber                       | 正整数或负整数。<br/>自动编号属性自动生成数字。 属性的默认值决定将生成的第一个数字。 每个创建的对象将有一个比上一个对象大的自动编号。 自动编号只能用于可持久的实体，因为自动编号值是在数据库中计算的。                                                                                                                                                                                          | 整数/经度         |
| 二进制<sup><small>[1]</small></sup> | 二进制数据。 只能用于可持久的实体，因为数据存储在数据库中。 例如，整个文件。 在大多数情况下，您想要使用文件文档或图像的关联来存储文件内容。                                                                                                                                                                                                                                | 二进制文件         |
| Boolean                          | 判断题：                                                                                                                                                                                                                                                                                                   | Boolean       |
| 日期和时间                            | 一个由日期和时间组件组成的时间点精确到毫秒。                                                                                                                                                                                                                                                                                 | 日期和时间         |
| 小数                               | 小数点后可以有数字的正数或负数。 十进制类型可以用于高精度计算。 例如使用这种类型来表示钱的金额。 当一个十进制类型属性在数据库中持续存在时，它的值会根据两个条件验证。 如果积分部分的数字数（小数点后）大于20，就会抛出例外情况。 如果分数（小数点后）的数字数超过8位， 分数值根据 [自动四舍五入到甚至规则(也称为银行家四舍五入)](https://en.wikipedia.org/wiki/Rounding#Round_half_to_even) 因此，小数型号最大允许值为99999999999999999999999999999999999999999999999999949。 | 小数            |
| 枚举数                              | 预定义属性列表。 欲了解更多信息，请参阅 [枚举](enumerations)。                                                                                                                                                                                                                                                               | 枚举数           |
| 哈希字符串                            | 一个用 [工程设置](project-settings#hash-algorithm) 中指定的算法哈希的字符串。 例如，这可以用来存储密码哈希，以免数据库中记录原始密码。                                                                                                                                                                                                                 | 字符串           |
| 整数                               | 整个数字可以是正数 (最多2<sup>31</sup>-1, 从而为 2147483647), 负(最小-2<sup>31</sup>, 从而-2147483648)或零。                                                                                                                                                                                                                 | 整数/经度         |
| 长                                | 整个数字可以是正数 (最多2<sup>63</sup>-1), 负数 (最小2<sup>63</sup>), 或 0.                                                                                                                                                                                                                                            | 整数/经度         |
| 字符串 *(默认)*                       | 包含字母、空格、数字和其他字符的文本。                                                                                                                                                                                                                                                                                    | 字符串           |

<sup><small>[1]</small></sup>可以大致存储在二进制属性中的最大大小取决于数据库：

| HSQDB | PostgreSQL | SQL 服务器 | Oracle           |
| ----- | ---------- | ------- | ---------------- |
| 1 MB  | 1 GB       | 2 GB    | 128 TB 或受服务器硬盘限制 |

**示例**

在网上商店，您想要存储id、个人资料照片、级别(服务质量)、用户名、密码、活动总共在线时间。 订阅年份、出生日期、费用总额和客户的标准折扣额。

**CustomerId** 应对每个客户都是唯一的，所以此属性有 **AutoNumbers** 类型。

**照片** 由一个社团代表到一个专门图像的实体。 您没有为此目的使用二进制属性。

**等级** 有三个可能的值：高、中、低值。 它存储在类型 **枚举** 的属性中。

**密码** 本身不应该被存储，而只应该是其散列值. 因此它被存储在类型 **哈希字符串** 的属性中。

A customer can be active or inactive, which is stored in an attribute named **Active** of type **Boolean**.

![](attachments/domain-model/customer-attribute-examples.png)

#### 2.2.2 本地化

{{% alert type="info" %}}
如果 **类型** 设置为 **日期和时间** 则显示此属性。
{{% /报警 %}}

此属性表示日期和时间是否应该本地化。 默认启用本地化。 如果您对某一天的时间组件（例如生日）不 __ 感兴趣，您应该将此属性设置为“否”。 否则， 日期可能因时区差异而改变：4月2日早上欧洲的日期和时间是4月1日。 Original: ENGLISH

技术方面 此属性表示客户是否假定日期和时间在本地时区 (是)或UTC (否)。 在前一种情况下，在发送到服务器之前先将日期转换为 UTC 并在显示之前从UTC 转换。

默认： *是*

#### 2.2.3 枚举

{{% alert type="info" %}}
如果 **类型** 设置为 **枚举** 则显示此属性。
{{% /报警 %}}

枚举属性表示哪个枚举定义了此属性的可能值。

#### 2.2.4 长度

{{% alert type="info" %}}
如果 **类型** 设置为 **字符串** 则显示此属性。
{{% /报警 %}}

此属性指定字符串的长度是有限还是无限的。 在限定长度的情况下，“最大长度”属性指定了最大值(见下文)。

默认： *限制*

#### 2.2.5 最大长度 (仅适用于字符串属性类型)

{{% alert type="info" %}}
如果 **类型** 设置为 **字符串** 则显示此属性。
{{% /报警 %}}

“最大长度”属性指定了可以存储在属性中的字符数。

默认： *200*

### 2.3 价值部分 {#value}

#### 2.3.1 价值

The **Value** determines whether the value of the attribute is **Calculated** by a microflow or **Stored** in the database.

使用 **计算出的** 属性时注意到以下事项：

* 每次检索一个具有计算属性的对象时，该属性将被计算。 取决于微流的复杂性和您检索到的对象的数量，可以对性能产生影响。
* 由微流计算的属性没有存储在数据库中。
* 无法对使用此属性的属性进行排序，因为排序是由数据库引擎进行的。
* 无法在计算属性中检索未提交的关联对象。

#### 2.3.2 微流

{{% alert type="info" %}}
是否将 **值** 设置为 **计算的** 显示此属性。
{{% /报警 %}}

如果值是计算， **Microflow** 属性定义了哪个微流程定义了当检索对象时计算属性的值。 microflow 应该有属性类型的参数，它应该返回与属性相同的值。

例如，在网上商店，您想要显示每个客户的总费用。 计算方法是检索所有与客户相关的订单并增加其总数。

![](attachments/domain-model/917570.png)

#### 2.3.3 默认价值

{{% alert type="info" %}}
是否将 **值** 设置为 **存储** 则显示此属性。
{{% /报警 %}}

**默认值** 属性定义了对象创建时此属性的值。 默认值应与属性类型兼容。

| 属性类型       | 未指定时的默认值 | 附加评论                                                                                             |
| ---------- | -------- | ------------------------------------------------------------------------------------------------ |
| AutoNumber | 1        | 此属性的起始值。 如果此实体已经有对象，则自动编号值将基于正确的 32 位ID列值。 这可能会在跳跃100的自动编号范围内造成空白，因为ID值是由 Runtime 在 100 个区块中保留的。 |
| 二进制文件      | 无        |                                                                                                  |
| Boolean    | 错误       |                                                                                                  |
| 日期和时间      | (空)      | 默认值可以是 UTC 日期，格式 `全天` (可选的 `小时`后缀) 或 `小时:分钟:秒`), 或者 `[%CurrentDateTime%]` (将此属性的值设置为创建对象的日期和时间)。 |
| 小数         | 0        |                                                                                                  |
| 枚举数        | (空)      |                                                                                                  |
| 哈希字符串      | (空)      |                                                                                                  |
| 整数         | 0        |                                                                                                  |
| 长          | 0        |                                                                                                  |
| 字符串        | (空)      |                                                                                                  |

### 2.4 限制 {#limitations}

**限制** 属性指定了该属性是否可以用于过滤和排序：

* **不可排序** - 属性不能用于排序(例如，) 您不能在数据网格的排序栏中使用此属性，也不能在检索操作中排序)
* **不可过滤** - 属性不能用于过滤 (例如) 您不能在 XPath 约束中使用此属性或在列表操作中过滤此属性)

Mendix 中的某些属性类型总是有限制：

* 哈希字符串属性不可过滤
* 二进制属性不可排序和不可过滤
* 计算出来的属性不可排序和不可过滤
