---
title: "项目安全"
parent: "项目"
---

{{% alert type="info" %}}

欲了解更多安全信息，请参阅 [Security](security)。

{{% /报警 %}}

在项目安全对话框中，您可以配置与项目相关的安全设置。 例如安全等级、用户角色、管理员访问权限和匿名用户。

## 安全级别

安全等级定义了如何应用安全以及需要配置哪些安全设置。

| 值       | 如何应用安全                       | 哪些安全设置需要配置                      |
| ------- | ---------------------------- | ------------------------------- |
| 关闭      | 不适用任何安全措施。 用户不必登录，可以访问一切。    | (无)                             |
| 原型/演示模式 | 安全适用于签署、表格和微量流动。 用户可以访问所有数据。 | 管理员和匿名访问、用户角色以及表单和微流的安全。        |
| 生产      | 充分的安全措施得到执行。                 | 管理员和匿名访问、用户角色以及表格、微流、实体和报告的安全性。 |

{{% alert type="warning" %}}

对于所有已授权的 Mendix 云节点，您需要使用 **Product** 安全等级，并相应配置所有安全设置。 安全等级 **关闭** 和 **原型/演示级** 仅在本地测试时，当部署免费应用程序时才允许使用 和 在 Mendix 云之外的云端环境中，这些云端是专门使用 **开发模式** 设置的。

{{% /警示%}}!{% alert type="info" %}}

所有其他安全设置只有在安全等级为“原型/demo”或“Production”时才可见。

{{% /报警 %}}

### 检查安全性(仅用于安全等级生产)

如果安全等级是生产的，您可以指定是否检查安全设置的一致性。 对于每个用户角色，Modeler检查哪些形式可以直接在菜单栏中使用，或者通过以下表格和微流间接访问。 对于其中的每一种形式，Modeler检查所提交的属性和关联是否可以为当前用户角色访问。 如果没有，错误将添加到错误列表。 只有在没有其他错误的情况下才显示这些错误。

### 项目状态

项目状况表明目前项目安全水平的安全状况。

| 值        | 描述                                |
| -------- | --------------------------------- |
| Complete | 已配置当前安全级别的所有安全设置。                 |
| 未完成      | 当前安全等级的一些安全设置需要配置。 查看模块状态以获取更多信息。 |

## 额外设置

当安全等级设置为“原型/演示”或“生产”时，会显示一些附加设置的标签页。

## 模块状态

模块状态概述显示每个模块的安全状态。 它显示安全需要配置的项目总数， 以及已经配置了安全的项目数量。 在“原型/demo”安全等级，显示表单访问和微流访问的状态。 此外，在“生产”安全层面，显示了实体存取和数据集（如果适用的话）存取的状况。

## 用户角色

用户的作用汇集了数据、形式和微流方面的一些访问权。 应用程序的最终用户由管理员分配一个或多个用户角色，并获得这些用户角色所代表的所有访问权限。

每个用户角色都有一个或多个 [模块角色](module-role)， 这意味着具有该用户角色的用户拥有为这些模块角色定义的所有访问权限。 典型的用户角色具有模块角色 System.User 和至少一个其他模块角色。

区分用户角色和模块角色的目的是使模块自成一体（独立于定义或使用模块的项目）。 这样可以在不同的项目中重新使用和/或向市场公布。

您的应用程序的最终用户只看到用户角色，而不是模块角色。

### 常规属性

**名称**

名称属性定义了用户角色的名称。 此名称将显示给可以在应用程序中创建或编辑用户帐户的最终用户。

**文件**

在此属性中，您可以记录有关用户角色的额外信息。 此信息将显示给可以在应用程序中创建或编辑用户帐户的最终用户。

**模块角色**

以用户角色积累访问权限的模块角色列表。 被分配给用户角色的最终用户可以获得该用户角色模块角色的所有访问权限。

**检查安全**

此选项指定此用户角色是否检查安全设置的一致性。 您可以选择不检查用户角色的安全性。 例如， 仅供网络服务用户使用的用户角色不需要检查，因为他们从未登录到客户端。 关于安全检查的更多信息，请参阅 [Project Security](project-security)。

### 用户管理属性

**具有此用户角色的用户最多可以使用以下用户角色来管理用户**

用户角色可以被允许管理一些其他用户角色（包括自身）的用户。 这意味着具有这个用户角色的最终用户可以创建、查看、编辑和删除用户，最多可以管理用户角色。

| 值   | 描述                                                                           |
| --- | ---------------------------------------------------------------------------- |
| 所有的 | 具有此用户角色的最终用户可以管理所有用户并授予所有用户角色。 通常，这个选项只能为管理员配置。                              |
| 已选择 | 具有此用户角色的最终用户可以管理最多具有所选用户角色的用户，只能授予所选用户角色。 如果没有选择用户角色，那么具有此用户角色的最终用户根本无法管理用户。 |

## 管理员

**用户名称**

可以用来登录应用程序的管理员用户名。

_默认值_: MxAdmin

**密码**

可以登录到应用程序的管理员用户密码。

_默认值_: 1

**用户角色**

可以用来登录应用程序的管理员用户角色。

{{% alert type="info" %}}

此用户总是被创建并默认具有系统管理员角色。 此模块的角色允许任何具有此角色的用户管理您的用户。 在sandbox上，创建应用程序的用户默认也自动具有这个角色，以便您可以在那个环境中使用它来管理您的用户。 这个角色可能很有帮助，因为您已经超过了用户许可限制，在这种情况下，您可以使用拥有此系统的任何用户。 用于登录以管理您的用户的 dministrator 角色。

{{% /报警 %}}

## 演示用户

在项目安全设置的这一部分。 您可以定义演示用户，这些用户可以在应用程序开发阶段用于测试。 或向其他人显示应用程序。

每个演示用户可以被分配给一个实体和一个或多个用户角色，当您与该用户登录您的应用程序时。 当应用程序首次启动时，指定的演示用户将自动创建。

在与管理员用户登录您的应用程序后， 一个叫做“用户切换器”的小标签显示在您的应用程序的右侧。 扩展此标签显示项目安全设置中定义的所有演示用户列表。 从此列表中选择一个用户将使用此用户的凭据登录到您的应用程序， 这样您可以通过用户的角色测试或演示您的应用程序。 这可以用不同的用户角色快速测试您的应用程序。

![](attachments/16713950/16844039.png)

只显示用户切换器，并且演示用户仅在本地在您的开发机器上运行应用程序时才被创建。 或者在沙盒中运行。

{{% alert type="info" %}}

在自动创建后，演示用户与应用程序中定义的其他本地用户没有任何不同。 这意味着您仍然可以使用他们手动登录使用他们的用户名和密码， 即使在禁用演示用户功能后也是如此。 此外，演示用户从不会自动从数据库中移除。

{{% /报警 %}}

**启用演示用户**

您可以在这里配置是否在用户切换器中创建和访问指定的演示用户。

| 值 | 描述                          |
| - | --------------------------- |
| 否 | 演示用户已启用。 用户切换器显示在应用程序的右边距中。 |
| 否 | 演示用户被禁用。 应用程序中不显示用户切换器。     |

### 演示用户属性

**用户名**

演示用户的名称。 此名称必须是唯一的，不能与 [管理员用户](administrator) 的名称相同。

**密码**

演示用户的密码在演示用户创建时自动创建。 它不能被更改，但是可以在系统剪贴板上放置此密码。 例如，这就可以与其他人分享演示用户的凭据。

**实体**

演示用户的实体。 这必须是系统用户实体，或其专业化。

**用户角色**

这里您可以选择演示用户的用户角色。 每个演示用户必须有一个或多个角色。

## <a name="anonymous-users"></a>匿名用户

**允许匿名用户**

您可以在这里配置是否允许匿名用户访问您的应用程序。

| 值 | 描述                                                                  |
| - | ------------------------------------------------------------------- |
| 否 | 允许匿名用户。 最终用户无需登录才能访问应用程序。 如果用户点击微流需要一个用户角色而不是匿名用户角色的按钮， 用户显示一个登录屏幕。 |
| 否 | 不允许匿名用户。 最终用户必须登录才能访问应用程序。                                          |

**匿名用户角色**

这是您应用程序的最终用户在未登录时具有的用户角色。

**登录微流**

当允许匿名用户时，您可以在这里选择性地配置登录微流。 这个微流可以用来从匿名用户传输数据到登录用户。 在这个微流程中，当前用户设置为登录用户。

登录微流有两个参数。

| 名称       | 类型                 | 描述                               |
| -------- | ------------------ | -------------------------------- |
| 匿名用户     | 实体'System.User' 对象 | 匿名用户的“用户”对象。 这个对象将在执行登录微流程后自动删除。 |
| 签名InUser | 实体'System.User' 对象 | 登录用户的“用户”对象。                     |

{{% alert type="warning" %}}

清理附加到匿名用户且您做 _不是_ 传输给登录用户的对象。 因为在运行登录微流后匿名用户已被删除， 您可以使用 [删除行为](associations) 来自动清理附加到匿名用户的物体。

{{% /报警 %}}

当最终用户执行登录微流程：

1.  使用您的应用程序而不登录 (因此作为匿名用户)，然后使用
2.  点击一个她无法访问的按钮，导致登录界面出现，然后再显示
3.  登录到您的应用程序。

{{% alert type="info" %}}

网上商店中的匿名用户将一些项目添加到她的购物车中，然后点击“查看”按钮。 显示登录界面和用户登录。 已执行登录微流程，并将匿名用户的购物车传输给登录用户。

{{% /报警 %}}

## 密码策略

您可以为密码指定一些要求。 在创建新用户或更改现有用户密码时，这些要求将得到执行。

**最小长度**

指定密码的最小长度。

**需要数字**

指定密码是否至少需要一个数字。

**需要混合大小写**

指定密码是否必须包含至少一个小写字符和一个大写字符。

**需要符号**

指定密码是否必须包含至少一个特殊符号。

以下字符被视为符号：

```java
` ~ ! @ # $ % ^ & * ( ) - _ = + [ { ] } \ | ; : ' " < , > . / ?
```
