---
title: "XML 继承 & 选择"
parent: "映射文档"
tags:
  - "studio pro"
---

## 1 按实体专业化获得对象

绘图文件中有两个特殊的XSD元素案例：选择和继承。

*   继承元素需要由某一类型或某一子类型的元素填充。
*   一个选择要素需要用若干替代品中的一种来填写。

在 Mendix 中，继承权和选择权都是由实体专业化绘制的。

*   基础继承或选择元素已映射到一个常规化实体。 对于导出映射，基础映射包含如何获取Mendix 对象的设置 (来自参数) 按 [导出映射](export-mappings) 解释的 associ, microflow或key)。
*   继承或选择的儿童要素按实体专业划分。 对于导出映射，您不能指定如何获取对象，因为它已经在基础映射元素中定义了一个级别。 然而，为了导入映射，您确实需要指定如何获取在 [导入映射](import-mappings) 中解释的Mendix 对象。

## 2 XML 继承权

在下面的图像中显示了导出继承图示例。 导入映射的结构是相同的，只有箭头的方向被颠倒。 一个 _个人_ 对象与 _人有一对一的关联。_ 此人可以是客户或雇员。

![](attachments/16713728/16843946.png)

导入映射时，将传入的 XML 映射到指定的 XSD 类型由属性 _xsi：类型_ 定义. 然而，这个属性是可选的。 When the _xsi:type_ attribute is **not** present and the base type of the element is **not** abstract, that type will be used (in the example that is Person). 如果基础类型在导入映射文档中没有定义映射，它将被跳过。 当基本类型为抽象时，将出现错误。

用于导出映射， 如果继承元素是 **可选的** 并且通过关联或微流程获取到元素的空对象， 不会创建元素。 如果继承元素是 **nillable**, 并且该元素获得了一个空的对象, 元素将使用 _xsi：类型_ 设置为映射中的第一个继承选项。

### 2.1 出口绘图中网络服务请求部分的选择

[选择元素](select--elements) 描述了如何选择 XML schema 或 WSDL 元素用于映射。 如果您使用导出映射创建请求机构的网页服务操作， 如果有多个请求参数，您可以选择请求部件。 继承内容也作为请求部分得到支持。

当根元素是继承元素时，你只能映射整个正体。 在这种情况下，无法映射个别请求参数。

## 3 XML 选择

下面的图像显示了一个选择元素的导出映射。 此schema指定了一种选择，有两种选择：雇员ID或成员 ID。 在这张图像中，基础实体 _人员_ 被映射到选择元素，作为选择选项的概括。

![](attachments/16713728/16843945.png)

导出对象时，选择元素的 **可选性** 处理方式不同于其他元素，因为它们没有在XML中明确出现。 在两种情况下，导出一个空对象作为选择元素是有效的： 当选择元素本身是 **可选的** ，其次当至少有一个选项是 **可选的** 时。 在这些情况下，不会创建元素，否则会出现错误。 当一个或多个选择元素的选项是 **nillable** 时，在选择元素中，我们导出一个空对象， Mendix 扔出一个不支持的错误，因为无法确定哪些XML元素应该与 _xsi:nil_ 属性一起发送。
