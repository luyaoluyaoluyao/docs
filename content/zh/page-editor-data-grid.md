---
title: "数据网格"
parent: "页面编辑器部件"
description: "在 Mendix Studio 页面编辑器中描述一个数据格。"
menu_order: 15
tags:
  - "工作室"
  - "页面编辑器"
  - "页面"
  - "数据视图"
  - "列表视图"
---

## 1 导言

*数据网格* 显示一个表格式的对象列表。 例如，数据网格可以显示事件的所有程序项目。 使用控制，最终用户可以浏览、搜索和编辑数据网格中的对象。

![](attachments/page-editor-data-grid/data-grid-example.png)

数据网格属于 **数据容器** 小部件类别。 欲了解更多关于不同小部件类别的信息，见 [小部件](page-editor-widgets)。

## 2 数据网格属性

数据网格包含以下属性：

* [数据源](#grid-data-source)
* [列](#grid-columns)
* [行](#grid-rows)
* [搜索](#grid-search)
* [事件](#grid-events)
* [控制栏](#grid-control-bar)
* [条件可见性](#visibility)
* [设计](#grid-design-section)

### 2.1 数据来源 {#grid-data-source}

数据源决定哪些对象将显示在数据网格中。

![](attachments/page-editor-data-grid/data-grid-data-source.png)

**数据源** 部分属性在下表中描述：

| 数据源属性 | 描述                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ----- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 数据库   | 确定显示的对象或对象直接从数据库检索的数据源。 您需要选择一个 **实体** (即您在域模型中已有)， 或创建一个新实体，如果您设置数据库为数据源。 <br />当您选择一个现有实体时，此实体的每个属性将自动创建 [网格列](#grid-columns)。 然而，如果该实体有八个以上的属性， 您可以选择是想要为所有它们生成列，还是只选择几个属性。 <br/>**过滤** - 限制数据网格中的数据。 您只能在为数据网格指定实体后才能创建过滤器。 欲了解更多关于数据过滤的信息，请参阅 [数据过滤器](data-filters)。<br />**排序顺序** - 显示数据网格中行的顺序。 您只能在为数据网格选择实体后才能指定排序顺序。 您可以添加多个排序规则。 例如，您可以添加两个分类规则：一个是按名称按升序排序。 另一个是通过电子邮件按降序排序。 唯一的项目将按名称升序排序 但如果两个或多个项目具有相同的名字，那么这些项目将通过电子邮件排序。 |
| 微流    | 一个运行选定微流并显示返回值的数据源(例如在对象列表中)。                                                                                                                                                                                                                                                                                                                                                                                                                               |
| XPath | 目前，此数据源只能在 Studio Pro中配置。 欲了解更多信息，请参阅 [XPath Source](/refguide8/xpath-source)。                                                                                                                                                                                                                                                                                                                                                                              |
| 协会    | 可放置在数据视图或列表视图中的数据网格。 数据网格被关联到数据视图/列表视图对象的对象填充。 在带有关联数据源的数据部件中无法排列列列和搜索。                                                                                                                                                                                                                                                                                                                                                                                     |

关于数据源的一般信息，见 [数据源](/refguide8/data-sources) 在 *Studio Pro 指南* 中。

### 2.2 列 {#grid-columns}

在 **列** 部分中，您可以设置数据网格列的宽度，添加列，编辑和删除。

![](attachments/page-editor-data-grid/data-grid-columns-section.png)

**列** 部分属性在下表中描述：

| 财产   | 描述                                                                          |
| ---- | --------------------------------------------------------------------------- |
| 列宽度为 | 确定列宽是否可以设置为固定像素值，或者是否应自动缩放到网格宽度。 此属性的可能值如下： <ul><li>**百分比** - 列宽将缩放到网格的宽度，您可以覆盖每一列的宽度， 点击 **编辑** 图标并前往[**格志列** 属性](#格列属性)</li><li>**像素** - 列宽将设置为固定像素值。 *自动*在**编辑**图标旁边，意味着这些列具有自动宽度并在数据网格中均匀缩放。 您可以覆盖每一列的宽度，单击**编辑** 图标并前往[**格志列** 属性](#格列属性)。 例如，如果您选择一个列的自定义宽度并使它更大， 具有自动宽度的其他列仍将在剩余空间内平均缩放。</li></ul>        |
| 列    | 列出数据网格中的所有的列表。 如果您想更改列的顺序，请单击并拖动列名称。 该财产可能采取的行动如下： <ul><li>**重置宽度** - 重置所有自定义宽度为默认值</li><li>**编辑** 图标——导航你到 [**格志列** 属性](#格志列属性)，在那里你可以更改它的数据源、名称和宽度</li><li>**添加列** - 添加新列到数据网格并导航到[**格志列** 属性](#格列属性)</li></ul> |

#### 2.2.1 网格列属性 {#grid-column-properties}

在 **网格列** 属性中，您可以选择属性，更改数据网格列的名称、宽度和可编辑性。

![](attachments/page-editor-data-grid/grid-column-properties.png)

这些属性如下表所示：

在</strong> 设置为 *百分比* 中显示 **列宽度 </em> 。 确定该列所占百分比的空间。</td> </tr> 

在</strong> 设置为 *像素* 中显示 **列宽度 </em> 。 确定此列是否具有固定宽度或使用可用的空间。 When enabled, you can type in the fixed width in **Width In Pixels** (see below).</td> </tr> 

</tbody> </table> 



### 2.3 行 {#grid-rows}

在 **行** 部分中 您可以设置要显示在数据网格页面的行数以及显示它们的方式。 

![](attachments/page-editor-data-grid/data-grid-rows-section.png)

这些属性如下表所示：

| 财产   | 描述                                  |
| ---- | ----------------------------------- |
| 行数   | 显示在数据网格的一个页面上的最大行数。                 |
| 显示空行 | 如果启用，数据网格将始终显示指定行数，即使网格中没有足够的项目来填写。 |




### 2.4 搜索 {#grid-search}

如果您启用搜索，最终用户可以在数据网格中搜索对象。 您可以确定搜索栏控制以及添加、编辑和删除搜索字段的行为。 

![](attachments/page-editor-data-grid/data-grid-search-section.png)

**搜索** 部分属性在下表中描述：

| 财产     | 描述                                                                                   |
| ------ | ------------------------------------------------------------------------------------ |
| 启用搜索   | 启用时，最终用户可以在数据网格中搜索对象；当禁用时，没有显示搜索栏或搜索按钮。                                              |
| 显示搜索控件 | 确定搜索栏切换按钮功能的方式，以及搜索栏的显示方式。 只有在 **启用搜索** 时才显示此属性。 此属性的可能值如下： <ul><li>**通过开关按钮(最初打开)** - 最终用户可以使用 **搜索栏切换按钮**来打开和关闭搜索栏； 搜索栏最初是打开的(关于**搜索栏切换按钮**的更多信息见部分“2”。 1. 选举主席团成员 网格动作按钮](#网格动作按钮))</li><li>**通过切换按钮(最初关闭)** - 最终用户可以使用 **搜索栏切换按钮**来打开和关闭搜索栏； 搜索栏最初已关闭</li><li>**总是** - 搜索栏总是可见的，没有搜索栏切换按钮</li></ul> |
| 搜索字段   | 列出搜索栏中的搜索字段。 要更改字段的顺序，请单击并拖动字段名称。 该财产可能采取的行动如下： <ul><li>**重置搜索字段** - 删除所有自定义搜索字段，并使用默认搜索字段集重新填充栏——每个适用的属性使用默认值。</li><li>**编辑** 图标——导航你到[**搜索字段** 属性](#grid-search-fields)，你可以在那里编辑搜索字段</li><li>**添加搜索字段** - 创建一个新的搜索字段，并导航你到[**搜索字段** 属性](#grid-search-fields)，你可以在那里配置新的搜索字段。</li></ul>             |




#### 2.4.1 搜索字段属性 {#grid-search-fields}

您可以在 **搜索字段属性** 中选择搜索字段的类型。 每种类型都有其特定属性。 



##### 2.4.2.1 搜索字段类型

搜索字段可以是三种类型：

![](attachments/page-editor-data-grid/search-field-types.png)

* **输入** - 搜索结果是通过将其与给定的搜索词进行比较来筛选的。 如果搜索值匹配属性值，此对象将是搜索结果的一部分。 可能的属性类型：自动编号、 日期和时间、 Integer, Long, String, Decimal
* **范围** - 将根据搜索词是否在两个选定属性的值之间应用一个过滤器。 可能的属性类型：自动编号、 日期和时间、 Integer、 Long、 Decimal
* **下拉** -- 搜索结果是通过将其与给定的搜索词进行比较来筛选的。 如果搜索值匹配属性值，此对象将是搜索结果的一部分。 可能的属性类型：布尔值、 枚举、 关联



##### 2.4.2.2 搜索字段公共属性

以下属性是所有类型搜索字段常见的：

* **标签** -- 搜索字段名称

*  **默认值** -- 定义搜索字段的预填值
  
  ![](attachments/page-editor-data-grid/search-fields-common-properties.png)



##### 2.4.2.3 输入和下拉搜索字段特定属性

输入和下拉搜索字段具有以下特定属性：

* **属性** - 所选属性的值将与搜索词相比较。

*  **比较** - 用来比较属性和搜索词的方法。
  
  ![](attachments/page-editor-data-grid/input-and-drop-down-search-field-properties.png)



##### 2.4.2.4 范围搜索域特定属性

范围搜索字段具有以下特定属性：

* **最小值** - 决定搜索条件必须超过实体的哪个属性
  
    * **包括最小值** - 启用后，最小值将包含在范围内
* **最大值** - 决定搜索词必须低于哪个实体的属性
  
    *  **包括最大值** - 启用后，最大值将包含在范围内
    
    ![](attachments/page-editor-data-grid/range-search-field-properties.png)



### 2.5 控制栏 {#grid-control-bar}

控制栏允许您通过按钮控制数据网格中显示的物体。 

**Control Bar** 部分属性描述如下： 

*  **显示分页控件** - 表示通过数据网格进行分页的按钮是否对最终用户可见，并且有以下选项：
  
      * **是 (总计数)** -- 分页按钮已显示， 包括 **转到最后一页** 按钮和对象总计数
    * **是 (不包含总计数)** -- 页面按钮显示，但 **转到最后一页** 按钮除外。 此外，不显示对象的总计数，因为页数会反而显示。
    * **无** -- 未显示分页按钮。 如果您确定数据网格只包含一个页面则隐藏按钮
      
      ![显示分页控制](attachments/page-editor-data-grid/control-bar-show-paging-controls.png)

* **显示按钮** — — 决定是否显示在 **按钮** 部分中定义的按钮。 如果禁用，除被指定为 **的按钮** 之外，任何其他按钮都无法以任何方式访问。 欲了解更多信息，请参阅第 [2.5.1 网格动作按钮](#grid-action-button) 和 [2.6 Events](#grid-events)

*  **按钮** — — 列出控制栏中的按钮。 在 **事件** 部分中设置为 **单击动作** 按钮将被标记为 *点击动作。* 这意味着，即使按钮被隐藏， 当最终用户点击或双击(取决于 [事件](#grid-events) 部分中的设置)网格项 默认按钮 (动作) 将被触发
  
  ![](attachments/page-editor-data-grid/control-bar-default-button.png)
  
    * **编辑** 图标 - 取决于按键导航您到 [**网格动作按钮** 属性](#grid-action-button)或至 [**搜索栏切换** 属性](#search-bar-toggle)
  * **添加按钮** - 导航您到 [**网格动作按钮** 属性](#grid-action-button)您可以在哪里为数据网格配置新的按钮。 当您创建一个新按钮时， 此按钮的动作被添加到 **事件** 部分中可能的单击动作列表中(以便获得更多信息) 见第 [节。 事件](#grid-events))



#### 2.5.1 网格动作按钮 {#grid-action-button}

**网格动作** 按钮在数据网格中执行一个动作。 它也可以设置为 **的默认动作。点击操作** (除了 **搜索栏切换**外) 这意味着当最终用户点击或双击(取决于设置)网格项时，将触发默认按钮。 

默认情况下，将使用 **搜索栏切换按钮**创建数据网格， **新的**, **编辑**, 和 **删除控制栏中的** 按钮。 

您可以添加更多按钮到数据网格并为具体的点击动作配置它们。 

在 **单击动作** 部分中，您可以选择一个数据网格的特定动作来按钮 (例如) 取消选中所有或导出到 Excel，或标准一个 (例如，执行微流程或保存更改)。 关于点击动作的按钮和标准的更多信息，请参阅 [按钮](page-editor-widgets-buttons) 和 [事件部分](page-editor-widgets-events-section)。

数据网格的具体行动如下：

*  <a name="search-bar-toggle"></a> **搜索栏切换按钮** - 当您点击搜索栏并为数据网格指定时打开或隐藏搜索栏。 如果数据源设置为 *Microflow* ，此按钮不能使用。 注意，如果 **显示搜索控制** 属性设置为 ****没有搜索栏切换按钮，因为搜索栏总是打开
  
  ![](attachments/page-editor-data-grid/search-bar-toggle-button.png)

* **创建** - 允许终端用户在网格中创建新对象(详细信息，见 [2.5.1.1 网格创建按钮](#grid-create-button))

* **选择** - 确认当网格用于选择一个关联作为数据源或参考集选择器的下拉对象时对网格行的选择。 出于这一原因， 选择按钮只能放置在连接到下拉列表的网格上，关联的关联作为数据源或参考集选择器

* **选择所有** - 允许最终用户在网格中选择所有对象； 只能在您设置 [选择模式](#selection-mode) 为 **多选项，** 或 **单击多选项，** (更多信息) See section [2. 事件](#grid-events))

* **取消选择所有** - 取消在网格中选择所有选中对象

* **导出到 CSV** - 导出网格的内容到一个 CSV 文件。 csv 导出函数依赖于特定的数据检索方法，不能在具有 **数据库** 数据源的数据网格中使用。
  
      * **最大行数** — 定义了要导出的最大行数。
* **导出到 Excel** - 导出网格的内容到 Excel 文件。 Excel导出函数依赖于特定的数据检索方法，不能在具有 **数据库** 数据源的数据网格中使用。
  
      *  **最大行数** — 定义了要导出的最大行数。

    *  **日期导出格式** - 定义了将如何导出日期。 当选择 *日期值* 时，日期值将被导出为实际日期，允许Excel函数。 当选择 *文本* 时，日期值将按数据网格中显示的方式导出，而不允许Excel格式化。
      
      ![](attachments/page-editor-data-grid/grid-export-to-excel-button.png)



#### 2.5.1.1 网格创建按钮 {#grid-create-button}

**创建** 按钮允许最终用户在数据网格中创建新的对象。

![](attachments/page-editor-data-grid/grid-create-button.png) 

用户可以在 **编辑位置** 选项中编辑新的对象。 您可以选择以下位置： 

* **在一个页面** — 新对象已被添加并可以在一个页面中编辑。 正在编辑此实例的页面可以与页面属性一起设置。 
      * **页面** - 此属性仅在 **编辑位置** 被设置为 **页面** 时才显示，并指明当最终用户点击此按钮时显示给他们的页面。 最终用户可以在保存之前使用此页面编辑新创建的对象。 此页面应包含一个与数据网格连接到同一个实体的数据视图。
* **内嵌在顶部** -- 新对象被添加到网格顶部并可以在网上编辑。
* **内嵌在底部** — 新对象添加在网格底部并可以在网上编辑。



### 2.6 事件 {#grid-events}

在 **事件** 部分中，当最终用户点击网格中的一个物品时，您可以选择自动执行的动作。 您也可以确定用户是否可以选择项目，以及用户可以选择它们的方式。 

![](attachments/page-editor-data-grid/data-grid-events.png)

**事件** 部分属性在下表中描述： 

| 财产                                 | 描述                                                                                                       |
| ---------------------------------- | -------------------------------------------------------------------------------------------------------- |
| **点击动作**                           | 描述点击网格项目时触发哪个控制栏按钮。 您可以在 **Control Bar** 部分创建一个新的动作，它将出现在这个属性的下拉列表中。 可能采取的行动如下： <ul><li>**无** - 不采取任何行动</li><li>**新** - 创建一个新对象</li><li>**编辑** - 用户可以编辑项目</li><li>**删除** - 从数据网格中删除项目</li></ul> |
| **点击动作触发器**                        | 确定如何触发在 **单击动作** 属性中选择的动作。 此属性的可能值如下： <ul><li>**双击** - 双击触发选定的点击动作</li><li>**单击** - 单击触发选定的单击动作。 单击不能与 **单选中** 模式合并使用(见下文)</ul>                                           |
| **选择模式** <a name="selection-mode"></a> | 确定最终用户在数据网格中选择项目的方式。 此属性的可能值如下： <ul><li>**没有选择** - 用户不能选择项目</li><li>**单个选择** - 用户可以一次通过单击选择一个项目</li><li>**总是一个选择** - 用户可以一次点击它选择一个项目。 然而，用户不能取消选择一个项目 (默认第一个项目将被选择)</li><li>**多选** - 用户可以通过点击第一个选项，按住 <kbd>Ctrl</kbd> 键并点击其他项目来选择多个项目。 只需单击项目就可以取消选择所有项目并使单击项目成为选中项目。</li><li>**单击多个选择** - 用户可以单击它们来选择多个项目。</li></ul>                                                 |




### 2.7 条件可见性 {#visibility}

{{% snippet file="studo/visibility-section-link.md" %}}



### 2.8 设计 {#grid-design-section}

关于 **设计** 部分及其属性的信息，请参阅 [设计部分](page-editor-widgets-design-section)。



## 3 阅读更多

* [页 次](page-editor)
