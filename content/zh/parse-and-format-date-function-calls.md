---
title: "解析 & 格式日期函数调用"
parent: "表达式"
menu_order: 160
description: "描述使用指定模式的字符串或在Mendix中生成一个字符串的解析日期和时间值的函数。"
tags:
  - "studio pro"
  - "表达式"
  - "parsing"
  - "格式化"
---

{{% alert type="info" %}}
<img src="attachments/chinese-translation/china.png" style="display: inline-block; margin: 0" /> 对于简体中文翻译，请点击 [中文为 xix x](https://cdn.mendix.tencent-cloud.com/documentation/refguide8/parse-and-format-date-function-calls.pdf)。
{{% /报警 %}}

## 1 导言

本文档描述用来解析字符串的日期和时间值的函数, 或从日期和时间值生成字符串。

欲了解所有模式可能性的详情，请参阅 [Class SimpleDateFormat](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html)。

## 2 parseDateTime[UTC] {#parsedatetime-utc}

需要一个字符串并解析它。 如果失败且指定了默认值，则返回默认值。 否则，就会发生错误。 函数 `parseDateTime` 使用用户的时区和 `parseDateTimeUTC` 使用UTC 日历。

### 2.1 输入参数

下面的表格描述了输入参数：

| 值            | 类型                                                   |
| ------------ | ---------------------------------------------------- |
| 日期           | 一个包含日期文本表达式的字符串，表示, `dd/mm/yyyy` , `mmm/dd/yyy`, 等等。 |
| 格式           | 字符串                                                  |
| 默认值 (**可选**) | 日期和时间                                                |

### 2.2 产出

产出情况见下表：

| 值            | 类型    |
| ------------ | ----- |
| 无法解析的日期或默认值。 | 日期和时间 |

### 2.3 例子

下面的例子说明表达式返回的价值：

* 如果您使用以下输入：

    ```java
    解析日期时间('2015-05-21', 'yyyy-MM-dd')
    ```

    输出为：

    ```java
    2015年5月21日\。 晚上的时间将是12点，因为没有指定它。
    ```

* 如果您使用以下输入：

    ```java
    解析日期时间('noDateTime', 'dd-MM-yyyyy', dateTime(2007))
    ```

    输出为：

    ```java
    'Mon Jan 01 00:00:00 CET 2007'
    ```

## 3 formatDateTime[UTC]

根据格式参数将日期和时间值转换为字符串。 在没有格式参数的情况下，使用标准格式。 函数 `格式化日期时间` 使用了用户日历和 `格式化日期时间` 使用了UTC 日历。

### 3.1 输入参数

下面的表格描述了输入参数：

| 值          | 类型    |
| ---------- | ----- |
| 日期         | 日期和时间 |
| 格式(**可选**) | 字符串   |

### 3.2 产出

产出情况见下表：

| 值             | 类型  |
| ------------- | --- |
| 日期和时间值的格式化表示。 | 字符串 |

### 3.4 示例

如果您使用以下输入：

```java
格式化日期时间($objectDate1,'EEEE, d MMM yyyy HH:mm:ss Z')
```

输出为：

```java
'太阳, 8 Jun 2008 10:12:01 +0200'
```

若要获得 '1987-12-31T23:59:00'，您需要连接两个格式的日期时间[UTC] 函数：

```java
格式化日期时间($object/Date1,'yyy-MM-dd) + 'T' + 格式化日期时间($object/Date1,'HH:mm:ss')
```

## 4 formatTime[UTC]

将日期和时间值的时间部分转换为标准格式的字符串。 `格式化时间` 使用用户日历和 `格式化时间` 使用的 UTC 日历。

### 4.1 输入参数

下面的表格描述了输入参数：

| 值  | 类型    |
| -- | ----- |
| 日期 | 日期和时间 |

### 4.2 产出

产出情况见下表：

| 值                  | 类型  |
| ------------------ | --- |
| 一个格式化的日期和时间值的时间部分。 | 字符串 |

### 4.3 例子

如果您使用以下输入：

```java
格式(日期时间(1974年、7、2、9、50、10))
```

输出为：

```java
'9:50 AM'
```

## 5 个格式日期[UTC]

将日期和时间值的一部分转换为标准格式的字符串。 `格式化日期` 使用用户日历和 `格式化DateUTC` 使用UTC 日历。

### 5.1 输入参数

下面的表格描述了输入参数：

| 值  | 类型    |
| -- | ----- |
| 日期 | 日期和时间 |

### 5.2 产出

产出情况见下表：

| 值             | 类型  |
| ------------- | --- |
| 日期和时间值的格式化表示. | 字符串 |

### 5.3 实例

如果您使用以下输入：

```java
格式化日期(1974年、7、2、9、50、10))
```

输出为：

```java
'7/2/74'
```

## 6 dateTimeToEponh

{{% alert type="warning" %}}This expression is only available in Mendix versions 8.15 and above.{{% /alert %}}

返回自1970年1月1日以来的毫秒数，00:00:00 格林尼治标准直到日期。

### 6.1 输入参数

下面的表格描述了输入参数：

| 值  | 类型    |
| -- | ----- |
| 日期 | 日期和时间 |

### 6.2 产出

产出情况见下表：

| 值                             | 类型    |
| ----------------------------- | ----- |
| 自1970年1月1日起的毫秒数，00:00:00时至今天。 | 整数/经度 |

### 6.3 示例

如果您使用以下输入：

```java
TimeToEpoch(dateTime1974, 7, 2, 9, 50, 10))
```

输出为：

```java
141990610000
```

## 7 epochToDateTime

{{% alert type="warning" %}}This expression is only available in Mendix versions 8.15 and above.{{% /alert %}}

创建日期代表自1970年1月1日起指定的毫秒数，00:00:00 GMT。

### 7.1 输入参数

下面的表格描述了输入参数：

| 值   | 类型    |
| --- | ----- |
| 埃波克 | 整数/经度 |

### 7.2 产出

产出情况见下表：

| 值                                     | 类型    |
| ------------------------------------- | ----- |
| 一个日期代表自1970年1月1日起指定的毫秒数，00:00:00 GMT。 | 日期和时间 |

### 7.3 示例

如果您使用以下输入：

```java
epochToDateTime(141990610000)
```

输出为：

```java
日期时间(1974年，7、2、9、50、10)
```
