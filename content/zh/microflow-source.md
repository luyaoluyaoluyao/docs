---
title: "微流程源"
parent: "数据来源"
tags:
  - "studio pro"
  - "微流程源"
  - "数据源"
menu_order: 40
---

## 1 导言

在大多数情况下，您使用 **数据库**, **XPath**, 或 **关联** 数据源以填充 [数据部件](data-widgets) 例如，如果数据网格的属性需要数据网格中选定实体的对象， 数据网格从数据库查询中获取其对象。 另一个例子是，嵌套的模板网格可以在关联上检索其对象。 然而，有时目标必须遵守非常具体的标准。 或者不同的对象在无法被 [XPath](xpath-constraints) 处理的不同环境下显示。 在这些情况下，可能需要一个 **微流** 数据源。

当带有微流数据源的数据部件显示在浏览器或刷新时， 它运行指定的微流程并显示返回值。 物体在微流中获得的方式完全取决于您。 它允许对要返回的对象进行无限控制。

微流数据源忽略了所有上下文. 它执行微流中描述的动作，没有其他动作。 例如，嵌套的带有微流数据源的数据部件不会自动创建或调用关联到封装数据部件。

{{% alert type="info" %}}
当 **微流** 被选为数据源时，这被视为“间接使用”。 这意味着您也不能选择一个 **实体 (路径)** ，因为您可以使用 **数据库**， **XPath**, 或 **关联** 数据源类型。
{{% /报警 %}}

## 2 微流程数据源示例

在这个场景中，您有一个数据网格需要显示基于订单类型的潜在订单列表：

{{% image_container width="400" %}}![数据网格的微流程数据源](attachments/data-widgets/data-grid-microflow-source.jpg)
{{% /image_container %}}

如果 **订单的 **订单类型**** 实体已设置为 **汽车**然后，数据网格应该显示所有 **产品** 的布尔值 **摩托化** 设置为 true。 如果 **订单类型** 是 **自行车**, 只显示 **摩托化** 的对象为false。 最后，如果 **订单类型** 为空，数据网格应该保持为空。

![实体示例](attachments/data-widgets/entities-example.jpg)

由于属性类型不匹配，这不能受到XPath的限制，所以需要微流数据源。

这种情景的微流应该看起来像这样：

![微流程示例](attachments/data-widgets/microflow-nanoflow-example.jpg)

这种微流的作用如下：

1. 它通过了作为参数的附文数据视图的 **顺序**。
2. 然后在 **orderType** 属性上拆分并检索每个枚举值的不同产品集。
3. 它返回产品列表，并且每个终端事件都被配置为返回列表。 请注意， **空的** 路径也需要一个值，其中 **空的** 也是一个值。

## 3 属性

### 3.1 微流{#microflow}

这指的是用于填充数据部件的微流。 当数据部件加载到浏览器或刷新时，将运行此微流。 微流必须有对象或对象列表的返回值，这取决于正在使用的数据部件。

### 3.2 微流程设置

**微流程设置** 打开对话框，使您能够指定哪些参数传递到微流程。

#### 3.2.1 微流

这重复了上面指定的 [微流程](#microflow)。

#### 3.2.2 微流参数

**微流程参数** 是根据选定的微流程参数和可用参数自动配置的。 一般参数来自任何附加数据部件。 如果数据小部件包含调用微流的小部件在另一个(嵌套)数据小部件内， 然后也可以传递来自该数据部件的对象和它嵌套的任何其他对象。

## 4 阅读更多

* [数据部件](data-widgets)
