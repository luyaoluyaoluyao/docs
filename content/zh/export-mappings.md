---
title: "导出映射"
parent: "映射文档"
---


导入请参考 [映射文档](mapping-documents)。

## 在导出映射中获取对象

图1显示了一个导出映射文件的示例，在这个示例中，使用 [选择元素](select--elements) 对话框从图表中选择了两个元素。 实体Cheesecake（左侧）被拖到绘图中去映射到Cheesecake元素（右侧），实体顶部映射到顶部元素。

![](attachments/16713726/16843939.png)

**图1**

定义了哪个实体映射到哪个模式元素， 您需要配置当导出映射被调用时如何获取要导出的实际Mendix 对象。 根级元素(这里是Cheesecake)是导出映射的参数，因此在援引导出映射时直接传递给导出映射。 映射中的其他 Mendix 对象需要配置。

### 从参数获取对象

当您在映射顶部有一个实体时，该实体将成为映射的参数。 当您使用映射时，您必须将这种类型的对象传递给它。

当映射中的顶部元素是 [可选的](#optional)， 您可以通过从参数</strong> 中选择 **作为获取Mendix 对象的方法，指定一个不同的元素作为映射参数。</p>

### 通过关联获取对象

对于子对象，可以通过父对象的关联获取对象，如图1所示。 在示例中，需要导出的 **顶部** 个对象将会在运行时通过 **Toping_Cheesecake** 关联获取。 可以通过双击 **置顶** 实体 (左侧) 或 **置顶** schema 元素 (右侧) 来编辑映射元素。 将显示此窗口：

![](attachments/16713726/16843938.png)

**图2**

### 使用微流程获取对象

在此窗口中，您可以选择通过与父目录关联的方式获取对象(图3)，也可以通过微流程获取对象(详细信息)。 查看 [导出映射属性](#mapping-attributes)。 如果您选择通过微流程获取对象， 您可以将任何父对象作为参数传递到那个微流程，以帮助确定您应该返回的对象。 这是配置它的窗口：

![](attachments/16713726/16843937.png)

**图3**

当您选择通过微流程获取对象时，它会在 **导出映射文档** 中显示：

![](attachments/16713726/16843936.png)

**图4**

最后，用户也可以定义当所选方法获取Mendix 对象时应该做些什么(来自参数) 按关联或微流计算失败。 第一个选项是丢失错误并中止映射。 调用此映射的微流应处理此错误。 或者，如果正在映射到零的方案元素的最小发生率是可以跳过元素的创建。 其余部分将继续绘制出口图。

## 导出映射属性<a name="mapping-attributes"></a>

对于复合schema元素包含的每个值元素，需要从实体映射属性。 这些属性不适用于选择或继承元素，因为它们不包含值元素。 配置如何映射属性是在图5描述的窗口中完成的，在双击一个特定映射元素后显示。

![](attachments/16713726/16843935.png)

**图5**

### 实体映射属性

| 财产         | 描述                                                                                                                       |
| ---------- | ------------------------------------------------------------------------------------------------------------------------ |
| 实体属性       | 应映射到元素的域实体中的属性。                                                                                                          |
| 图案值元素      | 将被填补的元素。                                                                                                                 |
| 出现的        | 显示元素可能发生的频率。 这可以是“0..1”或“1”，取决于是否需要。 如果值是空的且元素的最小发生时间是0 (按照方案的指定)，则元素的创建将被跳过。 如果你想永远不要将一个值映射到一个可选元素，只需在“选择元素...”对话框中禁用它。 |
| 使用 (可选) 转换 | 导出前转换值的微流程。                                                                                                              |
| 按名称映射属性    | 当点击此按钮时，会尝试按名称匹配属性。 出现了一个对话框，报告了已经发生的变化。                                                                                 |

{{% alert type="info" %}}

可以将Mendix 十进制数据类型隐含转换为 xs:float 类型。 在这种情况下，由此产生的价值可能会失去准确性。

{{% /报警 %}}

## 可选映射元素<a name="optional"></a>

对于某些选定的模式元素，定义实体是可选的。 当schema元素的时候就是这样：

*   不包含任何属性，
*   最大发生率为1(maxOccurs="1"),
*   不是一个选择元素或包含在一个选择元素中
*   不是继承元素，也不是继承元素所包含的。

这方面的一个例子见图6。

![](attachments/16713726/16843934.png)

**图6**

当没有为可选映射定义对象时，元素将永远被创建。
