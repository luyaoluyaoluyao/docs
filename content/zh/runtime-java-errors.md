---
title: "常见运行时间 & Java 错误"
parent: "跑步java"
menu_order: 3
tags:
  - "运行时间"
  - "贾瓦"
---

## 1 导言

一旦您的应用程序运行不好，就会变得不稳定，甚至更糟：崩溃， 第一件事是检查您的应用程序日志以了解可能造成这种情况的原因。 如果有 **FATAL** 或 **CRITICAL** 日志行, 立即开始解决它们的工作。 任何 **错误的** 日志行也应该被当作这样的行处理，因此你应该始终努力去除它们。

## 2 常见错误
您在应用程序日志中发现的一些更常见的错误可能会导致您的应用程序倒退，这是本篇文章的主题。 让我们马上开始吧。

### 2.1 java.lang.OutOfMemory错误：PermGen 空间错误

如果你正在使用 Java 6 (Mendix 4) 或 Java 7 (Mendix 5) 中的大型Java 库，你可能会碰到这个错误， 这将导致您的应用程序崩溃。 通过在 PermGen 添加更多内存(我们的 CloudOps 团队可以为您做一些事)或用较小的 Java 库替换一些(如果存在的话)就很容易解决这个问题。 就是这一点)。

### 2.2 java.lang.StackOverflow错误

您的应用程序不会从这些坏男孩中恢复。 当你在运行Mendix 应用程序时遇到其中一个应用程序时，它实际上总是由一个无限循环引起的。 您可以轻松地通过创建一个叫做 *微流程* 的微流程并选择一个叫做 *微流程* 的微流程来重新创建它。 无限循环会崩溃您的应用并产生堆栈溢出错误。

### 2.3 java.lang.OutOfMemory错误：Java 堆空间

当JVM Heap 告诉你“足够”时，你遇到了一个错误。 我无法将所有这一切都放入我的记忆中。” 这通常意味着应用程序已经变得不稳定并且应该在崩溃前重新启动，您也有一个真正的问题需要解决。

以下内容可能会导致此错误：

*   内存溢出
    *   由开发者介绍，自定义代码
    *   Mendix 运行时出现错误
    *   一个 Java 库中的错误，由开发者的自定义代码或 Mendix Runtime 使用
    *   Java Runtime 中的错误
*   大规模创建物体（例如，一次性检索1万亿个实体）
*   配置问题或大小问题

内存泄漏似乎像垃圾收集器正在运行。 下面的图表前半部分举一个示例：

![](attachments/mendix-runtime-java-errors/2.jpg)

最好总是看一下物体缓存(Heap中的Mendix 对象)，看它是否类似于Heap。 例如：

![](attachments/mendix-runtime-java-errors/3.jpg)

这看来是相当健康的。

如果你看到天体缓存无限期升级，你可能引入了一个内存泄漏，最好是立即分析你的应用程序，以确定是否会出现这种情况。

另一方面， 如果它看起来像下面的图形，那么你处理一个超出你控制范围的错误的机会就更大了(例如)。 Mendix Runtime) 正在造成内存泄漏。

![](attachments/mendix-runtime-java-errors/4.jpg)

### 2.4 java.lang.OutOfMemory错误：超过GC 间接费用限制

这种加密描述。 但这实际上是相当简单的。 这是JVM告诉您，“我要花太多的时间收集垃圾(默认占所有CPU时间的98%)，每次恢复的内存非常小(默认值为 <=2%)。 让我现在就停止你的应用程序，以便你能够在它崩溃之前找出什么问题。”

造成这一错误的最常见原因是：

1.  大多：在短时间内创建大量对象。
2.  有时：快速连续创建许多对象。
3.  稀有：别的东西。

如果您想要重现此错误，请做这样的事情：

![](attachments/mendix-runtime-java-errors/common-errors.png)

由于正在创建的所有帐户，内存最终将运行低，这就是垃圾收集器将尝试释放内存。 它将无法做到这一点，因此所有这些帐户对象仍然存在。 一段时间后，它将返回错误。

这个列表结束了应用程序日志中一些更常见的错误，这些错误可能会导致您的应用程序退出。 但还有一个项目需要分享。 虽然它不是错误日志中的错误，但它可能与概述的一些症状相符。

### 2.5 应用程序服务器上缺少资源

如果你看到了 *灰色承诺的* 行峰到 *应用程序节点操作系统内存的白色部分* 图形， 您的应用节点需要更多内存。 在这种情况下，强烈建议升级到更大的容器。 请参阅下面的图表以了解这个问题的例子：

![](attachments/mendix-runtime-java-errors/6.jpg)

