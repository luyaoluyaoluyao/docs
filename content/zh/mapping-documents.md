---
title: "映射文档"
parent: "集成"
menu_order: 35
tags:
  - "studio pro"
---

## 1 导言

映射文档用于定义如何将 Mendix 对象转换为 XML 或 JSON 根据指定的 XML schema 或 JSON 结构。 有两种类型的映射： [导入映射](import-mappings) and [导出映射](export-mappings)。

## 2 次导入映射

导入映射用于定义传入的 XML 或 JSON 如何转换为 Mendix 对象，根据指定的 XML 架构或 JSON 结构。 为了能够解释从其他系统收到的数据，需要这样做。 在 Mendix 中，有三个基本场景用于从 XML 或 JSON 创建 Mendix 对象：

*   从 web 服务接收 XML (在 [导入的 web 服务](consumed-web-service)中定义)，在 [通话网络服务](call-web-service-action) 活动 中。
*   正在从 [调用REST 服务](call-rest-action) 中获取 XML 或 JSON 。
*   直接从映射</a> 导入一个

中导入 XML 或 JSON 。</li> </ul> 
  
  This is an example of an import mapping document that maps an **Order** from a web service to a **ReceivedOrder** entity:
  
  ![](attachments/16713725/16843933.png)
  
  更多详情，请参阅 [导入映射](import-mappings)。
  
  

## 3 个导出映射

导出映射用于定义如何根据指定的 XML 架构将 Mendix 对象转换为 XML。 为了能够以其他系统能够处理的格式向其他系统发送数据，就需要这样做。 Mendix 有两种基本场景来将 Mendix 对象转换为 XML：

*   正在发送 XML 到一个 Web 服务(在 [导入的 web 服务](consumed-web-service)中定义) 在 [通话网络服务](call-web-service-action) 活动 中。
*   在 [导出时直接导出XML，同时进行映射](export-mapping-action) 操作。

这是导出映射文档的示例：

![](attachments/16713726/16843940.png)

在此示例中，当导出映射被调用时，将会传递 **Cheesecake** 实体。 随后， **上传** 实体将通过关注 **上传** 上传的 Cheesecake Mendix 对象来获取。 结果传递到XML文档或发送到网络服务。

欲了解更多详情，请参阅 [导出地图](export-mappings)。



## 4 创建新映射文档

要指定导入或导出映射，用户需要做一些事情：

1.  创建新的 **导入映射** 或 **导出映射** 文档。

2.  点击 **选择元素...** 选择一个 XML schema、导入的 web 服务文档或 JSON 结构文档作为此映射的源schema 。 查看 **图1**。 
   
   如果架构是大的，可以选择一个子集，所以你不必映射所有的元素。 [选择元素](select--elements) 部分对此作了更详细的解释。

3.  Click **OK**. 为左边的实体创建了占位符，右侧则选择了XSD 元素。
   
   在映射文档中可以包括一个参数实体。 需要通过传递配置类型的参数来调用具有参数实体的映射文档(在 [通话网络服务](call-web-service-action) 或 [导出与映射](export-mapping-action) 活动)。 可以在不通过参数的情况下调用没有参数实体的映射文档。 为了导入映射，可以将一个参数实体拖动到使用连接器工具创建的结构中的占位符。 导出映射总是需要有一个参数实体(正在导出的对象)，并为此使用了映射的根元素。 在这两种情况下，参数实体被描述为黄箭头参数符号。

4.  映射模式下的子元素。 实体可以通过以下四种方式获得：

    * 从映射参数
    * 按协会
    * 来自自定义微流
    * 选择或继承的 XML 元素的实体专业化

5.  最后，用户需要配置实体属性应如何转换为 XML 或 JSON 结构。



## 5 召集职能

*   地图：自动查找可用于映射的域模型中的实体和协会。 如果找不到匹配的实体或关联，它将创建在域模型中。 这个函数在 [地图](map-automatically) 部分自动详细解释。
*   清除映射：断开文档中所有映射元素与实体和关联的连接。 它们不会在域模型中被删除。



## 6 个提示：重要窗口

绘图文件严重依赖两个窗口。 如果它们在 Studio Pro中不可见, 它们可以在 **视图菜单** 中启用。

*   **属性窗口**。 此处显示每个映射元素的详细信息。
*   **连接器窗口**。 连接器窗口中的实体被拖动到映射文档中。



## 7 个用户互动

*   拖动实体。 从连接器窗口拖动实体并将其拖放到实体占位符(dashed box)上以将其与XML 元素相关联。
*   双击映射元素(实体侧或XML侧)。 打开一个对话框，允许您为个人映射指定详细信息。 如果元素尚未与实体相关，则出现一个对话框，让您先选择实体。
*   鼠标右键单击“选择实体”。 更改与 XML 元素关联的实体。
*   鼠标右键单击，"去实体"。 打开包含实体的域模型并跳转到实体。
*   鼠标右键单击“折叠全部”。 隐藏制图元素的所有子元素，所以您可以在大地图中保留概览。
*   鼠标右键单击“展开全部”。 展开绘图元素的所有子元素；所有基础元素都变得可见。
*   鼠标左键单击“-”图标 (在映射元素下). 隐藏底层元素。
*   左鼠标，单击"+"图标 (在映射元素下)。 再次显示基础元素。



## 8 属性

| 财产         | 描述                                                |
| ---------- | ------------------------------------------------- |
| 名称         | 映射的名称。                                            |
| 文件         | 您可以在这里指定额外的信息来解释这个映射做什么。                          |
| 网络服务操作属性   | 此类别只在映射是为了网络服务呼叫而不是为了XML方案时才填写。                   |
| 网络服务       | 此映射要导入的 web 服务名称。                                 |
| 服务名称       | 导入服务的 WSDL 定义的服务的实际名称。                            |
| 操作名称       | 此映射要提供的服务中的特定操作名称。                                |
| 请求部分       | 仅适用于导出映射。 此映射的标题或正文参数的名称。 如果映射是针对所有物体参数的，则值为“实体”。 |
| XML 方案属性   | 此类别只在映射为 XML schema 而不是网络服务通话时才填写。                |
| XML Schema | 此映射要使用的 XML 方案名称。                                 |
| 开始于        | 确定此映射定义的 XML 结构的哪一部分。                             |
| 发送空值       | 仅适用于导出映射。 如果映射元素是可选的和可嵌入的，您需要选择是否发送空值。 默认不发送空值。   |
