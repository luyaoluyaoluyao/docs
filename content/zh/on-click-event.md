---
title: "点击事件 & 事件部分"
parent: "页面"
menu_order: 130
tags:
  - "studio pro"
  - "事件部分"
  - "属性"
  - "小部件"
  - "点击时"
  - "行动"
  - "点击事件"
aliases:
  - /refguide8/opening-pages.html
  - /refguide8/starting-microflows.html
---

{{% alert type="info" %}}
<img src="attachments/chinese-translation/china.png" style="display: inline-block; margin: 0" /> 对于简体中文翻译，请点击 [中文为 xix x](https://cdn.mendix.tencent-cloud.com/documentation/refguide8/on-click-event.pdf)。
{{% /报警 %}}

## 1 导言

事件指定了当最终用户与部件互动时可以触发的动作。 这种互动可以通过以下几种方式进行：

* [点击](#on-click) - 这是最常见的交互，可以在许多小部件中使用
* [更改](#on-change) - 用于输入小部件
* [输入](#on-enter) - 输入小部件
* [离开](#on-leave) - 输入小部件

## 2 个触发操作

### 2.1 点击时 {#on-click}

在点击 **** 事件指定了一个当用户点击小部件时执行的事件。 Often the **On click** property is a part of the **Events** section in properties. 例如，您可以指定当用户点击客户的个人资料图片时，此客户详细信息的页面将打开：

{{% image_container width="350" %}}![](attachments/on-click-event/on-click-event-example.png)
{{% /image_container %}}

鼠标点击事件对许多小部件都很常见(例如，图像、按钮、列表视图)。

点击 **** 属性来指定当用户点击小部件时执行的 [动作](#actions)。

#### 2.1.1 行动期间禁用

此属性仅在 **调用微流程** 或 **调用nanoflow** 被选为点击事件时才显示。 选择 **在动作过程中禁用** 禁用按钮直到动作完成或失败。

### 2.2 更改时{#on-change}

更改属性指定了离开部件时要执行的动作， 通过使用 <kbd>Tab</kbd> 键，或点击另一个部件，在值被更改后再点击。

### 2.3 进入时 {#on-enter}

输入小部件时指定了一个执行的动作。 要么使用 <kbd>Tab</kbd> 键，要么用鼠标点击它。

### 2.4 离开时 {#on-leave}

请假属性指定了离开部件时要执行的动作， 要么使用 <kbd>Tab</kbd> 键，要么点击另一个部件。

This differs from the [On change](#on-change) property in that the event will always be triggered, even if the value has not been changed.

## 3 个事件动作 {#actions}

当事件触发时，您可以选择触发什么动作。 可能的备选办法如下：

* [不做任何](#do-nothing) *(默认)*
* [显示页面](#show-page)
* [调用微流](#call-microflow)
* [呼叫nanoflow](#call-nanoflow)
* [打开链接](#open-link)
* [创建对象](#create-object)
* [保存更改](#save-changes)
* [取消更改](#cancel-changes)
* [关闭页面](#close-page)
* [删除](#delete)
* [Synchronize](#synchronize)
* [登出](#sign-out)

### 3.1 不采取任何行动 {#do-nothing}

没有采取任何行动。 此选项用于设置页面而不定义基本功能。

### 3.2 显示页 次 {#show-page}

**显示一个页面** 事件打开指定的页面。 使用下面的选项选择打开页面：

* **页面** - 一个 [页面应该打开](page)

* **页面标题** - 您打开的页面可以被赋予一个独特的标题，取决于您从哪里打开它。 这允许您为不同的目的重新使用同一页。 例如，通过从一个按钮设置 **新客户** 以及 **从另一个按钮编辑客户** 您可以使用同一页面编辑新客户和现有客户。

    在 **编辑** 对话框中勾选 **重写页面标题** 复选框以激活此选项：

    ![页面标题属性](attachments/on-click-event/page-title-property.png)

* **专业化页面** - 允许您为上下文对象的每个专业化配置一个不同的页面。 如果此操作放置在数据视图中，可以为数据视图对象的每个专业化配置不同的页面。 如果此动作放置在数据网格中，可以为数据网格的每个专门化配置不同的页面。 当没有上下文对象或上下文对象没有专业化时，此设置不会显示。

### 3.3 调用微流 {#call-microflow}

**调用微流程** 事件执行指定的微流程。

{{%alert type="info" %}}

设置 **在更改时调用 microflow** 作为 **的动作**和 **输入时**, 或者 **请注意小部件事件** 微流程需要一些时间才能完成。 在此期间对当前表格所作的任何改动（例如） 更改输入小部件中的值将被微流的结果覆盖。 因此，不建议更改当前页面上由 **在更改**时触发的微流程中的实体/属性。 **在输入**或 **离开时** 事件。

{{%/提醒 %}}

以下设置是此事件的特定设置：

#### 3.3.1 微流 {#microflow}

应该执行的 [微流](microflow)。

#### 3.3.2 微流设置

**微流程设置** 打开一个对话框，使您能够指定哪些参数将传递到微流程以及微流程将如何运行。

![微流程设置对话框](attachments/on-click-event/microflow-settings.png)

##### 3.3.2.1 微流

这重复了上面指定的 [微流程](#microflow)。

##### 3.3.2.2 微流参数

**微流程参数** 是根据选定的微流程参数和可用参数自动配置的。 一般参数来自任何附加数据部件。 如果数据小部件包含调用微流的小部件在另一个(嵌套)数据小部件内， 然后也可以传递来自该数据部件的对象和它嵌套的任何其他对象。

如果微流触发在网格内且有对象列表参数， 列表中传递的对象取决于网格的选择模式。 简单的多选区允许所有行或选择，并默认选择。 这可以通过下拉菜单在微流设置页面进行配置。

##### 3.3.2.3 微流调用类型

**微流程调用类型** 指定微流程是同步还是异步执行。

* **同步** *(默认)* — 客户端等待完成微流程执行

* **异步的**

    * 客户端执行微流程，但不会等待结果

    * 客户端每十秒检查服务器，检查是否执行microflow

    * 仅当您遇到问题时将通话类型设置为异步-有时， 如果请求处理时间过长，请求将由一个(不耐烦的)代理服务器再次发送

##### 3.3.2.4 显示进度条

**显示进度条** 指定在执行微流程时是否显示进度条 在进度条中显示的消息可以使用 '进度消息' 属性。

| 值    | 描述                  |
| ---- | ------------------- |
| 无    | 没有显示进度栏。            |
| 非屏蔽的 | 显示进度栏，但最终用户可以继续工作。  |
| 屏蔽中  | 显示进度栏，最终用户必须等待微流完成。 |

{{% alert type="warning" %}}
无障碍进度条显示半秒的延迟。 如果执行您的微流所需时间不足半秒，进度条将不会显示。 屏蔽进度条会立即显示。
{{% /报警 %}}

##### 3.3.2.5 进度信息

如果显示进度栏， **进度消息** 是在进度栏旁边显示的文本。

##### 3.3.2.6 询问确认

If **Ask Confirmation** is set to **Yes**, the end-user will be asked for confirmation before proceeding with the microflow. 在操作修改或删除大量数据或需要很多时间才能完成的情况下，这是有用的。

以下 [问题](#question)中的文本将会提示用户。 确认弹出窗口标题是由系统文本确定的('消息对话框标题')。

默认值为 **没有**。

##### 3.3.2.7 问题 {#question}

如果 **确认** 设置为是， **问题** 是显示给用户的内容。 确保所提出的问题是明确的，并确保在按钮上设置的字幕是明确的。

例如， *您确定要清空回收站？*

##### 3.3.2.8 按钮标题

如果 **请求确认** 已设置为是，这是执行微流程的按键的字幕。

例如， *将其为空*。

##### 3.3.2.9 取消按钮标题

如果 **请求确认** 已设置为是，这是取消微流程执行的按钮的字幕。

例如， *不要为空*。

##### 3.3.2.10 微流程后保持选择

对于调用网格内微流的按钮 **保持微流程后的选择** 指定执行微流程后是否保持当前网格中的行选择。

##### 3.3.2.11 验证时中止

For microflows that are used within a data widget, setting **Abort on Validation Errors** to **Yes** forces widget validations to be performed _before_ executing the microflow. 如果验证失败，微流将不会被执行。

| 值        | 描述                     |
| -------- | ---------------------- |
| 是 *(默认)* | 如果页面上有任何验证错误，这将防止微流执行。 |
| 仅限此小部件   | 如果当前小部件有验证错误，将防止微流执行。  |
| 否        | 微流总是被执行。               |

### 3.4 呼叫纳诺夫洛文 {#call-nanoflow}

**调用 nanoflow** 事件执行指定的 nanoflow。

设置 **Nanoflow** 属性来指定一个 [nanoflow](nanoflow) 应该执行它。

### 3.5 打开链接 {#open-link}

**打开链接** 事件触发了基于链接类型的动作，其中一些是专门针对移动设备的。 以下属性是此事件的特定属性：

* **链接类型** - 按下按钮时触发的动作类型。 关于可用链接类型的信息，请参阅下面的 [链接类型](#on-click-link-type) 部分。
* **地址** - 地址属性的使用取决于所选的链接类型以及您是否想使用字幕或使用属性的值。
  * **使用字数值**  - 允许您输入一个固定地址。
  * **使用属性** - 允许您选择一个包含要用作地址的值的属性。 在这种情况下，小部件必须有一个实体作为其上下文(例如它在数据视图内)。

#### 3.5.1 链接类型 {#on-click-link-type}

下面的表格描述了 **打开链接** 点击事件可用的链接类型：

| 值                 | 描述               | 示例                                        |
| ----------------- | ---------------- | ----------------------------------------- |
| Web   *(default)* | 导航到网站 URL        | `https://mysubdomain.mydomain.tld/mypage` |
| 电子邮件地址            | 指定要发送电子邮件的电子邮件地址 | `firstname.secondname@mailprovider.tld`   |
| 来电                | 开始通话到此号码         | `+1-202-555-0165`                         |
| 文本                | 指定要发送文本消息的数字     | `+1-202-555-0112`                         |

{{%alert type="info" %}}

当您指定  **Email**, **调用**, 或 **文本** 选项， 触发动作时将在设备上打开相应的默认应用， 例如，默认的电子邮件客户端将被打开来撰写消息。

{{%/提醒 %}}

### 3.6 创建对象 {#create-object}

**创建对象** 事件创建了一个新对象。 以下属性是此事件的特定属性：

* **实体 (路径)** - 指定要创建的实体。 也可以从上下文对象中选择一个协会(如果有的话)。 如果一个实体被配置，将创建一个新的实体实例。 如果一个实体通过上下文对象的关联被配置， 将创建一个新的实体实例并创建一个与上下文相关联的对象。
* **在 {event} 页面** - 指定了哪些 [页面](page) 应该显示为允许最终用户为新创建的对象输入值。 此页面必须接受具有相同实体或创建实体的子类型的上下文参数对象(例如数据视图)。 **{event}** 指定了用于触发此动作的事件(**点击**, 例如)。

### 3.7 保存更改 {#save-changes}

**保存更改** 事件提交了页面上的所有更改。 以下属性是此事件的特定属性：

* **关闭页面** - 指定当前页面是否应该关闭。
* **自动同步** - 指定当保存按钮在离线配置文件中运行的 Mendix 应用程序被点击时是否会发生同步。 当一个对象被保存到一个离线配置文件中的 Mendix 应用程序时，它将存储在一个本地数据库中，直到它能够与服务器同步(关于离线应用的能力的更多信息) 查看 [离线第一](offline-first)。 实际上，这意味着上传一个新对象到服务器需要两个不同的动作：保存对象和 [同步它](offline-first#synchronization)。

### 3.8 取消更改 {#cancel-changes}

取消更改事件回滚页面上的所有更改。

设置 **关闭页面** 属性，以表明当前页面是否应该关闭。

### 3.9 关闭页面 {#close-page}

**关闭页面** 事件关闭一个弹出窗口(用于弹出页面)或导航到先前访问的页面 (用于内容页面)。

### 3.10 删除 {#delete}

**删除事件** 删除一个对象。 它的行为取决于它所放置的数据容器。 当放入数据视图时，删除连接的对象；它不会在嵌套数据视图中删除对象，除非通过删除行为进行配置。 当放入数据网格、模板网格或参考设置选择器控制栏时，它会删除所选对象。 当放入列表视图时，它会删除相应的列表视图项。

设置 **关闭页面** 属性，以表明当前页面是否应该关闭。

### 3.11 Synchronize {#synchronize}

**同步** 事件 [将本地存储在您设备上的数据与服务器数据库同步](offline-first#synchronization)

### 3.12 登出 {#sign-out}

**登出** 事件标志着当前登录的用户。 当没有用户登录时，不执行任何操作。

## 4 阅读更多

* [页 次](页面)
* [页](page)
