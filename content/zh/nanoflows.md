---
title: "纳诺夫拉"
parent: "应用逻辑："
menu_order: 20
description: "展示所有可用于纳米的元素的概述。"
---

## 1 导言

{{% alert type="info" %}}

此页概述了所有可用于纳米的元素。 对于纳米光本身的属性，请参阅 [Nanoflow Properties](nanoflow)。

{{% /报警 %}}

Nanoflow 类似于 [microflow](microflows)，因为它们允许您表达您应用程序的逻辑。 然而，它们确实有一些具体的好处（例如，它们直接在浏览器/设备上运行，可用于离线应用）。 此外，大多数动作直接运行在设备上，因此也有速度效益。

## 2 何时使用 Nanoflow

### 2.1 离线移动应用

Nanoflow 是用离线第一应用程序设计的，因为它们允许您在离线应用中模拟应用程序逻辑。 由于所有与数据库相关的行动都将在本地离线数据库中执行，离线应用的nanoflow 将会变得更快。

### 2.2 无需连接的逻辑值

Nanoflow 还提供了在线应用程序的巨大价值(例如，UI逻辑、验证、计算和导航)。 然而，请记住，在您执行数据库相关操作时，每个操作都会创建一个单独的 Mendix Runtime。 以下行动与数据库相互作用：

* 创建
* 提交
* 获取
* Rollback

因此，最佳做法是在不包含上述行动的情况下，在网上应用程序中使用nanofows。

{{% alert type="info" %}}
更改对象而不提交并不是一个与数据库相关的动作，因为更改应用于设备或浏览器。
{{% /报警 %}}

### 2.3 其他案件

上一节指出，在不采取与数据库有关的行动的情况下，纳米技术在网上应用程序中的表现最佳，这些通常是最好的情况。 然而，最多含有一项与数据库有关的行动的微软也仍然很好。 由于这种纳米技术只需要一个网络电话，它们既能进行微流程，也能进行微流。 这种使用案例的一个例子是对对象执行验证逻辑并将对象承诺于同一纳米。

## 3 与微流量的差异

有三个主要差异：即纳米微量和微量流：

* 当通过其动作采取nanoflow步骤时，客户端的动作将直接执行。 例如，打开页面操作会立即打开一个页面，而不是在nanoflow的末尾。 这不同于微流程中的客户动作，微流程只有在客户收到微流程结果时才能运行。
* 当在 nanoflow 活动中使用时，表达式不支持以下变量： `$latestError`， `$latestSoapFault`, `$latestHttpResponse`, `$currentSession`, `$currentUser`, `$currentDeviceType`.
* Nanoflow 不会在交易中运行，所以如果在nanoflow 中发生错误，它不会回滚以前的任何更改。

## 4 个键盘支持

nanoflow 编辑器提供键盘支持导航和操纵nanoflow。 下表显示可以使用的密钥。

| Key(s)                                    | 效果                         |
| ----------------------------------------- | -------------------------- |
| 箭头键                                       | 向箭头方向选择附近的元素(活动、事件、循环或参数)。 |
| <kbd>输入</kbd>                             | 编辑选中元素的属性。                 |
| <kbd>F2</kbd>                             | 重命名所选元素引入的变量。              |
| <kbd>Shift</kbd> + <kbd>F2</kbd> 或只是开始输入  | 编辑选中元素的标题。                 |
| <kbd>Ctrl</kbd> + 箭头键                     | 向箭头方向移动选中的元素。              |
| <kbd>Tab</kbd>                            | 如果选择循环，循环中的第一个元素将被选中。      |
| <kbd>Shift</kbd> + <kbd>Tab</kbd>         | 如果选择循环中的元素，循环本身将被选中。       |
| <kbd>首页</kbd>                             | 选择开始事件。                    |
| <kbd>结束</kbd>                             | 循环到结束事件。                   |
| 上下文菜单键或 <kbd>Shift</kbd> + <kbd>F10</kbd> | 打开当前选中元素的上下文菜单。            |

## 5 注解和分类

nanoflow的图形缩写基于 [业务流程模型和注释](https://en.wikipedia.org/wiki/Business_Process_Model_and_Notation) (BPMN)。 BPMN是在工作流程中绘制业务流程的标准化图形标记。

纳米材料由元素组成。 使用了以下类别：

* [事件](#events) 代表一个循环中的纳米和特殊操作的起始点和终点
* [流动](#flows) 形成元素之间的连接
* [网关](#gateways) 处理作出选择并再次合并不同的路径
* [活动](#activities) 是指在 nanoflow 中执行的操作
* [伪影](#artifacts) 能够为nanoflow 提供输入并允许发表评论

### 5.1 事件<a name="events"></a>

事件代表了一个循环中的纳米和特殊操作的起始点和终点。

| 图形                                                   | 名称                     | 描述                                                      |
| ---------------------------------------------------- | ---------------------- | ------------------------------------------------------- |
| [![](attachments/819203/917902.png)](start-event)    | [开始活动](start-event)    | nanoflow的起始点。 nanoflow 只能有一个开始事件。                       |
| [![](attachments/819203/918113.png)](end-event)      | [结束事件](end-event)      | 定义nanoflow 将停止的位置。 根据纳米低的返回类型，在某些情况下必须指定一个值。 可以有多个结束事件。 |
| [![](attachments/819203/918115.png)](continue-event) | [继续事件](continue-event) | 用于停止循环的当前迭代并继续下次迭代。 请注意，继续事件只能在 [循环](loop) 中使用。         |
| [![](attachments/819203/918026.png)](break-event)    | [中断事件](break-event)    | 用于停止对对象列表的迭代并继续循环后的其余流程。 请注意，中断事件只能在 [循环中使用](loop)。     |

### 5.2 流动<a name="flows"></a>

流程形成元素之间的连接。

| 图形                                                    | 名称                      | 描述                                    |
| ----------------------------------------------------- | ----------------------- | ------------------------------------- |
| [![](attachments/819203/917883.png)](sequence-flow)   | [序列流](sequence-flow)    | 一个连接事件、活动、分割和合并的箭头。 它们共同确定了在纳米内的执行顺序。 |
| [![](attachments/819203/917688.png)](annotation-flow) | [批注流程](annotation-flow) | 可用来将注解连接到另一个元素的连接。                    |

### 5.3 网关<a name="gateways"></a>

网关处理选择和合并不同路径。

| 图形                                                    | 名称                      | 描述                                                          |
| ----------------------------------------------------- | ----------------------- | ----------------------------------------------------------- |
| [![](attachments/819203/917726.png)](exclusive-split) | [独家拆分](exclusive-split) | 根据一种条件做出决定，并遵循一种而且只是一种外流流量。 请注意，nanoflows没有平行执行。            |
| [![](attachments/819203/918116.png)](合并)              | [合并](合并)                | 可以用来将多个序列流合并为一个。 如果是以纳米材料做出选择，然后需要做一些共同的工作。 您可以合并两个(或更多)路径。 |

### 5.4 活动<a name="activities"></a>

活动是指在一种天花式下执行的行动。

#### 5.4.1 对象活动

对象活动可以用来创建和操纵对象。 [域模型](domain-model) 定义了可以使用的对象类型 ([实体](entities))。

| 图形                                                           | 名称                            | 描述                                                |
| ------------------------------------------------------------ | ----------------------------- | ------------------------------------------------- |
| [![](attachments/819203/917661.png)](change-object)          | [更改对象](change-object)         | 可以用于更改对象的成员。 这可以使用或不使用通话。                         |
| [![](attachments/16713769/17661961.png)](committing-objects) | [提交对象(s)](committing-objects) | 可以用于提交对一个或多个对象的更改。                                |
| [![](attachments/819203/917756.png)](create-object)          | [创建对象](create-object)         | 可以用来创建对象。                                         |
| [![](attachments/819203/917866.png)](retrieve)               | [获取](retrieve)                | 可以用来获取另一个对象的一个(或多个)关联对象。 活动也可以直接从数据库中获取一个(或多个)对象。 |
| [![](attachments/819203/918119.png)](rollback-object)        | [回滚对象](rollback-object)       | 可以用来撤销在活动前纳米粒子部分对物体所作的更改（未作过）。 这也会删除已创建但从未提交的对象。  |

#### 5.4.2 活动清单

列表活动可以用来创建和操纵对象列表。

| 图形                                                | 名称                  | 描述               |
| ------------------------------------------------- | ------------------- | ---------------- |
| [![](attachments/819203/918007.png)](change-list) | [更改列表](change-list) | 可以用于更改列表变量的内容。   |
| [![](attachments/819203/918009.png)](create-list) | [创建列表](create-list) | 可以用来创建 (空) 列表变量。 |

#### 5.4.3 可变活动

变量活动可以用于创建或更改微流中的变量。

| 图形                                                    | 名称                      | 描述           |
| ----------------------------------------------------- | ----------------------- | ------------ |
| [![](attachments/819203/918011.png)](change-variable) | [更改变量](change-variable) | 可以用来更改变量的值。  |
| [![](attachments/819203/918110.png)](create-variable) | [创建变量](create-variable) | 可以用来创建一个新变量。 |

#### 5.4.4 客户活动

客户端活动可以用来让您的应用程序的 web 客户端执行操作 例如显示一个不同的页面或下载一个文件。

| 图形                                                        | 名称                          | 描述                       |
| --------------------------------------------------------- | --------------------------- | ------------------------ |
| [![](attachments/819203/918114.png)](close-page)          | [关闭页面](close-page)          | 关闭用户最后打开的用于使用该活动的微流页面。   |
| [![](attachments/819203/917544.png)](show-page)           | [显示页面](show-page)           | 可以用来向用户显示一个页面来调用该活动的微流程。 |
| [![](attachments/819203/918097.png)](validation-feedback) | [验证反馈](validation-feedback) | 可以用来在显示属性或关联性的部件下显示红色文本。 |

### 5.5 循环

| 图形                                       | 名称       | 描述                                                                                          |
| ---------------------------------------- | -------- | ------------------------------------------------------------------------------------------- |
| [![](attachments/819203/917804.png)](循环) | [循环](循环) | 循环活动用于在对象列表上迭代。 对于每个对象，循环活动内的流程都会被执行。 循环活动可以包含所有用于nanoflow的元素，但启动和停止事件除外。 流程始于第一个元素，没有输入流量。 |

### 5.6 伪件<a name="artifacts"></a>

伪影为纳米片提供了输入并允许提出评论。

| 图形                                       | 名称       | 描述                              |
| ---------------------------------------- | -------- | ------------------------------- |
| [![](attachments/819203/918019.png)](参数) | [参数](参数) | 用于nanoflow输入的数据。 参数填写在触发纳米波的位置。 |
| [![](attachments/819203/917689.png)](注释) | [批注](注释) | 一个可以用来将注释放入纳米块的元素。              |

## 6 个变量使用

Moderr 可视化所选对象使用的变量。 它通过在蓝色背景上显示使用的变量来做到这一点。 相反， 使用选定对象定义的变量(s)的元素会在绿色背景中用文字 **使用** 这个词标记。

在下面的示例中，参数 **账户密码数据** 被高亮显示，因为它被用于选定的活动。 并且活动 **保存密码** 有一个用法标签，因为它使用了所选活动定义的变量。

![](attachments/16713739/16843950.png)

## 7 个错误

当赤纬发生错误时，对对象所做的所有更改都不会回滚，nanoflow 被中止。 Nanoflow 操作不支持错误处理器。

## 8 Nanoflow 调试

尚不支持逐步调试. 现在，我们建议使用日志消息动作，这些动作显示在桌面Modeler的控制台日志日志中(版本7.13.0及以上)。

## 9 安全

Nanoflow 是在当前用户的情况下执行的。 用户未经授权的任何操作都将失败。 例如，当天体在nanoflow 中被检索时，只返回当前用户已读取的对象。 只有当当前用户有对所有更改的写权限时，才能提交对象。
