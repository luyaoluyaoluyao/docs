---
title: "搜索栏"
parent: "格子"
menu_order: 40
tags:
  - "studio pro"
  - "搜索栏"
  - "比较搜索字段"
  - "下拉搜索字段"
  - "范围搜索字段"
  - "网格"
aliases:
  - /refguide8/comparon-search-field.html
  - /refguide8/drop-down-search-field.html
  - /refguide8/range-search-field.html
---

{{% alert type="info" %}}
<img src="attachments/chinese-translation/china.png" style="display: inline-block; margin: 0" /> 对于简体中文翻译，请点击 [中文为 xix x](https://cdn.mendix.tencent-cloud.com/documentation/refguide8/search-bar.pdf)。
{{% /报警 %}}

## 1 导言

搜索栏包含搜索字段，让最终用户能够在 [数据网格](data-grid) 或 [模板网格中快速找到他们所需要的信息](template-grid)。

将搜索字段添加到搜索栏， 在您的数据网格中的搜索栏中右键单击并选择 **添加搜索字段** > [搜索字段类型](#search-field-type)

![](attachments/data-widgets/add-search-field.png)

## 2种搜索字段类型 {#search-field-type}

有三种不同类型的搜索字段可以用于不同类型的信息：

* **比较** - 通过比较搜索结果与给定的搜索词进行过滤。 如果搜索值匹配属性值，此对象将是搜索结果的一部分。 可能的属性类型：自动编号、 日期和时间、 Integer、 Long、 String, Decimal
* **下拉** -- 搜索结果是通过将其与给定的搜索词进行比较来筛选的。 如果搜索值匹配属性值，此对象将是搜索结果的一部分。 可能的属性类型：布尔值、 枚举、 关联。
* **范围** - 这将应用一个基于搜索词是否在两个选定属性的值之间的过滤器。 可能的属性类型：AutoNumber, Date and Time, Integer, Long, Decimal

{{% alert type="info" %}}
您不能更改搜索字段的类型，您需要删除它，然后添加一个不同类型的新字段。
{{% /报警 %}}

## 3 个搜索字段属性 {#search-field-properties}

搜索字段属性取决于搜索字段的类型。

下拉搜索字段属性的示例在下面的图像中表示：

{{% image_container width="250" %}}![搜索字段属性](attachments/data-widgets/search-field-properties.png)
{{% /image_container %}}

搜索字段属性由以下部分组成：

* [常用的](#common)
* [A. 概况](#general)

### 3.1 共同部分 {#common}

属性为 **名称**, **标题**, 和 **类型** 是大多数小部件常见的。 {{% snippet file="refguide8/common-section-link.md" %}}

然而，下文各节介绍了其他一些财产。

#### 3.1.1 自定义日期格式

**只有当您选择 *日期和时间属性时才能使用自定义日期格式</strong>* 类型在 [**属性(路径)**](#attribute-path) 属性。 此属性决定如何格式化属性。 自定义日期格式是一个字符串，允许下面表格中的任何符号组合。 任何标点都将以字面形式呈现。 **格式示例** 将向您展示一个日期示例。</p>

{{% alert type="info" %}}

搜索输入格式必须是准确的日期。 自定义日期格式不受限制。

{{% /报警 %}}

{{% snippet file="refguide8/custom-date-form-tokens.md" %}}

#### 3.1.2 占位符文本

**占位符文本** 只有当您选择 *日期和时间属性时* 类型在 [**属性(路径)**](#attribute-path) 属性时才可用。

如果日期属性为空，则显示占位符文本。 它可以用来向最终用户说明预期的格式。

### 3.2 一般部分 {#general}

#### 3.2.1 属性(路径) {#attribute-path}

{{% alert type="info" %}}

此属性可用于 **比较** 和 **下拉** 搜索字段。

{{% /报警 %}}

许多输入小部件 (如文本框和下拉小部件) 可以连接到以下方面：

* 包含小部件的数据视图实体属性；在此情况下，小部件与属性连接
* 一个与数据视图实体相关联的实体的属性，通过域模型跟踪一个或多个参考类型的协会； 在这种情况下，小部件已连接到属性路径

在第一种情况下，我们说小部件与属性相连，在第二种情况下，小部件与属性路径相连。

{{% alert type="warning" %}}

在 Mendix 8.0中，连接到属性路径的输入部件必须是只读的。 Studio Pro 将为您检查这一点。

在 Mendix 8.1 及以上版本中，您可以通过路径编辑输入小部件中显示的属性。

{{% /报警 %}}

#### 3.2.2 比较

{{% alert type="info" %}}

此属性可用于 **比较** 和 **下拉** 搜索字段。

{{% /报警 %}}

最终用户输入的值(或在隐藏和只读搜索字段的情况下的默认值)与网格中每个对象的属性值进行比较。 如果比赛成功，对象将成为搜索结果的一部分。 有不同的方法可以比较属性值和输入的值。 在下面的第三列中，您看到了允许比较操作员的搜索字段类型。

| 值         | 描述             | 搜索字段类型         | 日期输入查询        |
| --------- | -------------- | -------------- | ------------- |
| 包含        | 属性值是否包含输入的值？   | 文本(属性必须是类型字符串) |               |
| 开始于       | 属性值以输入值开始吗？    | 文本(属性必须是类型字符串) |               |
| 大于        | 属性值是否大于输入值？    | 文本，日期          | > 日期 + 1 天    |
| 大于或等于     | 属性值是否大于或等于输入值？ | 文本，日期          | > 日期          |
| 等于 *(默认)* | 属性值与输入值相同吗？    | 文本，日期，下拉       | >=日期<日期 + 1 天 |
| 不等于       | 属性值与输入值不同吗？    | 文本，日期，下拉       | != 日期         |
| 较小或等于     | 属性值是否小于或等于输入值？ | 文本，日期          | < 日期 + 1 天    |
| 较小的       | 属性值是否小于输入值？    | 文本，日期          | < 日期          |

{{% alert type="info" %}}

对于 **下拉** 搜索字段：下拉选择选项的数量没有限制。 因此，所选属性可以拥有无限数量的唯一值。 然而，拥有数以千计的必须从服务器检索的选项将大大减缓旧浏览器的页面负载速度。 初始隐藏包含下拉搜索字段的搜索栏可以提高首次下载页面的性能。

{{% /报警 %}}

**日期比较和默认值的影响**

使用平等来搜索日期属性是可能的。 时间组件属于日期时发生的情况取决于比较搜索字段的默认值。

| 默认值                   | 搜索查询                                  |  | 结果示例 (输入：8月4日, 2100)                           |
| --------------------- | ------------------------------------- |  | ---------------------------------------------- |
| 无                     | 搜索字段为空。 表示从指定日期午夜开始的24小时日期范围。         |  | 搜索8月4日0:00 - 8月5日0:00                          |
| [%CurrentDateTime%]   | 搜索字段显示当前日期。 表示从 _当前时间_ 开始的 24 小时日期范围。 |  | 在8月4日之间搜索 <current time> 和8月5日， <current time> |
| [%BeginOfCurrentDay%] | 搜索字段显示当前日期。 表示从指定日期午夜开始的24小时日期范围。     |  | 搜索8月4日0:00 - 8月5日0:00                          |

### 3.3 允许多选

{{% alert type="info" %}}

此属性可用于 **下拉** 搜索字段。

{{% /报警 %}}

如果这个属性设置为“是”，由此产生的下拉下拉允许您选择多个值，而不只是一个。 当搜索所有匹配的记录时，相应的属性等于所选值之一。 例如，您可以搜索所有订单的状态为“提交”或“正在进行中”。

### 3.4 XPath 约束

{{% alert type="info" %}}

此属性可用于 **下拉** 搜索字段。

{{% /报警 %}}

如果“下拉”搜索字段连接到关联实体的属性(相对于网格实体本身)，则可以使用 XPath 约束来限制下拉中显示的对象。

{{% alert type="info" %}}

让我们说你有一个网格显示自行车。 在网域模型中，自行车与商店有一个关联，您可以购买这些自行车。 您可以将搜索字段添加到网格中，允许最终用户选择一个商店的名称。 然后可以使用 XPath 将商店限制在指定国家的商店。 `[MyWebshop.Bicycle_Shop/MyWebshop.Shop/Country='Netherlands']`

{{% /报警 %}}

### 3.5 排序顺序

{{% alert type="info" %}}

此属性可用于 **下拉** 搜索字段。

{{% /报警 %}}

排序顺序指定了下拉搜索字段中各项的显示顺序。 您可以在两个方向排序多个属性 (升序和降序)。 如果没有指定排序顺序，显示属性上的下拉搜索字段排序。

默认： *无排序顺序*

### 3.6 下限

{{% alert type="info" %}}

此属性可用于 **范围** 搜索字段。

{{% /报警 %}}

此属性 (路径) 决定范围的下限。

### 3.7 下限运算符

{{% alert type="info" %}}

此属性可用于 **范围** 搜索字段。

{{% /报警 %}}

下限操作员决定与下限的比较是否包含(>=) (>)。 它可以是“更大的”，也可以是“更大的或者平等的”。

默认值： *提高*

### 3.8 上边框

{{% alert type="info" %}}

此属性可用于 **范围** 搜索字段。

{{% /报警 %}}

此属性 (路径) 决定范围的上限。

### 3.9 上端边界运算符

{{% alert type="info" %}}

此属性可用于 **范围** 搜索字段。

{{% /报警 %}}

上限的操作者决定与上限的比较是否兼容(<=) (<)。 它可以是“小人”，也可以是“小人和平等人”。

默认： *较小的*

## 4 阅读更多

* [数据网格](数据网格)
* [模板网格](template-grid)
