---
title: "数据库来源"
parent: "数据来源"
tags:
  - "studio pro"
  - "数据库"
  - "数据源"
menu_order: 10
---

## 1 导言

如果 **数据库** 被选为一个小部件的数据源，那么显示的对象或对象将直接从数据库中检索到查询结果。 [离线](offline-first) 应用程序也支持此数据源，在这种情况下，数据将来自移动设备上的数据库。

您可以在数据库 [约束](#constraints) 的帮助下过滤显示的数据。 然而，如果您想限制数据不是针对一个小部件，而是针对几个小部件， 您可能想要对实体应用 [访问规则](access-rules) ，而不是数据库限制。 这种方式你知道对象将永远受到这些规则的约束。 当执行可节省您重复限制的微流时，访问规则也将被应用。

## 2 属性

### 2.1 实体(道路)

**实体 (路径)** 属性指定了数据库查询的目标。 如果您拥有顶级数据小部件, **实体 (路径)** 将直接获取选定实体的对象。 如果你有嵌套的数据部件, 你也可以选择父数据容器的实体。 在这种情况下，对象会按照关联路径检索，关联会被解析为数据库查询中的额外约束。

{{% image_container width="400" %}}![数据源示例](attachments/data-widgets/data-source-example.png)
{{% /image_container %}}

{{% alert type="info" %}}

当从内存而不是数据库检索对象时，这不同于 [关联数据源](association-source)。

{{% /报警 %}}

### 2.2 显示搜索栏 {#show-search-bar}

**显示搜索栏** 仅适用于数据网格。 您可以选择显示数据网格的 **[搜索栏](search-bar)**

| 值                  | 描述                                                                 |
| ------------------ | ------------------------------------------------------------------ |
| 从不使用               | 没有显示搜索栏或搜索按钮。 有效禁用搜索。                                              |
| 按钮(最初打开)           | 最终用户可以使用 [**搜索** 按钮](control-bar#search-button)打开和关闭搜索栏；搜索栏最初是打开的。 |
| 使用按钮 (初始关闭) *(默认)* | 用户可以使用搜索按钮打开并关闭搜索栏；搜索栏最初已关闭。                                       |
| 总是显示               | 搜索栏总是可见的，无法关闭，也没有搜索按钮。                                             |

### 2.3 等待搜索

**等候搜索** 属性可用，如果 **[显示搜索栏](#show-search-bar)** 设置为 *按钮(最初打开)* 或 *总是*

当 **等待搜索** 设置为 *是*时，最终用户开始搜索的内容仍然是空的。 如果目标实体包含一系列极大的对象，那么这可能是有用的，但大多数突变只需要一个数据子集。 等待搜索将确保在指定所需子集之前不执行数据库查询， 因此跳过与主要数据检索相关的初始加载期。

默认： *false*

### 2.4{#constraints}

制约因素允许对显示的数据进行自定义和硬编码限制。 这种限制将适用于安全方面的限制。 例如，如果您的实体有一个访问规则，使它只适合用户读取和/或有一个 XPath 约束， XPath 约束将首先应用。

每个约束包含一个 **属性**, 一个 **运算符**, 和 **值**:

![约束示例](attachments/data-widgets/constraint-example.png)

多重限制会限制更多的数据 (逻辑运算符 **和**)。 无法在约束下使用逻辑运算符 **或** 但您可以切换到 [XPath 数据源](xpath-source) 并创建一个 XPath 限制。

{{% alert type="warning" %}}

限制因素平等适用于所有用户，只适用于单个数据部件中显示的数据。 如果目标是限制用户访问特定数据子集，那么应该使用实体的 [访问规则](access-rules) ，因为它们可以应用于个人用户角色，并应用于整个系统。

{{% /报警 %}}

## 3 阅读更多

* [数据部件](data-widgets)
* [数据网格](数据网格)