---
title: "布局"
parent: "页面"
---

## 1 导言

布局指定了什么位置。 每个 [页面](page) 基于一个布局。 布局包含基于该布局的每个页面返回的部件和结构。 例如，在布局中放置菜单栏小部件是常见的，以便菜单在所有页面上都可见。

布局由内容和 [占位符](placeholder) 组成。 内容应该包含在每个页面中使用布局，从导航栏到签出按钮。 占位符是空的区域，后来形成画布使用布局的任何页面。 每个页面的布局内容保持不变，但是占位符覆盖每个页面独有的内容。

布局可以基于其他布局，在这种情况下，通用布局称为主布局。 如果布局有主布局，它可以使用主定义的占位符来创建一个更专业化的配置。 如果一个页面基于这个专门布局， 它使用在新布局中定义的占位符，忽略主布局的占位符。

![](attachments/16713875/16843991.png)

这个链条可以是必要的长度。 与整个项目中使用的通用布局作为更具体的数据输入布局的主布局， 反过来，用作专门编辑用户布局的主布局。

当在浏览器中打开一个新页面时， 如果新页面重新使用布局，在布局中找到的内容不会被重新加载。 也就是说，如果用户从第A页过渡到第B页，两者都使用布局X， 占位符内容已刷新，但布局内容不受影响。 这允许在页面之间进行导航，同时不丢失宝贵的输入或对不需要的元素进行昂贵的刷新。 示例场景包括一个标签容器，不需要用户在每次打开新页面时选择正确的标签页， 或者每次刷新后不应清除用户输入的侧边栏菜单。

Mendix 将智能检测页面共享布局，因此不需要用户输入。 这也适用于嵌套布局。 如果两个页面有不同的布局，但这些布局共享一个共同的主布局，子布局将重新加载，但主布局将保持静态状态。

## 2 占位符管理<a name="phm"></a>

{{% alert type="info" %}}

本节描述的映射占位符的方法是 Mendix 7.9.0。 旧版本使用 [6页面生成属性](#pgp) 中描述的占位符属性。

{{% /报警 %}}

布局包含一个或多个占位符。 其中一个占位符必须命名为 **Main**, 并且可以用黑暗的蓝色来区分它。 与大多数其他部件不同，占位符的名称具有特殊意义。 当用户切换页面从一个布局到另一个布局。 占位符名称将用于映射页面内容到新布局。 对于每个在当前布局中有内容的占位符，Modeler将在新布局中搜索具有相同名称的占位符。 由于主占位符是强制性的，用户总是可以确保至少有一部分页面内容会被挽救。 在新布局中不存在的占位符中发现的任何内容都将在画布上移。 它可以很容易地通过新的占位人重新分配。

占位符命名方案也会对 [页面模板](page-templates) 产生影响。 当创建一个新页面时，模板将根据预览布局中占位符的名称映射其内容。 因此，模板可以描述在选定布局中不可用的占位符的内容。 为了防止这种情况，当点击创建新页面对话框中的页面模板时，将自动预选兼容的布局。 如果您手动选择不兼容的布局，缺失占位符的所有内容将被丢弃。

由于这种行为， 如果一个项目的所有布局都遵守相同或类似的命名办法，用户体验就可以大大改善。 这将确保可以自由轮换布局，而不必考虑对每个占位者内容的影响。

## 3 个公共属性

{{% snippet file="refguide7/Document+Name+Property.md" %}}

{{% snippet file="refguide7/Documentation+Property.md" %}}

{{% snippet file="refguide7/Document+Class+Property.md" %}}

{{% snippet file="refguide7/Style+Property.md" %}}

## 4 设计师属性

{{% snippet file="refguide7/Canvas+Width+Property.md" %}}

{{% snippet file="refguide7/Canvas+Hight+Property.md" %}}

## 5 个一般属性

### 5.1 主布局

此属性指定了布局所基于的主布局。 如果没有指定主布局，布局包含单个小部件 (例如) a [滚动容器](scroll-container))，定义基于此布局的页面结构。 如果指定了主布局，此布局将填补主布局定义的空白。 您可以通过使用 [占位符](placeholder) 在这个布局中引入新的空白。

### 5.1 布局类型<a name="layout-type"></a>

每个布局都有一个布局类型，它决定布局的目的以及如何打开一个使用布局的页面。

| 布局类型       | 描述                                                                   |
| ---------- | -------------------------------------------------------------------- |
| **响应性**    | 在所有类型设备上使用此布局. [布局网格](layout-grid) 和其他小部件可以创建响应页面。                   |
| **绘图板特定的** | 如果响应选项不够，则对平板电脑上的页面使用此布局 (例如) 如果必须支持不同的用户接口使用情况)。                    |
| **专用电话**   | 如果响应选项不够，请对手机上的页面使用此布局 (例如) 如果必须支持不同的用户接口使用情况)。                      |
| **弹出模式**   | 对于应该以 [格式弹出窗口](https://www.wikiwand.com/en/Modal_window) 出现的页面使用此布局。 |
| **弹出窗口**   | 将此布局用于显示为无建制弹出窗口的页面。                                                 |

## 6 页生成属性<a name="pgp"></a>

{{% alert type="warning" %}}

此部分 (和下面描述的占位符属性) 已经在 Mendix 7.9.0 中被移除，以利于基于名称的占位符映射。 欲了解完整的解释，请参阅 [2 占位管理](#phm)。

{{% /报警 %}}

### 6.1 主占位符

此属性定义了 Moderr 在生成页面时放置页面内容的占位符。 例如，当您生成一个编辑页面的数据网格按钮时， 结果页面将包含主要占位符间隙的数据视图。

### 6.2 保存按钮占位符

此属性定义了 Moderr 在生成页面时放置保存按钮的占位符。 如果未定义保存按钮占位符，则保存按钮将在可能时放入数据视图控制栏。

### 6.3 取消按钮占位符

此属性定义了 Moderr 在生成页面时放置取消按钮的占位符。 如果未定义保存按钮占位符，取消按钮将会在数据视图控制栏中显示。
